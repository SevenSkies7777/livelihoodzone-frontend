{"version":3,"sources":["webpack:///src/app/features/budgets/budgets-list/budgets-list.component.ts","webpack:///src/app/features/budgets/budgets-routing.module.ts","webpack:///src/app/features/budgets/budgets.module.ts"],"names":["BudgetsList","_router","headers","title","rows","key","type","fieldType","primaryField","secondaryField","actions","btnText","status","icon","disableStatus","action","modalConf","qParam","link","queryParams","current","step","pageHeaderActions","bpType","roles","event","organization","get","JSON","parse","localStorage","getItem","this","navigate","pageHeadeAction","routes","path","component","children","redirectTo","pathMatch","data","stepsKey","context","listRoute","store","endPoint","BudgetsRoutingModule","forChild","BudgetsModule"],"mappings":"yRA+BO,Y,MAAMA,EAET,YAAoBC,GAAA,KAAAA,UAEpB,KAAAC,QAAsB,CAClB,CAAEC,MAAO,gBACT,CAAEA,MAAO,iBACT,CAAEA,MAAO,kBACT,CAAEA,MAAO,kBACT,CAAEA,MAAO,UACT,CAAEA,MAAO,YAGb,KAAAC,KAAmB,CACf,CACIC,IAAK,eACLC,KAAM,SACNC,UAAW,gBACXC,aAAc,0BAElB,CAAEH,IAAK,QAASC,KAAM,YACtB,CAAED,IAAK,eAAgBC,KAAM,YAC7B,CACID,IAAK,iBACLC,KAAM,SACNC,UAAW,eACXC,aAAc,gCACdC,eAAgB,+BAEpB,CAAEJ,IAAK,SAAUC,KAAM,WAG3B,KAAAI,QAAqB,CACjB,CACIC,QAAS,SACTC,OAAQ,SACRC,MAAM,EACNC,cAAe,WACfC,OAAQ,aACRC,UAAW,CACPC,OAAQ,eACRC,KAAM,mBACNC,YAAa,CAAEC,QAAS,EAAGC,KAAM,MAK7C,KAAAC,kBAAgC,CAC5B,CACIX,QAAS,UACTC,OAAQ,SACRC,MAAM,EACNU,OAAQ,CAAC,oBACL,2BACA,sBACA,YAEJC,MAAO,CAAC,QACJ,kBACA,qBAEJR,UAAW,CACPE,KAAM,eACNC,YAAa,CAAEC,QAAS,EAAGC,KAAM,MAK7C,gBAAgBI,GACZ,MAAMC,EAAe,SAAAC,IAAA,CACjBC,KAAKC,MAAMC,aAAaC,QAAQ,iBAChC,eAAgB,MACpBC,KAAK/B,QAAQgC,SAAS,CAAC,gBAAiB,CAEpCd,YAAa,CAAEC,QAAS,EAAGM,mB,6CA1E1B1B,GAAW,Y,uBAAXA,EAAW,8SAnBhB,cACI,wBAEA,oCAAY,EAAAkC,gBAAA,MACZ,OACJ,OACA,gBACI,gBACI,0BAMJ,OACJ,Q,MAbI,4CAOoB,0BAAe,oBAAf,CAAe,aAAf,CAAe,gBAAf,CAAe,eAAf,CAAe,oBAAf,CAAe,iB,4FAUxC,G,4BClBP,MAAMC,EAAiB,CACnB,CACIC,KAAM,GACNC,UAAW,IACXC,SAAU,CACN,CAAEF,KAAM,GAAIG,WAAY,OAAQC,UAAW,QAC3C,CAAEJ,KAAM,OAAQC,UAAW,GAC3B,CACID,KAAM,MACNC,UAAW,IACXI,KAAM,CACFC,SAAU,SACVC,QAAS,qBACTC,UAAW,aAGnB,CACIR,KAAM,UACNC,UAAW,IACXI,KAAM,CACFI,MAAO,sBACPC,SAAU,uBACVF,UAAW,gBAYxB,Y,MAAMG,G,8BAAAA,I,oDAAAA,IAAoB,SAJpB,CAAC,IAAaC,SAASb,IACrB,O,GAGR,G,4BCdA,Y,MAAMc,G,8BAAAA,I,oDAAAA,IAAa,SAhBb,CACL,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,M,GAOD","file":"x","sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { get } from 'lodash';\n\n@Component({\n    selector: 'budgets-list',\n    styles: [\n        `:host{\n            width: 100%;\n        }`\n    ],\n    template: `\n        <div>\n            <page-header title=\"Calendar of Events\"\n            [actions]=\"pageHeaderActions\"\n            (navigate)=\"pageHeadeAction($event)\">\n            </page-header>\n        </div>\n        <div class=\"w-100-p d-flex px-5\">\n            <div class=\"w-100-p d-flex px-5\">\n                <dynamic-table title=\"Listing\"\n                class=\"w-100-p\" [addOrg]=\"true\"\n                [headers]=\"headers\" [no-card]=\"false\"\n                [has-action]=\"true\" store=\"organization-budgets\"\n                [hasSearch]=\"true\" [actions]=\"actions\" [rows]=\"rows\">\n                </dynamic-table>\n            </div>\n        </div>\n    `\n})\n\nexport class BudgetsList {\n\n    constructor(private _router: Router) {}\n\n    headers: Array<any> = [\n        { title: 'Organization' },\n        { title: 'Applied Total' },\n        { title: 'Approved Total' },\n        { title: 'Financial Year' },\n        { title: 'Status' },\n        { title: 'Actions' }\n    ];\n\n    rows: Array<any> = [\n        { \n            key: 'organization', \n            type: 'nested',\n            fieldType: 'nested_string',\n            primaryField: 'organization_data.name',\n        },\n        { key: 'total', type: 'currency' },\n        { key: 'actual_total', type: 'currency' },\n        { \n            key: 'financial_year', \n            type: 'nested',\n            fieldType: 'nested_range',\n            primaryField: 'financial_year_data.starts_on',\n            secondaryField: 'financial_year_data.ends_on', \n        },\n        { key: 'status', type: 'status' },\n    ];\n\n    actions:Array<any> = [\n        {\n            btnText: 'MANAGE',\n            status: 'accent',\n            icon: false,\n            disableStatus: 'FINISHED',\n            action: 'tabDetails',\n            modalConf: {\n                qParam: 'organization',\n                link: '/budgets/details',\n                queryParams: { current: 1, step: 1 },\n            }\n        },\n    ];\n\n    pageHeaderActions: Array<any> = [\n        {\n            btnText: 'ADD NEW',\n            status: 'accent',\n            icon: true,\n            bpType: ['GOVERNMENT_AGENCY', \n                'PROFESSIONAL_SPORTPERSON',\n                'SPORTS_ORGANIZATION',\n                'MINISTRY'\n            ],\n            roles: ['Admin', \n                'Budget Reviewer', \n                'Ministry Approver'\n            ],\n            modalConf: {\n                link: '/budgets/add',\n                queryParams: { current: 1, step: 1 },\n            }\n        },\n    ];\n\n    pageHeadeAction(event) {\n        const organization = get(\n            JSON.parse(localStorage.getItem('organization')), \n            'organization', null);\n        this._router.navigate(['/budgets/add'], { \n            // queryParams: { current: 1, step: 1 }\n            queryParams: { current: 1, organization }\n        }); \n    }\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { \n    PageContainerComponent \n} from '@fuse/components/page-container/page-container.component';\nimport { BudgetsList } from './budgets-list/budgets-list.component';\nimport { \n    MainWrapperComponent\n } from '@fuse/components/tabbed-wrapper/components/main-wrapper/main-wrapper.component';\nimport { \n    MainStepperWrapperComponent \n} from '@fuse/components/stepper-wrapper/components/main-wrapper/main-wrapper.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: PageContainerComponent,\n        children: [\n            { path: '', redirectTo: 'list', pathMatch: 'full' },\n            { path: 'list', component: BudgetsList },\n            {\n                path: 'add',\n                component: MainStepperWrapperComponent,\n                data: {\n                    stepsKey: 'budget',\n                    context: 'Calendar of Events',\n                    listRoute: '/budgets'\n                }\n            },\n            {\n                path: 'details',\n                component: MainWrapperComponent,\n                data: {\n                    store: 'organization-budget',\n                    endPoint: 'organization-budgets',\n                    listRoute: '/budgets',\n                }\n            }\n        ]\n    }\n]\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports : [RouterModule],\n})\n\nexport class BudgetsRoutingModule {}","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FuseSharedModule } from '@fuse/shared.module';\nimport { HttpModule } from '../../services/http/http.module';\nimport { TabbedWrapperModule } from '@fuse/components/tabbed-wrapper/tabbed-wrapper.module';\nimport { \n    StepperWrapperModule \n} from '@fuse/components/stepper-wrapper/stepper-wrapper.module';\nimport {\n    BudgetsRoutingModule\n} from './budgets-routing.module';\nimport { DynamicTableModule } from '../../../@fuse/components/dynamic-table/dynamic-table.module';\nimport { PageHeaderModule } from '../../../@fuse/components/page-header/page-header.module';\nimport { BudgetsList } from './budgets-list/budgets-list.component';\n\n@NgModule({\n    imports: [\n        HttpModule,\n        CommonModule,\n        RouterModule,\n        PageHeaderModule,\n        FuseSharedModule,\n        DynamicTableModule,\n        TabbedWrapperModule,\n        StepperWrapperModule,\n        BudgetsRoutingModule,\n    ],\n    declarations: [\n        BudgetsList\n    ],\n})\n\nexport class BudgetsModule {}"]}