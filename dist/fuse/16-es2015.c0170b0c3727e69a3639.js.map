{"version":3,"sources":["webpack:///src/app/services/auth-checkers.service.ts","webpack:///src/app/features/financial-years/financial-years-routing.module.ts","webpack:///src/app/features/financial-years/financial-years-list/financial-year-list.component.ts","webpack:///src/app/features/financial-years/financial-years.module.ts","webpack:///src/@fuse/components/page-container/page-container.component.ts"],"names":["AuthCheckerService","_authConfig","allowedOrgTypes","roles","orgType","get","JSON","parse","localStorage","getItem","organization","user","this","getUser","isUndefined","indexOf","currOrg","find","organizations","group_name","isNull","group","routes","path","component","children","redirectTo","pathMatch","FinancialYearsList","headers","title","topActions","btnText","status","action","conf","context","store","rows","key","type","actions","icon","disableStatus","modalConf","titleKey","FinancialYearsRoutingModule","forChild","FinancialYearsModule","PageContainerComponent"],"mappings":"8FACA,0EAKO,Y,MAAMA,EACT,YAAoBC,GAAA,KAAAA,cAIpB,gBAAgBC,EAAiBC,GAC7B,MAAMC,EAAU,SAAAC,IAAA,CAAIC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAkB,YAChEC,EAAe,SAAAL,IAAA,CAAIC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAkB,gBACrEE,EAAOL,KAAKC,MAAMK,KAAKX,YAAYY,WACzC,GAAI,SAAAC,YAAA,CAAYX,GACZ,OAAO,SAAAY,QAAA,CAAQb,EAAiBE,IAAY,EACzC,CACH,MAAMY,EAAU,SAAAC,KAAA,CAAKN,EAAKO,cAAe,CAAER,gBAAgB,MAC3D,OAAS,SAAAK,QAAA,CAAQZ,EAAOa,EAAQG,aAAe,GACxC,SAAAC,OAAA,CAAOJ,EAAQK,SACf,SAAAN,QAAA,CAAQb,EAAiBE,IAAY,I,6CAf3CJ,GAAkB,Y,yBAAlBA,EAAkB,QAAlBA,EAAkB,Y,GAAxB,I,sLCAP,MAAMsB,EAAiB,CACnB,CACIC,KAAM,GACNC,UAAW,IACXC,SAAU,CACN,CAAEF,KAAM,GAAIG,WAAY,OAAQC,UAAW,QAC3C,CAAEJ,KAAM,OAAQC,UCcrB,M,MAAMI,EAxBb,cAyBI,KAAAC,QAAsB,CAClB,CAAEC,MAAO,aACT,CAAEA,MAAO,WACT,CAAEA,MAAO,cACT,CAAEA,MAAO,kBACT,CAAEA,MAAO,YAGb,KAAAC,WAAyB,CACrB,CACIC,QAAS,SACTC,OAAQ,UACRC,OAAQ,SACRC,KAAM,CACFC,QAAS,iBACTC,MAAO,+BACPL,QAAS,UAKrB,KAAAM,KAAmB,CACf,CAAEC,IAAK,YAAaC,KAAM,QAC1B,CAAED,IAAK,UAAWC,KAAM,QACxB,CAAED,IAAK,aAAcC,KAAM,WAC3B,CAAED,IAAK,iBAAkBC,KAAM,WAGnC,KAAAC,QAAqB,CACjB,CACIT,QAAS,OACTC,OAAQ,SACRS,MAAM,EACNC,cAAe,WACfT,OAAQ,SACRU,UAAW,CACPP,MAAO,+BACPQ,SAAU,QACVT,QAAS,kBACTJ,QAAS,W,6CAxCZJ,I,uBAAAA,EAAkB,uSAhBvB,cAAK,wBAAmD,OACxD,gBACI,gBACI,0BAQJ,OACJ,Q,MAPQ,kCAAmB,aAAnB,CAAmB,gBAAnB,CAAmB,0BAAnB,CAAmB,eAAnB,CAAmB,oBAAnB,CAAmB,iB,4FAW5B,ODJA,Y,MAAMkB,G,8BAAAA,I,oDAAAA,IAA2B,SAJ3B,CAAC,IAAaC,SAASzB,IACtB,O,GAGP,G,4BEEA,Y,MAAM0B,G,8BAAAA,I,oDAAAA,IAAoB,SAbpB,CACL,IACA,IACA,IACA,IACA,IACA,M,GAOD,I,gGChBA,Y,MAAMC,G,6CAAAA,I,uBAAAA,EAAsB,0EAJpB,yB,kCAIR","file":"x","sourcesContent":["import { Injectable } from '@angular/core';\nimport { find, get, indexOf, isNull, isUndefined } from 'lodash';\n\nimport { Authorization } from './authorization.service';\n\n@Injectable()\nexport class AuthCheckerService {\n    constructor(private _authConfig: Authorization) {\n\n    }\n\n    isActionAllowed(allowedOrgTypes, roles) {\n        const orgType = get(JSON.parse(localStorage.getItem('organization')), 'org_type');\n        const organization = get(JSON.parse(localStorage.getItem('organization')), 'organization');\n        const user = JSON.parse(this._authConfig.getUser());\n        if (isUndefined(roles)) {\n            return indexOf(allowedOrgTypes, orgType) >= 0;\n        } else {\n            const currOrg = find(user.organizations, { organization }, null);\n            return ( indexOf(roles, currOrg.group_name) >= 0 \n                || isNull(currOrg.group)) \n                && indexOf(allowedOrgTypes, orgType) >= 0;\n        }\n    }\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { PageContainerComponent } from '@fuse/components/page-container/page-container.component';\nimport { FinancialYearsList } from './financial-years-list/financial-year-list.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: PageContainerComponent,\n        children: [\n            { path: '', redirectTo: 'list', pathMatch: 'full' },\n            { path: 'list', component: FinancialYearsList },\n        ]\n    }\n]\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\n\nexport class FinancialYearsRoutingModule {}","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'document-types-list',\n    styles: [\n        `:host{\n            width: 100%;\n        }`\n    ],\n    template: `\n        <div><page-header title=\"Financial Years\"></page-header></div>\n        <div class=\"w-100-p d-flex px-5\">\n            <div class=\"w-100-p d-flex px-5\">\n                <dynamic-table title=\"Listing\"\n                class=\"w-100-p\"\n                [headers]=\"headers\" [no-card]=\"false\"\n                [has-action]=\"true\" \n                store=\"organization-financial-years\"\n                [topActions]=\"topActions\" [hasSearch]=\"true\"\n                [actions]=\"actions\" [rows]=\"rows\">\n                </dynamic-table>\n            </div>\n        </div>\n    `\n})\n\nexport class FinancialYearsList {\n    headers: Array<any> = [\n        { title: 'Starts On' },\n        { title: 'Ends On' },\n        { title: 'Is Current' },\n        { title: 'Days to Expiry' },\n        { title: 'Actions' }\n    ];\n\n    topActions: Array<any> = [\n        {\n            btnText: 'CREATE',\n            status: 'primary',\n            action: 'inline',\n            conf: {\n                context: 'Financial Year',\n                store: 'organization-financial-years',\n                btnText: 'SAVE',\n            }\n        }\n    ];\n\n    rows: Array<any> = [\n        { key: 'starts_on', type: 'date' },\n        { key: 'ends_on', type: 'date' },\n        { key: 'is_current', type: 'boolean' },\n        { key: 'days_to_expiry', type: 'string' },\n    ];\n\n    actions:Array<any> = [\n        {\n            btnText: 'EDIT',\n            status: 'accent',\n            icon: false,\n            disableStatus: 'FINISHED',\n            action: 'inline',\n            modalConf: {\n                store: 'organization-financial-years',\n                titleKey: 'title',\n                context: 'Financial Years',\n                btnText: 'SAVE',\n            }\n        },\n        // {\n        //     btnText: 'DELETE',\n        //     status: 'warn',\n        //     icon: false,\n        //     disableStatus: 'FINISHED',\n        //     customClass: 'btn-danger',\n        //     action: 'inline',\n        //     modalConf: {\n        //         store: 'organization-financial-years',\n        //         titleKey: 'title',\n        //         context: 'Document Purpose',\n        //         btnText: 'SAVE',\n        //     }\n        // }\n    ];\n}","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { FuseSharedModule } from '@fuse/shared.module';\nimport { HttpModule } from '../../services/http/http.module';\n\nimport { FinancialYearsRoutingModule } from './financial-years-routing.module';\nimport { DynamicTableModule } from '../../../@fuse/components/dynamic-table/dynamic-table.module';\nimport { PageHeaderModule } from '../../../@fuse/components/page-header/page-header.module';\nimport { FinancialYearsList } from './financial-years-list/financial-year-list.component';\n\n@NgModule({\n    imports: [\n        HttpModule,\n        RouterModule,\n        PageHeaderModule,\n        FuseSharedModule,\n        DynamicTableModule,\n        FinancialYearsRoutingModule,\n    ],\n    declarations: [\n        FinancialYearsList,\n    ],\n})\n\nexport class FinancialYearsModule {}","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'page-container',\n    template: `<router-outlet></router-outlet>`,\n    styleUrls: ['./page-container.component.scss'],\n})\n\nexport class PageContainerComponent {}"]}