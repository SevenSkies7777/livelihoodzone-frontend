{"version":3,"sources":["webpack:///src/app/services/auth-checkers.service.ts","webpack:///src/@fuse/components/page-container/page-container.component.ts","webpack:///src/app/features/organization-join-requests/organization-join-requests-list/organization-join-requests-list.component.ts","webpack:///src/app/features/organization-join-requests/organization-join-requests.module.ts","webpack:///src/app/features/organization-join-requests/organization-join-requests-routing.module.ts"],"names":["AuthCheckerService","_authConfig","allowedOrgTypes","roles","orgType","get","JSON","parse","localStorage","getItem","organization","user","this","getUser","isUndefined","indexOf","currOrg","find","organizations","group_name","isNull","group","PageContainerComponent","OrganizationJoinRequestsList","OrganizationJoinRequests","OrganizationJoinRequestsRoutingModule","routes","path","component","children","redirectTo","pathMatch","headers","title","topActions","rows","key","type","fieldType","primaryField","actions","btnText","status","icon","action","modalConf","disableStatus","store","titleKey","description","forChild"],"mappings":"8WACA,0EAKO,iBAAMA,EAAN,WACH,WAAoBC,aAAA,KAAAA,c,UADjB,O,EAAA,G,EAAA,uCAKaC,EAAiBC,GAC7B,IAAMC,EAAU,SAAAC,IAAA,CAAIC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAkB,YAChEC,EAAe,SAAAL,IAAA,CAAIC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAkB,gBACrEE,EAAOL,KAAKC,MAAMK,KAAKX,YAAYY,WACzC,GAAI,SAAAC,YAAA,CAAYX,GACZ,OAAO,SAAAY,QAAA,CAAQb,EAAiBE,IAAY,EAE5C,IAAMY,EAAU,SAAAC,KAAA,CAAKN,EAAKO,cAAe,CAAER,gBAAgB,MAC3D,OAAS,SAAAK,QAAA,CAAQZ,EAAOa,EAAQG,aAAe,GACxC,SAAAC,OAAA,CAAOJ,EAAQK,SACf,SAAAN,QAAA,CAAQb,EAAiBE,IAAY,O,2BAfjD,K,6CAAMJ,GAAkB,Y,yBAAlBA,EAAkB,QAAlBA,EAAkB,Y,EAAxB,I,gGCEA,iBAAMsB,EAAN,wB,6CAAMA,I,uBAAAA,EAAsB,0EAJpB,yB,iCAIR,I,sGCiBMC,ECKAC,ECNAC,E,4GAhBPC,EAAiB,CACnB,CACIC,KAAM,GACNC,UAAW,IACXC,SAAU,CACN,CAAEF,KAAM,GAAIG,WAAY,OAAQC,UAAW,QAC3C,CAAEJ,KAAM,OAAQC,WFWfL,EAvBb,uBAwBI,KAAAS,QAAsB,CAClB,CAAEC,MAAO,eACT,CAAEA,MAAO,gBACT,CAAEA,MAAO,gBACT,CAAEA,MAAO,UACT,CAAEA,MAAO,YAGb,KAAAC,WAAyB,GAEzB,KAAAC,KAAmB,CACf,CAAEC,IAAK,iBAAkBC,KAAM,UAC/B,CACID,IAAK,eACLC,KAAM,SACNC,UAAW,gBACXC,aAAc,0BAElB,CAAEH,IAAK,eAAgBC,KAAM,QAC7B,CAAED,IAAK,eAAgBC,KAAM,WAGjC,KAAAG,QAAqB,CACjB,CACIC,QAAS,UACTC,OAAQ,UACRC,MAAKA,EACLC,OAAQ,QACRC,UAAW,CACPC,cAAe,CAAC,WAAY,YAC5BC,MAAO,6BACPC,SAAU,QACVf,MAAO,uBACPW,OAAQ,UACRK,YAAa,4NAGbR,QAAS,YAGjB,CACIA,QAAS,SACTC,OAAQ,OACRC,MAAKA,EACLC,OAAQ,QACRC,UAAW,CACPC,cAAe,CAAC,WAAY,YAC5BC,MAAO,6BACPC,SAAU,QACVf,MAAO,sBACPW,OAAQ,SACRK,YAAa,0OAGbR,QAAS,a,sCAvDZlB,I,uBAAAA,EAA4B,gUAfjC,cAAK,wBAA8D,OACnE,gBACI,gBACI,0BAOJ,OACJ,Q,MANQ,kCAAmB,aAAnB,CAAmB,YAAnB,CAAmB,gBAAnB,CAAmB,0BAAnB,CAAmB,eAAnB,CAAmB,oBAAnB,CAAmB,iB,gGES5B,IAAME,EAAN,yB,qBAAMA,I,oDAAAA,IAAqC,SAJrC,CAAE,IAAayB,SAASxB,IACvB,O,GDSP,IAAMF,EAAN,yB,qBAAMA,I,oDAAAA,IAAwB,SAbxB,CACL,IACA,IACA,IACA,IACA,IACA,M","file":"x","sourcesContent":["import { Injectable } from '@angular/core';\nimport { find, get, indexOf, isNull, isUndefined } from 'lodash';\n\nimport { Authorization } from './authorization.service';\n\n@Injectable()\nexport class AuthCheckerService {\n    constructor(private _authConfig: Authorization) {\n\n    }\n\n    isActionAllowed(allowedOrgTypes, roles) {\n        const orgType = get(JSON.parse(localStorage.getItem('organization')), 'org_type');\n        const organization = get(JSON.parse(localStorage.getItem('organization')), 'organization');\n        const user = JSON.parse(this._authConfig.getUser());\n        if (isUndefined(roles)) {\n            return indexOf(allowedOrgTypes, orgType) >= 0;\n        } else {\n            const currOrg = find(user.organizations, { organization }, null);\n            return ( indexOf(roles, currOrg.group_name) >= 0 \n                || isNull(currOrg.group)) \n                && indexOf(allowedOrgTypes, orgType) >= 0;\n        }\n    }\n}","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'page-container',\n    template: `<router-outlet></router-outlet>`,\n    styleUrls: ['./page-container.component.scss'],\n})\n\nexport class PageContainerComponent {}","import { Component }  from '@angular/core';\n\n@Component({\n    selector: 'organization-join-requests',\n    styles: [\n        `:host{\n            width: 100%;\n        }`,\n    ],\n    template: `\n        <div><page-header title=\"Organization Join Requests\"></page-header></div>\n        <div class=\"w-100-p d-flex px-5\">\n            <div class=\"w-100-p d-flex px-5\">\n                <dynamic-table title=\"Listing\"\n                class=\"w-100-p\"\n                [headers]=\"headers\" [no-card]=\"false\" [addOrg]=\"true\"\n                [has-action]=\"true\" store=\"organization-join-requests\"\n                [topActions]=\"topActions\" [hasSearch]=\"true\"\n                [actions]=\"actions\" [rows]=\"rows\">\n                </dynamic-table>\n            </div>\n        </div>\n    `,\n})\n\nexport class OrganizationJoinRequestsList {\n    headers: Array<any> = [\n        { title: 'Requsted by' },\n        { title: 'Organization' },\n        { title: 'Requested on'},\n        { title: 'Status' },\n        { title: 'Actions' }\n    ];\n\n    topActions: Array<any> = [];\n\n    rows: Array<any> = [\n        { key: 'requester_name', type: 'string' },\n        { \n            key: 'organization', \n            type: 'nested' ,\n            fieldType: 'nested_string',\n            primaryField: 'organization_data.name',\n        },\n        { key: 'requested_on', type: 'date' },\n        { key: 'review_state', type: 'status' }\n    ];\n\n    actions:Array<any> = [\n        {\n            btnText: 'APPROVE',\n            status: 'success',\n            icon: false,\n            action: 'modal',\n            modalConf: {\n                disableStatus: ['APPROVED', 'REJECTED'],\n                store: 'organization-join-requests',\n                titleKey: 'title',\n                title: 'Approve Join Request',\n                action: 'approve',\n                description: `Kindly confirm that you would indeed like to approve\n                    the user to join this organization. The user will be able to view \n                    information associated with the following organization.`,\n                btnText: 'APPROVE',\n            }\n        },\n        {\n            btnText: 'REJECT',\n            status: 'warn',\n            icon: false,\n            action: 'modal',\n            modalConf: {\n                disableStatus: ['APPROVED', 'REJECTED'],\n                store: 'organization-join-requests',\n                titleKey: 'title',\n                title: 'Reject Join Request',\n                action: 'reject',\n                description: `Kindly confirm that you would indeed like to reject\n                    the user to join this organization. Once rejected the user will\n                    not be able to view or perform any actions for the following organization`,\n                btnText: 'REJECT',\n            }\n        },\n    ];\n}","import { Component, NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { FuseSharedModule } from '@fuse/shared.module';\nimport { HttpModule } from '../../services/http/http.module';\n\nimport { DynamicTableModule }  from '@fuse/components/dynamic-table/dynamic-table.module';\nimport { PageHeaderModule } from '@fuse/components/page-header/page-header.module';\n\nimport { \n    OrganizationJoinRequestsRoutingModule \n} from './organization-join-requests-routing.module';\n\nimport { \n    OrganizationJoinRequestsList \n} from './organization-join-requests-list/organization-join-requests-list.component';\n\n@NgModule({\n    imports: [\n        HttpModule,\n        RouterModule,\n        PageHeaderModule,\n        FuseSharedModule,\n        DynamicTableModule,\n        OrganizationJoinRequestsRoutingModule,\n    ],\n    declarations: [\n        OrganizationJoinRequestsList,\n    ],\n})\n\nexport class OrganizationJoinRequests {}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { \n    PageContainerComponent \n} from '@fuse/components/page-container/page-container.component';\nimport { \n    OrganizationJoinRequestsList \n}  from './organization-join-requests-list/organization-join-requests-list.component';\nconst routes: Routes = [\n    {\n        path: '',\n        component: PageContainerComponent,\n        children: [\n            { path: '', redirectTo: 'list', pathMatch: 'full' },\n            { path: 'list', component: OrganizationJoinRequestsList },\n        ],\n    },\n]\n\n@NgModule({\n    imports: [ RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\n\nexport class OrganizationJoinRequestsRoutingModule {}"]}