{"version":3,"sources":["webpack:///src/app/services/auth-checkers.service.ts","webpack:///src/app/features/allowances/allowances-routing.module.ts","webpack:///src/app/features/allowances/allowances-list/allowances-list.component.ts","webpack:///src/app/features/allowances/allowances.module.ts","webpack:///src/@fuse/components/page-container/page-container.component.ts"],"names":["AuthCheckerService","_authConfig","allowedOrgTypes","roles","orgType","get","JSON","parse","localStorage","getItem","organization","user","this","getUser","isUndefined","indexOf","currOrg","find","organizations","group_name","isNull","group","routes","path","component","children","redirectTo","pathMatch","AllowancesListComponent","headers","title","topActions","btnText","status","action","conf","context","store","rows","key","type","actions","icon","disableStatus","modalConf","titleKey","AllowancesRoutingModule","forChild","AllowancesModule","PageContainerComponent"],"mappings":"8FACA,0EAKO,Y,MAAMA,EACT,YAAoBC,GAAA,KAAAA,cAIpB,gBAAgBC,EAAiBC,GAC7B,MAAMC,EAAU,SAAAC,IAAA,CAAIC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAkB,YAChEC,EAAe,SAAAL,IAAA,CAAIC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAkB,gBACrEE,EAAOL,KAAKC,MAAMK,KAAKX,YAAYY,WACzC,GAAI,SAAAC,YAAA,CAAYX,GACZ,OAAO,SAAAY,QAAA,CAAQb,EAAiBE,IAAY,EACzC,CACH,MAAMY,EAAU,SAAAC,KAAA,CAAKN,EAAKO,cAAe,CAAER,gBAAgB,MAC3D,OAAS,SAAAK,QAAA,CAAQZ,EAAOa,EAAQG,aAAe,GACxC,SAAAC,OAAA,CAAOJ,EAAQK,SACf,SAAAN,QAAA,CAAQb,EAAiBE,IAAY,I,6CAf3CJ,GAAkB,Y,yBAAlBA,EAAkB,QAAlBA,EAAkB,Y,GAAxB,I,0MCDP,MAAMsB,EAAiB,CACnB,CACIC,KAAM,GACNC,UAAW,IACXC,SAAU,CACN,CAAEF,KAAM,GAAIG,WAAY,OAAQC,UAAW,QAC3C,CAAEJ,KAAM,OAAQC,UCcrB,M,MAAMI,EAvBb,cAwBI,KAAAC,QAAsB,CAClB,CAAEC,MAAO,SACT,CAAEA,MAAO,SACT,CAAEA,MAAO,eACT,CAAEA,MAAO,WAGb,KAAAC,WAAyB,CACrB,CACIC,QAAS,SACTC,OAAQ,UACRC,OAAQ,SACRC,KAAM,CACFC,QAAS,YACTC,MAAO,aACPL,QAAS,UAKrB,KAAAM,KAAmB,CACf,CAAEC,IAAK,OAAQC,KAAM,UACrB,CAAED,IAAK,SAAUC,KAAM,YACvB,CAAED,IAAK,cAAeC,KAAM,WAGhC,KAAAC,QAAsB,CAClB,CACIT,QAAS,OACTC,OAAQ,SACRS,MAAM,EACNC,cAAe,WACfT,OAAQ,SACRU,UAAW,CACPP,MAAO,aACPQ,SAAU,QACVT,QAAS,aACTJ,QAAS,W,6CAtCZJ,I,uBAAAA,EAAuB,4QAf5B,cAAK,wBAA8C,OACnD,gBACI,gBACI,0BAOJ,OACJ,Q,MANQ,kCAAmB,aAAnB,CAAmB,gBAAnB,CAAmB,0BAAnB,CAAmB,eAAnB,CAAmB,oBAAnB,CAAmB,iB,4FAU5B,ODJA,Y,MAAMkB,G,8BAAAA,I,oDAAAA,IAAuB,SAJvB,CAAC,IAAaC,SAASzB,IACtB,O,GAGP,GEGA,Q,MAAM0B,G,8BAAAA,I,oDAAAA,IAAgB,SAbhB,CACL,IACA,IACA,EACA,IACA,IACA,Q,GAOD,I,gGChBA,Y,MAAMC,G,6CAAAA,I,uBAAAA,EAAsB,0EAJpB,yB,kCAIR","file":"x","sourcesContent":["import { Injectable } from '@angular/core';\nimport { find, get, indexOf, isNull, isUndefined } from 'lodash';\n\nimport { Authorization } from './authorization.service';\n\n@Injectable()\nexport class AuthCheckerService {\n    constructor(private _authConfig: Authorization) {\n\n    }\n\n    isActionAllowed(allowedOrgTypes, roles) {\n        const orgType = get(JSON.parse(localStorage.getItem('organization')), 'org_type');\n        const organization = get(JSON.parse(localStorage.getItem('organization')), 'organization');\n        const user = JSON.parse(this._authConfig.getUser());\n        if (isUndefined(roles)) {\n            return indexOf(allowedOrgTypes, orgType) >= 0;\n        } else {\n            const currOrg = find(user.organizations, { organization }, null);\n            return ( indexOf(roles, currOrg.group_name) >= 0 \n                || isNull(currOrg.group)) \n                && indexOf(allowedOrgTypes, orgType) >= 0;\n        }\n    }\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PageContainerComponent } from '@fuse/components/page-container/page-container.component';\nimport { AllowancesListComponent } from './allowances-list/allowances-list.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: PageContainerComponent,\n        children: [\n            { path: '', redirectTo: 'list', pathMatch: 'full' },\n            { path: 'list', component: AllowancesListComponent },\n        ],\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\n\nexport class AllowancesRoutingModule {}","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'allowances-list',\n    styles: [\n        `:host{\n            width: 100%;\n        }`\n    ],\n    template: `\n        <div><page-header title=\"Allowances\"></page-header></div>\n        <div class=\"w-100-p d-flex px-5\">\n            <div class=\"w-100-p d-flex px-5\">\n                <dynamic-table title=\"Listing\"\n                class=\"w-100-p\"\n                [headers]=\"headers\" [no-card]=\"false\"\n                [has-action]=\"true\" store=\"allowances\"\n                [topActions]=\"topActions\" [hasSearch]=\"true\"\n                [actions]=\"actions\" [rows]=\"rows\">\n                </dynamic-table>\n            </div>\n        </div>\n    `,\n})\n\nexport class AllowancesListComponent {\n    headers: Array<any> = [\n        { title: 'Ttile' },\n        { title: 'Rates' },\n        { title: 'Description' },\n        { title: 'Action' },\n    ];\n\n    topActions: Array<any> = [\n        {\n            btnText: 'CREATE',\n            status: 'primary',\n            action: 'inline',\n            conf: {\n                context: 'Allowance',\n                store: 'allowances',\n                btnText: 'SAVE',\n            }\n        }\n    ];\n\n    rows: Array<any> = [\n        { key: 'name', type: 'string' },\n        { key: 'amount', type: 'currency' },\n        { key: 'description', type: 'string' },\n    ];\n\n    actions: Array<any> = [\n        {\n            btnText: 'EDIT',\n            status: 'accent',\n            icon: false,\n            disableStatus: 'FINISHED',\n            action: 'inline',\n            modalConf: {\n                store: 'allowances',\n                titleKey: 'title',\n                context: 'Allowances',\n                btnText: 'SAVE',\n            },\n        }\n    ];\n}","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { FuseSharedModule } from '@fuse/shared.module';\n\nimport { DynamicTableModule } from '@fuse/components/dynamic-table/dynamic-table.module';\nimport  { PageHeaderModule } from '@fuse/components/page-header/page-header.module';\nimport { HttpModule } from 'app/services/http/http.module';\nimport { AllowancesRoutingModule } from './allowances-routing.module';\nimport { AllowancesListComponent } from './allowances-list/allowances-list.component';\n\n@NgModule({\n    imports: [\n        HttpModule,\n        RouterModule,\n        AllowancesRoutingModule,\n        PageHeaderModule,\n        FuseSharedModule,\n        DynamicTableModule,\n    ],\n    declarations: [\n        AllowancesListComponent,\n    ]\n})\n\nexport class AllowancesModule {}","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'page-container',\n    template: `<router-outlet></router-outlet>`,\n    styleUrls: ['./page-container.component.scss'],\n})\n\nexport class PageContainerComponent {}"]}