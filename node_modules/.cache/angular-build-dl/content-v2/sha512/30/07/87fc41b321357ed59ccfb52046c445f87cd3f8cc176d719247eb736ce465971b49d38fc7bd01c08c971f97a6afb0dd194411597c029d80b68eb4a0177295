!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/vS9":function(t,e,i){"use strict";i.d(e,"a",(function(){return k}));var n=i("SVse"),a=i("iInd"),c=i("s7LF"),r=i("Tj54"),l=i("M9ds"),s=i("PDjf"),b=i("rJgo"),d=i("iELJ"),u=i("SqCe"),g=i("Dxy4"),p=i("Q2Ze"),m=i("e6WT"),f=i("zHaW"),h=i("o4Yh"),v=i("pMoy"),T=i("pu8Q"),y=i("Tk7p"),U=i("5HBU"),_=i("RT2w"),O=i("2l/B"),A=i("HNXS"),x=i("LdEM"),N=i("8+Aj"),C=i("8Y7J"),k=function(){var t=function t(){o(this,t)};return t.\u0275mod=C.Mb({type:t}),t.\u0275inj=C.Lb({factory:function(e){return new(e||t)},providers:[x.a],imports:[[_.a,a.k,n.c,r.b,l.f,s.c,u.d,b.b,g.c,d.f,p.e,m.c,v.b,y.a,f.d,A.a,O.a,h.b,c.n,U.a,c.z,N.a,T.a]]}),t}()},"919n":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("LvDl"),c=i("8Y7J"),r=i("7ZA2"),l=function(){var t=function(){function t(e){o(this,t),this._authConfig=e}return a(t,[{key:"isActionAllowed",value:function(t,e){var i=Object(n.get)(JSON.parse(localStorage.getItem("organization")),"org_type"),a=Object(n.get)(JSON.parse(localStorage.getItem("organization")),"organization"),o=JSON.parse(this._authConfig.getUser());if(Object(n.isUndefined)(e))return Object(n.indexOf)(t,i)>=0;var c=Object(n.find)(o.organizations,{organization:a},null);return(Object(n.indexOf)(e,c.group_name)>=0||Object(n.isNull)(c.group))&&Object(n.indexOf)(t,i)>=0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Yb(r.a))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac}),t}()},LdEM:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n,c=i("LvDl"),r=[{key:"application",tabs:[{store:"applications",label:"Basic Details",content:"form",context:"Application",parentKey:"organization",count:1,formConf:{store:"applications",cancelTxt:"CANCEL",nextTxt:"SAVE",addStore:"applications",editStore:"applications",getStore:"applications"},detailsConf:[{label:"Applied Amount",key:"total",icon:"account_balance",type:"currency"},{label:"Required By",key:"date_requested",icon:"calendar_today",type:"date"},{label:"Financial Year",key:"financial_year",icon:"calendar_today",type:"nested",fieldType:"nested_range",primaryField:"financial_year_data.starts_on",secondaryField:"financial_year_data.ends_on"},{label:"Status",key:"status",icon:"assessment",type:"status"}],bankConfs:[{title:"Account Name",key:"account_name"},{title:"Account #",key:"account_number"},{title:"Bank",key:"bank_name"},{title:"Branch",key:"branch_name"}],extraDetails:"extraDetails",auditTrail:!0,applicationME:!0,activitySummary:!0},{store:"application-items",label:"Billable Items",modelKey:"application",content:"grid",listParams:{member_null:!0},gridConf:{getStore:"application-items",editStore:"application-items"},topActions:[{btnText:"ADD BILLABLE ITEM",status:"info",icon:"true",action:"inline",conf:{context:"BILLABLE ITEM",store:"application-items",btnText:"SAVE"}}],rows:[{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_string",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"activity_details",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_status_total",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_totals",primaryField:"item_data.name"}],headers:[{title:"Item"},{title:"Activity Item"},{title:"Total"},{title:"Approved Totals"},{title:"Actions",oderable:!1,searchable:!1}],dropDownActions:[{btnText:"Edit",status:"info",icon:"edit",disableStatus:"FINISHED",action:"inline",modalConf:{store:"application-items",titleKey:"item",context:"Billable Item",btnText:"SAVE"}},{btnText:"Rationalize",status:"draft",icon:"compare_arrows",disableStatus:"FINISHED",class:"text-success",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"rationalize",btnText:"SAVE",width:"50%"}},{btnText:"Approve",status:"rationalized",icon:"check",class:"text-success",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"approve",btnText:"SAVE",width:"50%"}},{btnText:"Reject",status:"rationalize",icon:"close",class:"text-danger",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"reject",btnText:"SAVE",width:"50%"}}]},{store:"application-attendees",label:"Attendees",content:"grid",modelKey:"application",listParams:{member_null:!1},gridConf:{getStore:"application-attendees",editStore:"application-attendees"},topActions:[{btnText:"ADD ATTENDEE",status:"info",icon:"true",action:"inline",conf:{context:"ATTENDEE",store:"application-attendees",btnText:"SAVE"}}],rows:[{key:"item",type:"compact-line",context:"attendees",fieldType:"nested_string",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"activity_details",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_status_total",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_totals",primaryField:"item_data.name"}],headers:[{title:"Member"},{title:"Activity Details"},{title:"Totals"},{title:"Approved Totals"},{title:"Actions",oderable:!1,searchable:!1}],dropDownActions:[{btnText:"Edit",status:"info",icon:"edit",disableStatus:"FINISHED",action:"inline",modalConf:{store:"application-items",titleKey:"item",context:"Billable Item",btnText:"SAVE"}},{btnText:"Rationalize",status:"draft",icon:"compare_arrows",disableStatus:"FINISHED",class:"text-success",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"rationalize",btnText:"SAVE",width:"50%"}},{btnText:"Approve",status:"rationalized",icon:"check",class:"text-success",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"approve",btnText:"SAVE",width:"50%"}},{btnText:"Reject",status:"rationalize",icon:"close",class:"text-danger",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"reject",btnText:"SAVE",width:"50%"}}]},{store:"application-allowances",label:"Allowances",content:"nested-inline-list",getStore:"application-allowances",editStore:"application-allowances",gridConf:{getStore:"application-allowances",editStore:"application-allowances"},topActions:[{btnText:"ADD ALLOWANCE",status:"info",icon:"true",action:"inline",conf:{context:"ALLOWANCE",store:"application-allowances",btnText:"SAVE"}}],rows:[{key:"item",type:"compact-line",context:"allowances",fieldType:"nested_member",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_status_total",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_totals",primaryField:"item_data.name"}],headers:[{title:"Allowance"},{title:"Totals"},{title:"Approved Totals"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"application-allowances",titleKey:"item",context:"Allowance",btnText:"SAVE"}}]},{store:"users",label:"Attachments",content:"attachments",gridConf:{getStore:"organisations",editStore:"organisations"},topActions:[{btnText:"ADD USER",status:"info",icon:"true",action:"inline",conf:{context:"USER",store:"users",btnText:"SAVE"}}],rows:[{key:"first_name",type:"string"},{key:"last_name",type:"string"},{key:"phone_number",type:"string"},{key:"email",type:"string"}],headers:[{title:"Names"},{title:"."},{title:"Phone Number"},{title:"Email"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"users",titleKey:"name",context:"Users",btnText:"SAVE"}}]},{store:"application-alternate-funding-sources",label:"Alternative Funds",content:"grid",modelKey:"application",gridConf:{getStore:"application-alternate-funding-sources",editStore:"application-alternate-funding-sources"},topActions:[{btnText:"ADD ALTERNATIVE FUND",status:"info",icon:"true",action:"inline",conf:{context:"ALTERNATIVE FUNDING",store:"application-alternate-funding-sources",btnText:"SAVE"}}],rows:[{key:"entity_name",type:"string"},{key:"estimated_amount",type:"currency"},{key:"description",type:"string"}],headers:[{title:"Entity Name"},{title:"Estimated Amount"},{title:"Description"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"application-alternate-funding-sources",titleKey:"entity_name",context:"Alternative Funding",btnText:"SAVE"}}]}],headerConfig:{icon:"assignment",headerLabel:"Application",headerValue:"id",subTitleLabel:"By",subTitleValue:"organization_data.name",actions:[{btnText:"SUBMIT",action:"submit",color:"default",context:"APPLICATION",activeStates:["DRAFT"],bpType:["GOVERNMENT_AGENCY","PROFESSIONAL_SPORTPERSON","SPORTS_ORGANIZATION","MINISTRY"],roles:["Admin","Budget Reviewer","Ministry Approver"],configs:{title:"Submit Application",context:"APPLICATION",store:"applications",action:"update",description:"Kindly verify that you would indeed like to\n                            submit the following application for review. Once submitted \n                            you will not be able to make any further updates to it. \n                            Click Submit below to proceed"}},{btnText:"AUTHORIZE",action:"approve",context:"APPLICATION",color:"default",activeStates:["SUBMITTED"],bpType:["MINISTRY","SASDEF"],roles:["Ministry Approver","SASDEF Admin"],configs:{title:"Authorize Application",context:"APPLICATION",store:"application-reviews",action:"authorizeApplication",description:"Kindly verify that you would indeed like to\n                            authorize the following application. Confirm that you have reviewed\n                            and authorize the application before you can\n                            continue",revisedAmount:!0,reviewAttachment:!1}},{btnText:"APPROVE",action:"approve",context:"APPLICATION",color:"default",activeStates:["FIRST_LEVEL_APPROVED"],bpType:["SASDEF"],roles:["Ministry Approver","SASDEF Admin"],configs:{title:"Approve Application",context:"APPLICATION",store:"application-reviews",action:"finalApproveApplication",description:"Kindly verify that you would indeed like to\n                            approve the following application. Confirm that you have reviewed\n                            and approve the application before you can\n                            continue",approveNested:!1,reviewAttachment:!0}},{btnText:"REJECT",action:"reject",context:"APPLICATION",color:"warn",activeStates:["FIRST_LEVEL_APPROVED","SUBMITTED"],bpType:["MINISTRY","SASDEF"],roles:["Ministry Approver","SASDEF Admin"],configs:{title:"Reject Application",context:"APPLICATION",store:"application-reviews",action:"rejectApplication",description:"Kindly verify that you would indeed like to\n                            reject the following application. Confirm that you have reviewed\n                            and reject the application before you can\n                            continue",comment:!0}}]}},{key:"organization-budget",headerConfig:{icon:"work",headerLabel:"Calendar of Event",headerValue:"id",subTitleLabel:"By",subTitleValue:"organization_data.name",actions:[{btnText:"SUBMIT",action:"submit",color:"default",context:"CALENDAR OF EVENTS",activeStates:["DRAFT"],bpType:["GOVERNMENT_AGENCY","PROFESSIONAL_SPORTPERSON","SPORTS_ORGANIZATION","MINISTRY"],roles:["Admin","Budget Reviewer","Ministry Approver"],configs:{title:"Submit Calendar of Events",context:"CALENDAR OF EVENTS",store:"organization-budgets",action:"update",description:"Kindly verify that you would indeed like to\n                            submit the following calendar of events. Once submitted you will not\n                            be able to make any further updates to it. Click Submit\n                            below to proceed"}},{btnText:"RATIONALIZE",action:"rationalize",context:"CALENDAR OF EVENTS",color:"default",activeStates:["SUBMITTED"],bpType:["MINISTRY"],roles:["Admin","Budget Reviewer","Ministry Approver"],configs:{title:"Rationalize Calendar of Events",context:"CALENDAR OF EVENTS",store:"organization-budget-reviews",action:"rationalize",description:"Kindly verify that you would indeed like to \n                            rationalize the following calendar of events. Confirm that you have reviewed\n                            and rationalized or rejected activities and activity lines before you can\n                            continue",approveNested:!1,comment:!1}},{btnText:"APPROVE",action:"approve",context:"CALENDAR OF EVENTS",color:"default",activeStates:["RATIONALIZED"],bpType:["SASDEF"],roles:["Budget Reviewer","Ministry Approver","SASDEF Admin"],configs:{title:"Approve Calendar of Events",context:"CALENDAR OF EVENTS  ",store:"organization-budget-reviews",action:"approve",description:"Kindly verify that you would indeed like tO\n                            approve the following calendar of events. Confirm that you have reviewed\n                            and approved or rejected activities and activity lines before you can\n                            continue",approveNested:!1,comment:!1}},{btnText:"REJECT",action:"reject",context:"CALENDAR OF EVENTS",color:"warn",activeStates:["SUBMITTED","RATIONALIZED"],bpType:["MINISTRY","SASDEF"],roles:["Budget Reviewer","Ministry Approver","SASDEF Admin"],configs:{title:"Reject Calendar of Events",context:"CALENDAR OF EVENTS",hasComment:!0,store:"organization-budget-reviews",action:"reject",description:"Kindly verify that you would indeed like to\n                            reject the following calendar of events. Once rejected you will\n                            not be able to approve any of the activities or activity",comment:!0}}]},tabs:[{store:"organizaation-budgets",label:"Basic Details",content:"form",icon:"work",context:"Calendar of Events",count:1,formConf:{store:"organization-budgets",cancelTxt:"CANCEL",nextTxt:"SAVE",addStore:"organization-budgets",editStore:"organization-budgets",getStore:"organization-budgets"},detailsConf:[{label:"Applied Total",key:"total",icon:"account_balance",type:"currency"},{label:"Financial Year",key:"financial_year",icon:"calendar_today",type:"nested",fieldType:"nested_range",primaryField:"financial_year_data.starts_on",secondaryField:"financial_year_data.ends_on"},{label:"Status",key:"status",icon:"assessment",type:"status"},{label:"Organization Type",key:"organization",icon:"business",type:"nested",fieldType:"nested_string",primaryField:"organization_data.org_type_code"}],auditTrail:!0,orgSummary:!0,attachments:!0,totalsSummary:!0},{store:"branches",label:"Activities",content:"nested-list"},{store:"users",label:"Attachments",content:"attachments",gridConf:{getStore:"organisations",editStore:"organisations"},topActions:[{btnText:"ADD USER",status:"info",icon:"true",action:"inline",conf:{context:"USER",store:"users",btnText:"SAVE"}}],rows:[{key:"first_name",type:"string"},{key:"last_name",type:"string"},{key:"phone_number",type:"string"},{key:"email",type:"string"}],headers:[{title:"Names"},{title:"."},{title:"Phone Number"},{title:"Email"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"users",titleKey:"name",context:"Users",btnText:"SAVE"}}]}]},{key:"organization",tabs:[{store:"organisations",label:"Basic Details",content:"form",count:1,formConf:{store:"organisations",cancelTxt:"CANCEL",nextTxt:"SAVE",addStore:"organisations",editStore:"organisations",getStore:"organisations"},detailsConf:[{label:"Name",key:"name",icon:"business"},{label:"Organization Type",key:"org_type_code",icon:"account_balance"},{label:"Phone #",key:"phone_number",icon:"phone"},{label:"Email",key:"email",icon:"email"}],bankConfs:[{title:"Account Name",key:"account_name"},{title:"Account #",key:"account_number"},{title:"Bank",key:"bank_name"},{title:"Branch",key:"branch_name"}]},{store:"organization-members",label:"Athletes & Officials",content:"grid",modelKey:"organization",gridConf:{getStore:"organization-members",editStore:"organization-members"},topActions:[{btnText:"ADD MEMBER",status:"info",icon:"true",action:"inline",conf:{context:"MEMBER",store:"organization-members",btnText:"SAVE"}}],rows:[{key:"federation_number",fieldType:"nested_string",type:"nested",primaryField:"user.federation_number"},{key:"user.first_name",fieldType:"nested_multistrings",type:"nested",primaryField:"user.first_name",secondaryField:"user.last_name"},{key:"user.dob",fieldType:"nested_string",type:"nested",primaryField:"user.dob"},{key:"user.email",fieldType:"nested_string",type:"nested",primaryField:"user.email"},{key:"user.phone_number",fieldType:"nested_string",type:"nested",primaryField:"user.phone_number"},{key:"sports_category",type:"nested",fieldType:"nested_string",primaryField:"sports_category_data.name"}],headers:[{title:"Federation #"},{title:"Names"},{title:"Date of Birth"},{title:"Email"},{title:"Phone #"},{title:"Sports Category"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"organization-members",titleKey:"first_name",context:"MEMBER",btnText:"SAVE"}}]}]}],l=i("8Y7J"),s=((n=function(){function t(){o(this,t),this.configArray=r}return a(t,[{key:"getTabs",value:function(t){return c.find(this.configArray,{key:t})}}]),t}()).\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Kb({token:n,factory:n.\u0275fac}),n)},nH2V:function(e,n,c){"use strict";c.d(n,"a",(function(){return ei}));var r=c("HDdC"),l=c("LvDl"),s=c("buby"),b=c("s7LF"),d=c("iELJ"),u=c("8Y7J"),g=c("zHaW"),p=c("SVse"),m=c("pMoy"),f=c("Tj54"),h=c("Dxy4"),v=c("Q2Ze"),T=c("e6WT");function y(t,e){if(1&t){var i=u.Vb();u.Ub(0,"li"),u.Ub(1,"div",16),u.Ub(2,"div"),u.Ub(3,"mat-checkbox",17),u.cc("ngModelChange",(function(t){return u.Bc(i),e.$implicit.approved=t}))("ngModelChange",(function(){return u.Bc(i),u.gc(2).updateAllApproved()})),u.Ub(4,"div",18),u.Ub(5,"div",19),u.Nc(6),u.Tb(),u.Ub(7,"div",20),u.Ub(8,"div",21),u.Ub(9,"span",11),u.Nc(10,"Amount:"),u.Tb(),u.Nc(11),u.hc(12,"currency"),u.Tb(),u.Ub(13,"div",22),u.Ub(14,"div"),u.Ub(15,"mat-icon",21),u.Nc(16,"calendar_today"),u.Tb(),u.Tb(),u.Ub(17,"div",23),u.Nc(18),u.hc(19,"date"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pb(20,"div"),u.Tb(),u.Tb()}if(2&t){var n=e.$implicit;u.Bb(3),u.nc("ngModel",n.approved),u.Bb(3),u.Pc(" ",null==n?null:n.title," "),u.Bb(5),u.Pc(" ",u.jc(12,4,null==n?null:n.estimated_amount,"Kshs ")," "),u.Bb(7),u.Oc(u.jc(19,7,null==n?null:n.activity_date,"dd-MM-yyyy"))}}function U(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",8),u.Ub(1,"div",9),u.Ub(2,"mat-checkbox",10),u.cc("change",(function(t){return u.Bc(i),u.gc().setAllApproved(t.checked)})),u.Ub(3,"span",11),u.Nc(4,"Select to approve all activities"),u.Tb(),u.Tb(),u.Tb(),u.Pb(5,"div",12),u.Ub(6,"div",13),u.Ub(7,"ul",14),u.Lc(8,y,21,10,"li",15),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(2),u.nc("checked",n.allApproved)("indeterminate",n.someApproved()),u.Bb(6),u.nc("ngForOf",n.activities)}}function _(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",24),u.Ub(1,"div",25),u.Ub(2,"input",26),u.cc("change",(function(t){return u.Bc(i),u.gc().fileChange(t)})),u.Tb(),u.Ub(3,"label",27),u.Ub(4,"div",28),u.Ub(5,"mat-icon",24),u.Nc(6),u.Tb(),u.Tb(),u.Ub(7,"div",29),u.Nc(8),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(2),u.nc("hidden",!0),u.Bb(4),u.Pc(" ",n.fileName?"attachment":"cloud_upload"," "),u.Bb(2),u.Pc(" ",n.fileName||"Upload Approval Attachments"," ")}}function O(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",30),u.Ub(1,"button",31),u.cc("click",(function(){return u.Bc(i),u.gc().closeDialog()})),u.Nc(2,"CLOSE"),u.Tb(),u.Ub(3,"button",32),u.cc("click",(function(){u.Bc(i);var t=u.gc();return t.dialogActions[t.data.configs.action]()})),u.Nc(4),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(3),u.Gb("spinner",n.loading),u.nc("disabled",n.loading),u.Bb(1),u.Pc(" ",(null==n.data?null:n.data.action)||"SUBMIT"," ")}}function A(t,e){1&t&&(u.Ub(0,"div"),u.Nc(1," Comment is required "),u.Tb())}function x(t,e){if(1&t&&(u.Ub(0,"div",43),u.Lc(1,A,2,0,"div",44),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.nc("ngIf",i.f.comment.errors.required)}}function N(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",33),u.Ub(1,"form",34),u.cc("ngSubmit",(function(){u.Bc(i);var t=u.gc();return t.submitComment(t.commentForm)})),u.Ub(2,"div",35),u.Ub(3,"div",36),u.Ub(4,"mat-form-field",37),u.Ub(5,"mat-label"),u.Nc(6,"Enter a comment"),u.Tb(),u.Pb(7,"textarea",38),u.Tb(),u.Tb(),u.Lc(8,x,2,1,"div",39),u.Tb(),u.Ub(9,"div",40),u.Ub(10,"button",41),u.cc("click",(function(){return u.Bc(i),u.gc().closeDialog()})),u.Nc(11,"CLOSE"),u.Tb(),u.Ub(12,"button",42),u.Nc(13,"SUBMIT"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(1),u.nc("formGroup",n.commentForm),u.Bb(7),u.nc("ngIf",n.f.comment.invalid&&(n.f.comment.touched||n.f.comment.dirty)),u.Bb(4),u.Gb("spinner",n.loading),u.nc("disabled",n.loading)}}function C(t,e){1&t&&(u.Ub(0,"div"),u.Nc(1," Approved amount is required "),u.Tb())}function k(t,e){if(1&t&&(u.Ub(0,"div",43),u.Lc(1,C,2,0,"div",44),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.nc("ngIf",i.rA.revised_amount.errors.required)}}function B(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",33),u.Ub(1,"form",34),u.cc("ngSubmit",(function(){u.Bc(i);var t=u.gc();return t.submitRevisedAmount(t.revisedAmountForm)})),u.Ub(2,"div",35),u.Ub(3,"div",36),u.Ub(4,"mat-form-field",37),u.Ub(5,"mat-label"),u.Nc(6,"Approved Amount"),u.Tb(),u.Pb(7,"input",45),u.Tb(),u.Ub(8,"div",46),u.Nc(9),u.hc(10,"currency"),u.Tb(),u.Tb(),u.Lc(11,k,2,1,"div",39),u.Tb(),u.Ub(12,"div",40),u.Ub(13,"button",41),u.cc("click",(function(){return u.Bc(i),u.gc().closeDialog()})),u.Nc(14,"CLOSE"),u.Tb(),u.Ub(15,"button",42),u.Nc(16,"SUBMIT"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(1),u.nc("formGroup",n.revisedAmountForm),u.Bb(8),u.Oc(u.jc(10,6,n.rA.revised_amount.value,"Kshs ")),u.Bb(2),u.nc("ngIf",n.rA.revised_amount.invalid&&(n.rA.revised_amount.touched||n.rA.revised_amount.dirty)),u.Bb(4),u.Gb("spinner",n.loading),u.nc("disabled",n.loading)}}var I,w=((I=function(){function t(e,i,n,a,c){var r=this;o(this,t),this.data=e,this._formBuilder=i,this._snackBar=n,this._dataLayer=a,this.dialogRef=c,this.activities=[],this.allApproved=!1,this.attachedDoc={},this.dialogActions={submitApplication:function(){r.getUserOrganization(),r.loading=!0,r.transitionDocument({comment:r.comment||"Application submitted",review_status:"SUBMITTED",organization:r.organization,application:r.data.item.id},{successMsg:"Record has been submitted successfully"})},firstApproveApplication:function(){r.getUserOrganization(),r.loading=!0,r.transitionDocument({comment:r.comment||"Application authorized",review_status:"FIRST_LEVEL_APPROVED",organization:r.organization,application:r.data.item.id},{successMsg:"Record has been authorized successfully"})},authorizeApplication:function(t){r.getUserOrganization(),r.loading=!0,r._dataLayer.update("applications",r.data.item.id,{revised_amount:t},{key:"current_org_id",value:r.organization}).subscribe((function(t){r.dialogActions.firstApproveApplication()}),(function(t){console.log(t),r._dataLayer.openDynamicSnackBar("An error occurred while authorizing application","error")}))},finalApproveApplication:function(){r.getUserOrganization(),r.loading=!0,r.transitionDocument({comment:r.comment||"Application approved",review_status:"FINAL_APPROVED",organization:r.organization,application:r.data.item.id},{successMsg:"Record has been approved successfully"})},rejectApplication:function(){r.getUserOrganization(),r.loading=!0,r.transitionDocument({comment:r.comment||"Application rejected",review_status:"REJECTED",organization:r.organization,application:r.data.item.id},{successMsg:"Record has been rejected successfully"})},update:function(){r.getUserOrganization(),r.loading=!0,r._dataLayer.update(r.data.configs.store,r.data.item.id,{status:"SUBMITTED"},{key:"current_org_id",value:r.organization}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r.openSnackBar("Record has been submitted successfully","CLOSE")}),(function(t){console.log(t),r.loading=!1,r.openSnackBar("An error occurred","CLOSE")}))},submitted:function(){r.getUserOrganization(),r.loading=!0,r._dataLayer.create(r.data.configs.store,{comment:r.comment||"Budget submitted",review_status:"SUBMITTED",organization:r.organization,org_budget:r.data.item.id}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Budget has been submitted successfully","success")}),(function(t){console.log(t),r.loading=!1,r._dataLayer.openDynamicSnackBar("An error occurred","error")}))},approve:function(t){r.getUserOrganization(),r.loading=!0,r._dataLayer.create(r.data.configs.store,{comment:t||"Calendar of events approved",review_status:"SASDEF_APPROVED",organization:r.organization,org_budget:r.data.item.id}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Calendar of events has been approved successfully","success")}),(function(t){console.log(t),r.loading=!1,r._dataLayer.openDynamicSnackBar("An error occurred","error")}))},rationalize:function(t){r.getUserOrganization();var e={comment:t||"Calendar of events rationalized",review_status:"RATIONALIZED",organization:r.organization,org_budget:r.data.item.id};r.loading=!0,r._dataLayer.create(r.data.configs.store,e).subscribe((function(t){console.log(t),r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Calendar of events rationalized successfully","success")}),(function(t){console.log(t),r.loading=!1,r._dataLayer.openDynamicSnackBar("An error occurred","error")}))},approveBudget:function(t){var e={key:"current_org_id",value:r.organization};r.loading=!0,r.activities.forEach((function(i,n){r._dataLayer.update("organization-budget-activities",i.id,{status:i.approved?"APPROVED":"REJECTED"},e).subscribe((function(e){n===r.activities.length-1&&r.dialogActions.approve(t)}),(function(t){console.log(t),r.loading=!1}))}))},reject:function(t){r.getUserOrganization(),r.loading=!0,r._dataLayer.create(r.data.configs.store,{comment:t||"Calendar of events rejected",review_status:"REJECTED",organization:r.organization,org_budget:r.data.item.id}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Calendar of events has been rejected successfully","success")}),(function(t){console.log(t),r.loading=!1,r.openSnackBar("An error occurred","CLOSE")}))}}}return a(t,[{key:"setFileName",value:function(){var t=this.attachedDoc.file.split("/");this.fileName=t[t.length-1]}},{key:"formInit",value:function(){this.commentForm=this._formBuilder.group({comment:["",b.D.required]}),this.revisedAmountForm=this._formBuilder.group({revised_amount:["",b.D.required]}),Object(l.has)(this.data.configs,"revisedAmount")&&this.rA.revised_amount.setValue(this.data.item.amount_requested)}},{key:"openSnackBar",value:function(t,e){this._snackBar.open(t,e,{duration:4e3})}},{key:"getUserOrganization",value:function(){var t=JSON.parse(localStorage.getItem("organization"));this.organization=Object(l.get)(t,"organization",null)}},{key:"transitionDocument",value:function(t,e){var i=this;this._dataLayer.create(this.data.configs.store,t).subscribe((function(t){i.loading=!1,i.closeDialog("refresh"),i._dataLayer.openDynamicSnackBar(e.successMsg,"success"),Object(l.isUndefined)(i.fileName)||i._dataLayer.create("application-review-attachments",{organization:i.organization,application_review:t.id,attachment:i.attachedDoc.id},void 0,{key:"current_org_id",value:i.organization}).subscribe((function(t){}),(function(t){console.log(t),i._dataLayer.openDynamicSnackBar("An error occurred","error")}))}),(function(t){console.log(t),i.loading=!1,i._dataLayer.openDynamicSnackBar("An error occurred","error")}))}},{key:"submitComment",value:function(t){t.valid&&this.dialogActions[this.data.configs.action](t.value.comment)}},{key:"submitRevisedAmount",value:function(t){t.valid&&this.dialogActions[this.data.configs.action](t.value.revised_amount)}},{key:"submitAction",value:function(){console.log("Submit called")}},{key:"closeDialog",value:function(t){this.dialogRef.close(t)}},{key:"updateAllApproved",value:function(){this.allApproved=!Object(l.isEmpty)(this.activities)&&this.activities.every((function(t){return t.approved}))}},{key:"someApproved",value:function(){return!Object(l.isEmpty)(this.activities)&&this.activities.filter((function(t){return t.approved})).length>0&&!this.allApproved}},{key:"setAllApproved",value:function(t){this.allApproved=t,Object(l.isEmpty)(this.activities)||this.activities.forEach((function(e){return e.approved=t}))}},{key:"fetchNested",value:function(){var t=this;this.getUserOrganization(),this._dataLayer.list("organization-budget-activities",{current_org_id:this.organization,org_budget:this.data.item.id}).subscribe((function(e){t.activities=e.results,t.setAllApproved(!0)}),(function(t){console.log(t)}))}},{key:"fileChange",value:function(t){var e=this,i={file:t.target.files[0],attachment_type:"APPLICATION_DOCUMENT"},n=new FormData;n.append("file",i.file),n.append("attachment_type",i.attachment_type),this._dataLayer.uploadFile("attachments",n).subscribe((function(t){e.attachedDoc=t,e.setFileName()}),(function(t){console.log(t)}))}},{key:"ngOnInit",value:function(){this.formInit(),"organization-budget-reviews"===this.data.configs.store&&this.fetchNested()}},{key:"f",get:function(){return this.commentForm.controls}},{key:"rA",get:function(){return this.revisedAmountForm.controls}}]),t}()).\u0275fac=function(t){return new(t||I)(u.Ob(d.a),u.Ob(b.g),u.Ob(g.b),u.Ob(s.a),u.Ob(d.g))},I.\u0275cmp=u.Ib({type:I,selectors:[["tabbed-dialog"]],features:[u.Ab([s.a])],decls:13,vars:7,consts:[[1,"px-16","pt-8","pb-20"],["mat-dialog-title","",1,"pb-3","d-flex"],[1,"title-text","flex-fill"],["mat-dialog-content","",1,""],["class","pt-4",4,"ngIf"],["class","",4,"ngIf"],["mat-dialog-actions","","class","pt-5 pb-4 d-flex justify-content-end",4,"ngIf"],["mat-dialog-actions","","class","w-100-p pt-16 pb-4",4,"ngIf"],[1,"pt-4"],[1,"list-section","mb-n1","pt-16"],[1,"",3,"checked","indeterminate","change"],[1,"text-muted"],[1,"border-bottom","mt-2"],[1,"list-section","mt-0"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[3,"ngModel","ngModelChange"],[1,"pl-8","pt-2"],[1,"mb-n1"],[1,"d-flex"],[1,"font-size-14"],[1,"pl-3","font-size-14","d-flex"],[1,"ml-n2"],[1,""],[1,"attachemnt-wrapper","mb-1","pt-3"],["type","file","id","input-attachment",1,"ng-hide",3,"hidden","change"],["for","input-attachment",1,"mat-button","w-100-p","d-flex","pl-16","mat-elevation-z1","pt-2"],[1,"mt-2","pr-2"],[1,"pl-2"],["mat-dialog-actions","",1,"pt-5","pb-4","d-flex","justify-content-end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","",3,"disabled","click"],["mat-dialog-actions","",1,"w-100-p","pt-16","pb-4"],["name","fmr",1,"w-100-p",3,"formGroup","ngSubmit"],[1,"w-100-p","pt-1"],[1,"input-wrapper","w-100-p"],["appearance","outline","color","primary",1,"w-100-p","pb-0","mb-0"],["name","comment","matInput","","id","","cols","30","rows","6","placeholder","Kindly enter a comment...","formControlName","comment"],["class","invalid-feedback",4,"ngIf"],[1,"btn-container","d-flex","justify-content-end"],["mat-button","","mat-dialog-close","","type","button",3,"click"],["mat-button","","type","submit",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],["name","revised_amount","matInput","","placeholder","Kindly enter a approved amount...","formControlName","revised_amount"],[1,"mt-n4","text-muted"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Nc(3),u.Tb(),u.Pb(4,"div"),u.Tb(),u.Ub(5,"div",3),u.Ub(6,"div"),u.Nc(7),u.Tb(),u.Lc(8,U,9,3,"div",4),u.Lc(9,_,9,3,"div",5),u.Tb(),u.Lc(10,O,5,4,"div",6),u.Lc(11,N,14,5,"div",7),u.Lc(12,B,17,9,"div",7),u.Tb()),2&t&&(u.Bb(3),u.Oc((null==e.data?null:e.data.configs.title)||"SUBMIT"),u.Bb(4),u.Oc(null==e.data?null:e.data.configs.description),u.Bb(1),u.nc("ngIf",null==e.data?null:e.data.configs.approveNested),u.Bb(1),u.nc("ngIf",null==e.data?null:e.data.configs.reviewAttachment),u.Bb(1),u.nc("ngIf",!(null!=e.data&&e.data.configs.comment||null!=e.data&&e.data.configs.revisedAmount)),u.Bb(1),u.nc("ngIf",null==e.data?null:e.data.configs.comment),u.Bb(1),u.nc("ngIf",null==e.data?null:e.data.configs.revisedAmount))},directives:[d.h,d.e,p.t,m.a,p.s,b.r,b.u,f.a,d.c,h.b,d.d,b.F,b.s,b.l,v.c,v.g,T.b,b.e,b.j],pipes:[p.d,p.f],styles:['@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}[_nghost-%COMP%]     .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),I),P=c("919n"),z=c("iInd"),S=c("7ZA2"),L=c("LdEM"),M=c("PDjf"),E=c("M9ds"),D=c("xsX5"),F=c("f5Zh");function j(t,e){if(1&t&&(u.Ub(0,"th",10),u.Nc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Pc(" ",null==i?null:i.title," ")}}function R(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function V(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"span"),u.Nc(2),u.hc(3,"removeUnderscore"),u.Tb(),u.Lc(4,R,2,0,"mat-icon",12),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(2),u.Oc(u.ic(3,2,n.organization[i.key])),u.Bb(2),u.nc("ngIf",!n.organization[i.key])}}function K(t,e){if(1&t&&(u.Ub(0,"td",11),u.Lc(1,V,5,4,"div",12),u.Tb()),2&t){var i=u.gc();u.Bb(1),u.nc("ngIf",i.organization)}}var $,J=(($=function t(){o(this,t),this.gridConf=[{title:"Name",key:"name"},{title:"Phone #",key:"phone_number"},{title:"Email",key:"email"},{title:"Organization Type",key:"org_type_code"}]}).\u0275fac=function(t){return new(t||$)},$.\u0275cmp=u.Ib({type:$,selectors:[["organization-summary"]],inputs:{organization:"organization"},decls:19,vars:2,consts:[[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-2","pb-1"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13","mb-0"],["class","border-0 pl-20 font-size-12",4,"ngFor","ngForOf"],["class","pl-20",4,"ngFor","ngForOf"],[1,"border-0","pl-20","font-size-12"],[1,"pl-20"],[4,"ngIf"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div",4),u.Ub(5,"div",5),u.Ub(6,"mat-icon"),u.Nc(7,"business"),u.Tb(),u.Nc(8,"\xa0"),u.Tb(),u.Ub(9,"div"),u.Nc(10,"Organization"),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",6),u.Ub(12,"div"),u.Ub(13,"table",7),u.Ub(14,"thead"),u.Lc(15,j,2,1,"th",8),u.Tb(),u.Ub(16,"tbody"),u.Ub(17,"tr"),u.Lc(18,K,2,1,"td",9),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(15),u.nc("ngForOf",e.gridConf),u.Bb(3),u.nc("ngForOf",e.gridConf))},directives:[f.a,p.s,p.t],pipes:[F.a],encapsulation:2}),$),q=c("B6Hu");function H(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",18),u.Ub(1,"div",19),u.Ub(2,"mat-card",20),u.Ub(3,"div",21),u.Ub(4,"div",22),u.Ub(5,"div",23),u.Nc(6," ADD M&E "),u.Tb(),u.Ub(7,"div"),u.Ub(8,"span",24),u.cc("click",(function(){return u.Bc(i),u.gc(2).toggleCreateForm()})),u.Nc(9," \xd7 "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",25),u.Ub(11,"dynamic-form",26),u.cc("cancelFxn",(function(){return u.Bc(i),u.gc(2).toggleCreateForm()}))("submitModel",(function(t){return u.Bc(i),u.gc(2).receiveModel(t)})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc(2);u.Bb(11),u.nc("submitted",n.submitted)("baseCancel",!0)}}function G(t,e){if(1&t&&(u.Ub(0,"th",15),u.Nc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Pc(" ",i.title," ")}}function Y(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"div"),u.Nc(2),u.Ub(3,"span",32),u.Nc(4,"\xa0Attendees"),u.Tb(),u.Tb(),u.Ub(5,"div"),u.Nc(6),u.hc(7,"number"),u.Ub(8,"span",32),u.Nc(9,"\xa0days\xa0"),u.Tb(),u.Ub(10,"span"),u.Nc(11,"\xa0@\xa0"),u.Tb(),u.Ub(12,"span"),u.Nc(13),u.hc(14,"currency"),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc().$implicit;u.Bb(2),u.Pc(" ",n[i.key]," "),u.Bb(4),u.Pc(" ",u.jc(7,3,n.days,"1.0")," "),u.Bb(7),u.Pc(" \xa0",u.jc(14,6,n.unit_price,"Kshs ")," ")}}function Z(t,e){if(1&t&&(u.Ub(0,"div"),u.Nc(1),u.hc(2,"currency"),u.Tb()),2&t){var i=u.gc(2).$implicit;u.Bb(1),u.Pc(" ",u.jc(2,1,i.head_count*i.days*i.unit_price,"Kshs ")," ")}}function Q(t,e){if(1&t&&(u.Ub(0,"div"),u.Nc(1),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc().$implicit;u.Bb(1),u.Pc(" ",n[i.key]," ")}}function W(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function X(t,e){if(1&t&&(u.Ub(0,"td",31),u.Lc(1,Y,15,9,"div",17),u.Lc(2,Z,3,4,"div",17),u.Lc(3,Q,2,1,"div",17),u.Lc(4,W,2,0,"mat-icon",17),u.Tb()),2&t){var i=e.$implicit,n=u.gc().$implicit;u.nc("hidden",n.showInline),u.Bb(1),u.nc("ngIf","head_count"===i.key),u.Bb(1),u.nc("ngIf","total"===i.key),u.Bb(1),u.nc("ngIf","head_count"!==i.key&&"total"!==i.key),u.Bb(1),u.nc("ngIf",!n[i.key]&&"total"!==i.key)}}function tt(t,e){if(1&t){var i=u.Vb();u.Ub(0,"td",33),u.Ub(1,"div",34),u.Ub(2,"mat-card",20),u.Ub(3,"div",21),u.Ub(4,"div",22),u.Ub(5,"div",23),u.Nc(6," EDIT BANK DETAILS "),u.Tb(),u.Ub(7,"div"),u.Ub(8,"span",24),u.cc("click",(function(){u.Bc(i);var t=u.gc().$implicit;return u.gc(2).toggleForm(t)})),u.Nc(9," \xd7 "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",25),u.Ub(11,"dynamic-form",35),u.cc("cancelFxn",(function(){u.Bc(i);var t=u.gc().$implicit;return u.gc(2).toggleForm(t)}))("submitModel",(function(t){return u.Bc(i),u.gc(3).receiveModel(t)})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc().$implicit,a=u.gc(2);u.Cb("colspan",(null==a.tab?null:a.tab.bankConfs.length)+1),u.Bb(11),u.nc("model",n)("submitted",a.submitted)("baseCancel",!0)}}function et(t,e){if(1&t){var i=u.Vb();u.Ub(0,"tr"),u.Lc(1,X,5,5,"td",27),u.Ub(2,"td",28),u.Ub(3,"button",29),u.cc("click",(function(){u.Bc(i);var t=e.$implicit;return u.gc(2).toggleForm(t)})),u.Nc(4," Edit "),u.Tb(),u.Tb(),u.Lc(5,tt,12,4,"td",30),u.Tb()}if(2&t){var n=e.$implicit,a=u.gc(2);u.Bb(1),u.nc("ngForOf",a.gridConf),u.Bb(1),u.nc("hidden",n.showInline),u.Bb(3),u.nc("ngIf",n.showInline)}}function it(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",36),u.Ub(2,"div",37),u.Ub(3,"div",38),u.Ub(4,"div",39),u.Ub(5,"div",40),u.Ub(6,"mat-icon"),u.Nc(7," info_circle "),u.Tb(),u.Tb(),u.Ub(8,"div",7),u.Nc(9," There is currently no Monitoring & Evaluation details added for this application. "),u.Tb(),u.Pb(10,"div",41),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.Cb("colspan",i.gridConf.length+1)}}function nt(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",1),u.Ub(1,"div",2),u.Ub(2,"div",3),u.Ub(3,"div",4),u.Ub(4,"div",5),u.Ub(5,"div",6),u.Ub(6,"mat-icon"),u.Nc(7,"people"),u.Tb(),u.Nc(8,"\xa0"),u.Tb(),u.Ub(9,"div",7),u.Nc(10,"Monitoring & Evaluation"),u.Tb(),u.Ub(11,"div",8),u.Ub(12,"button",9),u.cc("click",(function(){return u.Bc(i),u.gc().toggleCreateForm()})),u.Ub(13,"mat-icon"),u.Nc(14,"add"),u.Tb(),u.Nc(15,"\xa0 ADD M&E "),u.Tb(),u.Tb(),u.Tb(),u.Lc(16,H,12,2,"div",10),u.Tb(),u.Ub(17,"div",11),u.Ub(18,"div"),u.Ub(19,"table",12),u.Ub(20,"thead",13),u.Lc(21,G,2,1,"th",14),u.Pb(22,"th",15),u.Tb(),u.Ub(23,"tbody"),u.Lc(24,et,6,3,"tr",16),u.Lc(25,it,11,1,"tr",17),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(16),u.nc("ngIf",n.showForm),u.Bb(5),u.nc("ngForOf",n.gridConf),u.Bb(3),u.nc("ngForOf",n.list),u.Bb(1),u.nc("ngIf",!(null!=n.list&&n.list.length))}}var at,ot=((at=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.list=[],this.gridConf=[{title:"Attendees",key:"head_count"},{title:"Total",key:"total"},{title:"Description",key:"description"}],this.postObj={organiazation:"",application:"",amount:"",quantity:"",description:""}}return a(t,[{key:"toggleForm",value:function(t){t.showInline=!t.showInline}},{key:"toggleCreateForm",value:function(){this.showForm=!this.showForm}},{key:"getList",value:function(){var t=this;this.loading=!0,this._dataLayer.list("application-mes",{current_org_id:this.orgId,application:this.item.id}).subscribe((function(e){t.loading=!1,t.list=e.results}),(function(e){t.loading=!1,console.log(e)}))}},{key:"receiveModel",value:function(t){var e=this;Object(l.has)(t,"id")?this._dataLayer.update("application-mes",t.id,t,{key:"current_org_id",value:this.orgId}).subscribe((function(){e.getList()}),(function(t){return console.log(t)})):(t=Object.assign(Object.assign({},t),{organization:this.orgId,application:this.item.id}),this._dataLayer.create("application-mes",t,void 0,{key:"current_org_id",value:this.orgId}).subscribe((function(){e.getList(),e.toggleCreateForm(),e._dataLayer.openDynamicSnackBar("M&E Item succesfully added","success")}),(function(t){e._dataLayer.openDynamicSnackBar("An error occurred while adding M&E item. Try again","error")})))}},{key:"ngOnInit",value:function(){var t=JSON.parse(this._authConfig.getOrganization());this.orgId=Object(l.get)(t,"organization",null),this.orgType=Object(l.get)(t,"org_type",null),this.getList()}}]),t}()).\u0275fac=function(t){return new(t||at)(u.Ob(s.a),u.Ob(S.a))},at.\u0275cmp=u.Ib({type:at,selectors:[["application-me"]],inputs:{item:"item"},decls:1,vars:1,consts:[["class","px-20 pt-20 pb-12",4,"ngIf"],[1,"px-20","pt-20","pb-12"],[1,"px-20"],[1,"card"],[1,"card-header","pt-3","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"flex-fill"],[1,"pt-2"],["mat-raised-button","","color","default",1,"pl-3","mt-n2",3,"click"],["class","col-12 bg-light py-16","style","margin: auto;",4,"ngIf"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13"],[1,"thead-light","font-size-12"],["class","border-0 pl-20",4,"ngFor","ngForOf"],[1,"border-0","pl-20"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","bg-light","py-16",2,"margin","auto"],[1,"col-lg-9",2,"margin","auto"],[1,"card","p-0"],[1,"card-header","py-0"],[1,"d-flex"],[1,"flex-fill","pt-3"],[1,"font-size-28","text-muted",2,"cursor","pointer",3,"click"],[1,"card-body","px-5","pt-5"],["btnText","SAVE","btnClass","tiny","store","application-me","btnStatus","primary",3,"submitted","baseCancel","cancelFxn","submitModel"],["class","pl-20 vertical-align-center","valign","middle",3,"hidden",4,"ngFor","ngForOf"],["valign","middle",1,"vertical-align-center",3,"hidden"],["mat-stroked-button","","color","accent",3,"click"],["class","bg-light-grey py-3 px-5",4,"ngIf"],["valign","middle",1,"pl-20","vertical-align-center",3,"hidden"],[1,"text-muted"],[1,"bg-light-grey","py-3","px-5"],[1,"col-12","col-lg-8",2,"margin","auto"],["btnText","SAVE","btnClass","tiny","store","organization-bank-accounts","btnStatus","primary",3,"model","submitted","baseCancel","cancelFxn","submitModel"],[1,"pb-0","mb-0"],[1,"w-100-p","px-3"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex","align-items-center"],[1,"pr-20"],[1,"pr-8"]],template:function(t,e){1&t&&u.Lc(0,nt,26,4,"div",0),2&t&&u.nc("ngIf","SASDEF"===e.orgType)},directives:[p.t,f.a,h.b,p.s,M.a,q.a],pipes:[p.g,p.d],encapsulation:2}),at);function ct(t,e){if(1&t&&(u.Ub(0,"th",8),u.Nc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Pc(" ",i.title," ")}}function rt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function lt(t,e){if(1&t&&(u.Ub(0,"td",15),u.Nc(1),u.Lc(2,rt,2,0,"mat-icon",10),u.Tb()),2&t){var i=e.$implicit,n=u.gc().$implicit;u.nc("hidden",n.showInline),u.Bb(1),u.Pc(" ",n[i.key]," "),u.Bb(1),u.nc("ngIf",!n[i.key])}}function st(t,e){if(1&t){var i=u.Vb();u.Ub(0,"td",16),u.Ub(1,"div",17),u.Ub(2,"mat-card",18),u.Ub(3,"div",19),u.Ub(4,"div",20),u.Ub(5,"div",21),u.Nc(6," EDIT BANK DETAILS "),u.Tb(),u.Ub(7,"div"),u.Ub(8,"span",22),u.cc("click",(function(){u.Bc(i);var t=u.gc().$implicit;return u.gc().toggleForm(t)})),u.Nc(9," \xd7 "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",23),u.Ub(11,"dynamic-form",24),u.cc("cancelFxn",(function(){u.Bc(i);var t=u.gc().$implicit;return u.gc().toggleForm(t)}))("submitModel",(function(t){return u.Bc(i),u.gc(2).receiveModel(t)})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc().$implicit,a=u.gc();u.Cb("colspan",(null==a.tab?null:a.tab.bankConfs.length)+1),u.Bb(11),u.nc("model",n)("submitted",a.submitted)("baseCancel",!0)}}function bt(t,e){if(1&t){var i=u.Vb();u.Ub(0,"tr"),u.Lc(1,lt,3,3,"td",11),u.Ub(2,"td",12),u.Ub(3,"button",13),u.cc("click",(function(){u.Bc(i);var t=e.$implicit;return u.gc().toggleForm(t)})),u.Nc(4," Edit "),u.Tb(),u.Tb(),u.Lc(5,st,12,4,"td",14),u.Tb()}if(2&t){var n=e.$implicit,a=u.gc();u.Bb(1),u.nc("ngForOf",null==a.tab?null:a.tab.bankConfs),u.Bb(1),u.nc("hidden",n.showInline),u.Bb(3),u.nc("ngIf",n.showInline)}}function dt(t,e){if(1&t){var i=u.Vb();u.Ub(0,"td",26),u.Ub(1,"div",27),u.Ub(2,"div",28),u.Ub(3,"div",29),u.Ub(4,"div",30),u.Ub(5,"mat-icon"),u.Nc(6," info_circle "),u.Tb(),u.Tb(),u.Ub(7,"div",31),u.Nc(8," There is currently no bank account registered for this organization "),u.Tb(),u.Ub(9,"div",32),u.Ub(10,"button",33),u.cc("click",(function(){return u.Bc(i),u.gc(2).toggleCreateForm()})),u.Ub(11,"mat-icon"),u.Nc(12,"add"),u.Tb(),u.Nc(13,"\xa0 ADD ACCOUNT "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc(2);u.Cb("colspan",(null==n.tab?null:n.tab.bankConfs.length)+1)}}function ut(t,e){if(1&t){var i=u.Vb();u.Ub(0,"td",16),u.Ub(1,"div",17),u.Ub(2,"mat-card",18),u.Ub(3,"div",19),u.Ub(4,"div",20),u.Ub(5,"div",21),u.Nc(6," ADD BANK DETAILS "),u.Tb(),u.Ub(7,"div"),u.Ub(8,"span",22),u.cc("click",(function(){return u.Bc(i),u.gc(2).toggleCreateForm()})),u.Nc(9," \xd7 "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",23),u.Ub(11,"dynamic-form",34),u.cc("cancelFxn",(function(){return u.Bc(i),u.gc(2).toggleCreateForm()}))("submitModel",(function(t){return u.Bc(i),u.gc(2).receiveModel(t)})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc(2);u.Cb("colspan",(null==n.tab?null:n.tab.bankConfs.length)+1),u.Bb(11),u.nc("submitted",n.submitted)("baseCancel",!0)}}function gt(t,e){if(1&t&&(u.Ub(0,"tr"),u.Lc(1,dt,14,1,"td",25),u.Lc(2,ut,12,3,"td",14),u.Tb()),2&t){var i=u.gc();u.Bb(1),u.nc("ngIf",!i.showForm),u.Bb(1),u.nc("ngIf",i.showForm)}}var pt,mt=((pt=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.loading=!0,this.list=[]}return a(t,[{key:"toggleForm",value:function(t){t.showInline=!t.showInline}},{key:"toggleCreateForm",value:function(){this.showForm=!this.showForm}},{key:"getBankAccount",value:function(){var t=this;this._dataLayer.list("organization-bank-accounts",{current_org_id:this.organization,organization:this.parentKey?this.item[this.parentKey]:this.item.id}).subscribe((function(e){t.list=e.results,t.loading=!1}),(function(e){t.loading=!1,console.log(e)}))}},{key:"receiveModel",value:function(t){var e=this;Object(l.has)(t,"id")?this._dataLayer.update("organization-bank-accounts",t.id,t,{key:"current_org_id",value:this.organization}).subscribe((function(){e.getBankAccount()}),(function(t){return console.log(t)})):(t=Object.assign(Object.assign({},t),{organization:this.item.id}),this._dataLayer.create("organization-bank-accounts",t).subscribe((function(){e.getBankAccount()}),(function(t){return console.log(t)})))}},{key:"ngOnInit",value:function(){this.organization=Object(l.get)(JSON.parse(this._authConfig.getOrganization()),"organization",null),this.getBankAccount()}}]),t}()).\u0275fac=function(t){return new(t||pt)(u.Ob(s.a),u.Ob(S.a))},pt.\u0275cmp=u.Ib({type:pt,selectors:[["tabbed-inline-list"]],inputs:{tab:"tab",item:"item",parentKey:"parentKey"},decls:18,vars:3,consts:[[1,"card"],[1,"card-header","pt-3","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13"],[1,"thead-light","font-size-12"],["class","border-0 pl-20",4,"ngFor","ngForOf"],[1,"border-0","pl-20"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","pl-20 vertical-align-center","valign","middle",3,"hidden",4,"ngFor","ngForOf"],["valign","middle",1,"vertical-align-center",3,"hidden"],["mat-stroked-button","","color","accent",3,"click"],["class","bg-light-grey py-3 px-5",4,"ngIf"],["valign","middle",1,"pl-20","vertical-align-center",3,"hidden"],[1,"bg-light-grey","py-3","px-5"],[1,"col-12","col-lg-8",2,"margin","auto"],[1,"card","p-0"],[1,"card-header","py-0"],[1,"d-flex"],[1,"flex-fill","pt-3"],[1,"font-size-28","text-muted",2,"cursor","pointer",3,"click"],[1,"card-body","px-5","pt-5"],["btnText","SAVE","btnClass","tiny","store","organization-bank-accounts","btnStatus","primary",3,"model","submitted","baseCancel","cancelFxn","submitModel"],["class","pb-0 mb-0",4,"ngIf"],[1,"pb-0","mb-0"],[1,"w-100-p","px-3"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex","align-items-center"],[1,"pr-20"],[1,"flex-fill"],[1,"pr-8"],["mat-raised-button","","color","default",1,"pl-3","mt-n2",3,"click"],["btnText","SAVE","btnClass","tiny","store","organization-bank-accounts","btnStatus","primary",3,"submitted","baseCancel","cancelFxn","submitModel"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"mat-icon"),u.Nc(5,"account_balance"),u.Tb(),u.Nc(6,"\xa0"),u.Tb(),u.Ub(7,"div"),u.Nc(8,"Bank Account"),u.Tb(),u.Tb(),u.Tb(),u.Ub(9,"div",4),u.Ub(10,"div"),u.Ub(11,"table",5),u.Ub(12,"thead",6),u.Lc(13,ct,2,1,"th",7),u.Pb(14,"th",8),u.Tb(),u.Ub(15,"tbody"),u.Lc(16,bt,6,3,"tr",9),u.Lc(17,gt,3,2,"tr",10),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(13),u.nc("ngForOf",null==e.tab?null:e.tab.bankConfs),u.Bb(3),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length)))},directives:[f.a,p.s,p.t,h.b,M.a,q.a],encapsulation:2}),pt),ft=c("o4Yh"),ht=c("SqCe"),vt=c("UhP/");function Tt(t,e){if(1&t&&(u.Ub(0,"th",17),u.Nc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Pc(" ",null==i?null:i.title," ")}}function yt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function Ut(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"span"),u.Nc(2),u.Tb(),u.Lc(3,yt,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Oc(n.activityDetails[i.key]),u.Bb(1),u.nc("ngIf",!n.activityDetails[i.key])}}function _t(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function Ot(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.Nc(2),u.hc(3,"date"),u.Tb(),u.Lc(4,_t,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Oc(u.jc(3,2,n.activityDetails[i.key],"dd-MM-yyyy")),u.Bb(2),u.nc("ngIf",!n.activityDetails[i.key])}}function At(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function xt(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.Nc(2),u.hc(3,"currency"),u.Tb(),u.Lc(4,At,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Oc(u.jc(3,2,n.activityDetails[i.key],"Kshs ")),u.Bb(2),u.nc("ngIf",!n.activityDetails[i.key])}}function Nt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function Ct(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.Nc(2),u.hc(3,"currency"),u.Tb(),u.Lc(4,Nt,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Oc(u.jc(3,2,n.activityDetails[i.key],"Kshs ")),u.Bb(2),u.nc("ngIf",!n.activityDetails[i.key])}}function kt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function Bt(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.Nc(2),u.hc(3,"currency"),u.Tb(),u.Lc(4,kt,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Oc(u.jc(3,2,n.activityDetails[i.key],"Kshs ")),u.Bb(2),u.nc("ngIf",!n.activityDetails[i.key])}}function It(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function wt(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.hc(2,"lowercase"),u.Nc(3),u.Tb(),u.Lc(4,It,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(1),u.Eb("badge ",u.ic(2,5,n.activityDetails[i.key]),""),u.Bb(2),u.Pc(" ",n.activityDetails[i.key]," "),u.Bb(1),u.nc("ngIf",!n.activityDetails[i.key])}}function Pt(t,e){if(1&t&&(u.Ub(0,"div"),u.Lc(1,Ut,4,2,"div",19),u.Lc(2,Ot,5,5,"span",19),u.Lc(3,xt,5,5,"span",19),u.Lc(4,Ct,5,5,"span",19),u.Lc(5,Bt,5,5,"span",19),u.Lc(6,wt,5,7,"span",19),u.Tb()),2&t){var i=u.gc().$implicit;u.Bb(1),u.nc("ngIf","title"===i.key),u.Bb(1),u.nc("ngIf","activity_date"===i.key),u.Bb(1),u.nc("ngIf","total"===i.key),u.Bb(1),u.nc("ngIf","rationalized_total"===i.key),u.Bb(1),u.nc("ngIf","actual_total"===i.key),u.Bb(1),u.nc("ngIf","status"===i.key)}}function zt(t,e){if(1&t&&(u.Ub(0,"td",18),u.Lc(1,Pt,7,6,"div",19),u.Tb()),2&t){var i=u.gc();u.Bb(1),u.nc("ngIf",i.activityDetails)}}function St(t,e){if(1&t&&(u.Ub(0,"mat-list-item",20),u.Ub(1,"mat-icon",21),u.Nc(2,"note"),u.Tb(),u.Ub(3,"h4",22),u.Nc(4),u.Tb(),u.Ub(5,"div",23),u.Ub(6,"div",24),u.Ub(7,"p",25),u.Ub(8,"span",14),u.Nc(9,"Rationalized:"),u.Tb(),u.Nc(10),u.hc(11,"currency"),u.Tb(),u.Tb(),u.Ub(12,"div",26),u.Ub(13,"p",25),u.Ub(14,"span",14),u.Nc(15,"Approved:"),u.Tb(),u.Nc(16),u.hc(17,"currency"),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=e.$implicit;u.Bb(4),u.Oc(i.title),u.Bb(6),u.Pc("\xa0 ",u.jc(11,3,i.rationalized_total,"Kshs ")," "),u.Bb(6),u.Pc("\xa0 ",u.jc(17,6,i.actual_total,"Kshs ")," ")}}var Lt,Mt=((Lt=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.gridConf=[{title:"Title",key:"title"},{title:"Activity Date",key:"activity_date"},{title:"Applied",key:"total"},{title:"Rationalized",key:"rationalized_total"},{title:"Approved Total",key:"actual_total"}]}return a(t,[{key:"getItemBudget",value:function(){var t=this;this._dataLayer.get("organization-budgets",this.item.budget,{current_org_id:this.orgId}).subscribe((function(e){t.activityBudget=e,t._dataLayer.list("organization-budget-activities",{current_org_id:t.orgId,org_budget:t.item.budget}).subscribe((function(e){t.activityBudget.activities=e.results}),(function(t){return console.log(t)}))}),(function(t){return console.log(t)}))}},{key:"getItemActivity",value:function(){var t=this;this._dataLayer.get("organization-budget-activities",this.item.activity,{current_org_id:this.orgId}).subscribe((function(e){t.activityDetails=e}),(function(t){return console.log(t)}))}},{key:"ngOnInit",value:function(){this.organization=JSON.parse(this._authConfig.getOrganization()),this.orgId=Object(l.get)(this.organization,"organization"),this.getItemActivity(),this.getItemBudget()}}]),t}()).\u0275fac=function(t){return new(t||Lt)(u.Ob(s.a),u.Ob(S.a))},Lt.\u0275cmp=u.Ib({type:Lt,selectors:[["activity-summary"]],inputs:{activity:"activity",item:"item"},features:[u.Ab([s.a])],decls:37,vars:12,consts:[[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-2","pb-1","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-16","pt-0"],[1,"table","borderless","font-ize-13","mb-0"],[1,"thead-light","font-size-12"],["class","border-0 pl-20",4,"ngFor","ngForOf"],["class","pl-20",4,"ngFor","ngForOf"],[1,"pb-0"],[1,"card","border-0","mb-n3"],[3,"opened","closed"],[1,"text-muted"],[1,"mt-n5"],["class","ml-n3 py-0 mb-n3",4,"ngFor","ngForOf"],[1,"border-0","pl-20"],[1,"pl-20"],[4,"ngIf"],[1,"ml-n3","py-0","mb-n3"],["matListIcon",""],["matLine",""],["matLine","",1,"list-inline","d-flex","flex-row","font-size-12","mb-0"],[1,"list-inline-item","pl-0"],[1,"demo-2"],[1,"list-inline-item","pl-3"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div",4),u.Ub(5,"div",5),u.Ub(6,"mat-icon"),u.Nc(7,"games"),u.Tb(),u.Nc(8,"\xa0"),u.Tb(),u.Ub(9,"div"),u.Nc(10,"Activity"),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",6),u.Ub(12,"div"),u.Ub(13,"table",7),u.Ub(14,"thead",8),u.Lc(15,Tt,2,1,"th",9),u.Tb(),u.Ub(16,"tbody"),u.Ub(17,"tr"),u.Lc(18,zt,2,1,"td",10),u.Tb(),u.Ub(19,"tr"),u.Ub(20,"td",11),u.Ub(21,"div",12),u.Ub(22,"mat-accordion"),u.Ub(23,"mat-expansion-panel",13),u.cc("opened",(function(){return e.panelOpenState=!0}))("closed",(function(){return e.panelOpenState=!1})),u.Ub(24,"mat-expansion-panel-header"),u.Ub(25,"mat-panel-title"),u.Ub(26,"span",14),u.Nc(27,"Total Budget"),u.Tb(),u.Nc(28),u.hc(29,"currency"),u.Tb(),u.Ub(30,"mat-panel-description"),u.Nc(31," Budget Date: \xa0"),u.Ub(32,"b"),u.Nc(33),u.hc(34,"date"),u.Tb(),u.Tb(),u.Tb(),u.Ub(35,"mat-list",15),u.Lc(36,St,18,9,"mat-list-item",16),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(15),u.nc("ngForOf",e.gridConf),u.Bb(3),u.nc("ngForOf",e.gridConf),u.Bb(2),u.Cb("colspan",null==e.gridConf?null:e.gridConf.length),u.Bb(8),u.Pc(" \xa0 -\xa0 ",u.jc(29,6,null==e.activityBudget?null:e.activityBudget.actual_total,"Kshs ")," "),u.Bb(5),u.Oc(u.jc(34,9,null==e.activityDetails?null:e.activityDetails.created,"dd-MM-yyyy")),u.Bb(3),u.nc("ngForOf",null==e.activityBudget?null:e.activityBudget.activities))},directives:[f.a,p.s,ft.a,ft.c,ft.e,ft.f,ft.d,ht.a,p.t,ht.c,ht.b,vt.j],pipes:[p.d,p.f,p.p],styles:["[_nghost-%COMP%]    {width:100%}[_nghost-%COMP%]     .back-arrow i:hover{cursor:pointer;text-shadow:1px 3px 1px rgba(0,0,0,.3)}[_nghost-%COMP%]     .main-cont{background-color:#146b3a!important;width:auto!important;transition:all .5s cubic-bezier(0,0,.2,1)!important;left:13rem;right:0;padding:3.05rem 4.5rem 7.5rem;margin-bottom:-4.75rem}[_nghost-%COMP%]     .main-cont .title{font-size:2rem;color:#fff}[_nghost-%COMP%]     .back-btn{color:#fff}[_nghost-%COMP%]     .back-btn:hover{cursor:pointer;text-shadow:1px 3px 1px rgba(0,0,0,.3)}[_nghost-%COMP%]     .badge.created, [_nghost-%COMP%]     .badge.draft, [_nghost-%COMP%]     .badge.on_going, [_nghost-%COMP%]     .badge.open, [_nghost-%COMP%]     .badge.pending{background-color:#ffc107;color:#212529}[_nghost-%COMP%]     .badge.assigned, [_nghost-%COMP%]     .badge.first_level_approved, [_nghost-%COMP%]     .badge.rationalized, [_nghost-%COMP%]     .badge.submitted{background-color:#2196f3;color:#fff}[_nghost-%COMP%]     .badge.cancelled, [_nghost-%COMP%]     .badge.rejected{background-color:#dc3545;color:#fff}[_nghost-%COMP%]     .badge.overdue{background-color:#343a40;color:#fff}[_nghost-%COMP%]     .badge.accepted, [_nghost-%COMP%]     .badge.approved, [_nghost-%COMP%]     .badge.completed, [_nghost-%COMP%]     .badge.final_approved, [_nghost-%COMP%]     .badge.finished, [_nghost-%COMP%]     .badge.sasdef_approved{background-color:#28a745;color:#fff}[_nghost-%COMP%]     #print{display:none}@media print{[_nghost-%COMP%]     #no-print{display:none!important}[_nghost-%COMP%]     #print{display:flex}[_nghost-%COMP%]     #print body, [_nghost-%COMP%]     #print h1, [_nghost-%COMP%]     #print h2, [_nghost-%COMP%]     #print h3, [_nghost-%COMP%]     #print h4, [_nghost-%COMP%]     #print html, [_nghost-%COMP%]     #print img, [_nghost-%COMP%]     #print p{margin:0}[_nghost-%COMP%]     #print h1{font-size:18pt;font-weight:500;margin-bottom:.5cm}[_nghost-%COMP%]     #print h2{font-size:16pt;font-weight:500}[_nghost-%COMP%]     #print p{font-size:12pt}[_nghost-%COMP%]     #print .items-group{border:1pt solid #000;border-radius:5pt;padding:3pt;margin:9pt 0}[_nghost-%COMP%]     #print .logotipo{width:6cm;height:4cm;margin:-.5cm}[_nghost-%COMP%]     #print .label{font-weight:500}[_nghost-%COMP%]     #print .address p, [_nghost-%COMP%]     #print .disclaimer{font-size:10pt}[_nghost-%COMP%]     #print .signature-field{padding-bottom:24pt;border-bottom:1pt solid #000}}"]}),Lt);function Et(t,e){1&t&&u.Pb(0,"th",13)}function Dt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function Ft(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"a",18),u.Ub(2,"mat-icon"),u.Nc(3,"cloud_download"),u.Tb(),u.Nc(4,"\xa0 Download "),u.Tb(),u.Tb()),2&t){var i=u.gc(2).$implicit;u.Bb(1),u.Cb("href",i.file.file,u.Dc)}}function jt(t,e){1&t&&(u.Ub(0,"span",19),u.Ub(1,"span",20),u.Nc(2," No Attachment "),u.Tb(),u.Tb())}function Rt(t,e){if(1&t&&(u.Ub(0,"td",16),u.Lc(1,Ft,5,1,"span",12),u.Lc(2,jt,3,0,"span",17),u.Tb()),2&t){var i=u.gc().$implicit;u.Bb(1),u.nc("ngIf",null==i?null:i.file),u.Bb(1),u.nc("ngIf",!(null!=i&&i.file))}}function Vt(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",14),u.Ub(2,"span"),u.hc(3,"lowercase"),u.Nc(4),u.hc(5,"removeUnderscore"),u.Tb(),u.Tb(),u.Ub(6,"td",14),u.Ub(7,"span"),u.Nc(8),u.hc(9,"date"),u.Tb(),u.Tb(),u.Ub(10,"td",14),u.Nc(11),u.Lc(12,Dt,2,0,"mat-icon",12),u.Tb(),u.Lc(13,Rt,3,2,"td",15),u.Tb()),2&t){var i=e.$implicit,n=u.gc();u.Bb(2),u.Eb("badge ",u.ic(3,8,null==i?null:i.review_status),""),u.Bb(2),u.Pc(" ",u.ic(5,10,null==i?null:i.review_status)," "),u.Bb(4),u.Pc(" ",u.jc(9,12,null==i?null:i.created,"medium")," "),u.Bb(3),u.Pc(" ",null==i?null:i.comment," "),u.Bb(1),u.nc("ngIf",!(null!=i&&i.comment)),u.Bb(1),u.nc("ngIf",n.hasAction)}}function Kt(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",21),u.Ub(2,"div",22),u.Ub(3,"div",23),u.Ub(4,"div",24),u.Ub(5,"div",25),u.Ub(6,"mat-icon"),u.Nc(7," info_circle "),u.Tb(),u.Tb(),u.Ub(8,"div"),u.Nc(9),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc();u.Bb(9),u.Pc(" There are currently no status update for this ",i.context," ")}}var $t,Jt=(($t=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.organization={},this.list=[],this.storesMap=[{context:"Budget",store:"organization-budget-reviews",paramKey:"org_budget"},{context:"Application",store:"application-reviews",paramKey:"application"}],this.hasAction=!1}return a(t,[{key:"getAuditTrail",value:function(t){var e,n=this;Object(l.isUndefined)(t)||(e=i({current_org_id:this.organization},t.paramKey,this.item.id),this._dataLayer.list(t.store,Object.assign({},e)).subscribe((function(e){n.list=e.results,"application-reviews"===t.store&&(n.hasAction=!0,n.list.forEach((function(t){n._dataLayer.list("application-review-attachments",{current_org_id:n.organization,application_review:t.id}).subscribe((function(e){var i=e.results||[];i.length&&(t.file=i[0].attachment_data)}),(function(t){return console.log(t)}))})))}),(function(t){return console.log(t)})))}},{key:"ngOnInit",value:function(){this.organization=Object(l.get)(JSON.parse(this._authConfig.getOrganization()),"organization",null);var t=Object(l.find)(this.storesMap,{context:this.context});this.getAuditTrail(t)}}]),t}()).\u0275fac=function(t){return new(t||$t)(u.Ob(s.a),u.Ob(S.a))},$t.\u0275cmp=u.Ib({type:$t,selectors:[["audit-trail"]],inputs:{context:"context",item:"item"},features:[u.Ab([s.a])],decls:25,vars:4,consts:[[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-2","pb-1","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13","mb-0"],[1,"thead-light","font-size-12"],[1,"border-0","pl-20"],["style","width:1px;",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"width","1px"],[1,"pl-20","align-middle"],["class","pr-3 align-middle",4,"ngIf"],[1,"pr-3","align-middle"],["class","d-flex ml-2",4,"ngIf"],["mat-stroked-button","","download","","target","_blank"],[1,"d-flex","ml-2"],[1,"badge","badge-secondary","p-2"],["colspan","4",1,"pb-12","mb-0"],[1,"w-100-p","px-3"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex"],[1,"pr-20"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div",4),u.Ub(5,"div",5),u.Ub(6,"mat-icon"),u.Nc(7,"assessment"),u.Tb(),u.Nc(8,"\xa0"),u.Tb(),u.Ub(9,"div"),u.Nc(10),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",6),u.Ub(12,"div"),u.Ub(13,"table",7),u.Ub(14,"thead",8),u.Ub(15,"th",9),u.Nc(16," Status "),u.Tb(),u.Ub(17,"th",9),u.Nc(18," Updated On "),u.Tb(),u.Ub(19,"th",9),u.Nc(20," Comment "),u.Tb(),u.Lc(21,Et,1,0,"th",10),u.Tb(),u.Ub(22,"tbody"),u.Lc(23,Vt,14,15,"tr",11),u.Lc(24,Kt,10,1,"tr",12),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(10),u.Pc("",e.context||"Budget"," Status"),u.Bb(11),u.nc("ngIf",e.hasAction),u.Bb(2),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length)))},directives:[f.a,p.t,p.s,h.a],pipes:[p.p,F.a,p.f],styles:["[_nghost-%COMP%]     .badge.created, [_nghost-%COMP%]     .badge.draft, [_nghost-%COMP%]     .badge.on_going, [_nghost-%COMP%]     .badge.open, [_nghost-%COMP%]     .badge.pending{background-color:#ffc107;color:#212529}[_nghost-%COMP%]     .badge.assigned, [_nghost-%COMP%]     .badge.first_level_approved, [_nghost-%COMP%]     .badge.submitted{background-color:#2196f3;color:#fff}[_nghost-%COMP%]     .badge.cancelled, [_nghost-%COMP%]     .badge.rejected{background-color:#dc3545;color:#fff}[_nghost-%COMP%]     .badge.overdue{background-color:#343a40;color:#fff}[_nghost-%COMP%]     .badge.accepted, [_nghost-%COMP%]     .badge.approved, [_nghost-%COMP%]     .badge.completed, [_nghost-%COMP%]     .badge.final_approved, [_nghost-%COMP%]     .badge.finished{background-color:#28a745;color:#fff}"]}),$t);function qt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1," remove "),u.Tb())}function Ht(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",18),u.Nc(2),u.Tb(),u.Ub(3,"td",18),u.Nc(4),u.hc(5,"date"),u.Lc(6,qt,2,0,"mat-icon",17),u.Tb(),u.Ub(7,"td",19),u.Ub(8,"a",20),u.Ub(9,"mat-icon"),u.Nc(10,"cloud_download"),u.Tb(),u.Nc(11," \xa0Download "),u.Tb(),u.Tb(),u.Tb()),2&t){var i=e.$implicit;u.Bb(2),u.Pc(" ",(null==i?null:i.file.name)||"Unknown"," "),u.Bb(2),u.Pc(" ",u.jc(5,4,null==i?null:i.file.created,"medium")," "),u.Bb(2),u.nc("ngIf",!(null!=i&&i.file.created)),u.Bb(2),u.Cb("href",null==i?null:i.file.file,u.Dc)}}function Gt(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",21),u.Ub(2,"div",22),u.Ub(3,"div",23),u.Ub(4,"div",24),u.Ub(5,"div",25),u.Ub(6,"mat-icon"),u.Nc(7," info_circle "),u.Tb(),u.Tb(),u.Ub(8,"div"),u.Nc(9),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc();u.Bb(9),u.Pc(" There are currently no attachments for this ",i.context," ")}}var Yt,Zt=((Yt=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.organization={},this.list=[],this.storesMap=[{context:"Budget",store:"organization-budget-attachments",paramKey:"org_budget"}]}return a(t,[{key:"fileChange",value:function(t){var e=this,i={file:t.target.files[0],attachment_type:"ORGANIZATION_BUDGET",budget:this.item.id},n={attachment:"",organization:this.item.organization,org_budget:this.item.id},a=new FormData;a.append("file",i.file),a.append("attachment_type",i.attachment_type),this._dataLayer.uploadFile("attachments",a).subscribe((function(t){n=Object.assign(Object.assign({},n),{attachment:t.id}),e._dataLayer.create("organization-budget-attachments",n).subscribe((function(t){var i=Object(l.find)(e.storesMap,{context:e.context});e.getAuditTrail(i)}),(function(t){return console.log(t)}))}),(function(t){return console.log(t)}))}},{key:"getAuditTrail",value:function(t){var e=this;Object(l.isUndefined)(t)||this._dataLayer.list(t.store,Object.assign({},i({current_org_id:this.organization},t.paramKey,this.item.id))).subscribe((function(t){t.results.map((function(t){e._dataLayer.get("attachments",t.attachment,{current_org_id:e.organization}).subscribe((function(i){t.file=i,e.list.push(t)}),(function(t){console.log(t)}))})),console.log(e.list)}),(function(t){return console.log(t)}))}},{key:"ngOnInit",value:function(){this.organization=Object(l.get)(JSON.parse(this._authConfig.getOrganization()),"organization",null);var t=Object(l.find)(this.storesMap,{context:this.context});this.getAuditTrail(t)}}]),t}()).\u0275fac=function(t){return new(t||Yt)(u.Ob(s.a),u.Ob(S.a))},Yt.\u0275cmp=u.Ib({type:Yt,selectors:[["header-attachments"]],inputs:{context:"context",item:"item"},decls:30,vars:3,consts:[[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-2","pb-1"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"flex-fill"],[1,"actions"],["type","file","id","input-file-id",1,"ng-hide",3,"hidden","change"],["for","input-file-id",1,"mat-button","mat-stroked-button","md-primary","d-flex","pl-3","font-size-12"],[1,"mt-2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13","mb-0"],[1,"font-size-12"],[1,"border-0","pl-20"],[1,"border-0","pr-20",2,"width","1px"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pl-20"],[1,"pr-20",2,"width","1px"],["mat-raised-button","","download","","target","_blank"],["colspan","4",1,"pb-0","mb-0"],[1,"w-100-p","px-3","pb-12"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex"],[1,"pr-20"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div",4),u.Ub(5,"div",5),u.Ub(6,"mat-icon"),u.Nc(7,"attach_file"),u.Tb(),u.Nc(8,"\xa0"),u.Tb(),u.Ub(9,"div",6),u.Nc(10,"Attachments"),u.Tb(),u.Ub(11,"div",7),u.Ub(12,"input",8),u.cc("change",(function(t){return e.fileChange(t)})),u.Tb(),u.Ub(13,"label",9),u.Ub(14,"mat-icon",10),u.Nc(15,"cloud_upload"),u.Tb(),u.Nc(16,"\xa0 \xa0UPLOAD FILE "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(17,"div",11),u.Ub(18,"div"),u.Ub(19,"table",12),u.Ub(20,"thead",13),u.Ub(21,"th",14),u.Nc(22," Name "),u.Tb(),u.Ub(23,"th",14),u.Nc(24," Uploaded At "),u.Tb(),u.Ub(25,"th",15),u.Nc(26," Action "),u.Tb(),u.Tb(),u.Ub(27,"tbody"),u.Lc(28,Ht,12,7,"tr",16),u.Lc(29,Gt,10,1,"tr",17),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(12),u.nc("hidden",!0),u.Bb(16),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length)))},directives:[f.a,p.s,p.t,h.a],pipes:[p.f],styles:[""]}),Yt),Qt=c("l51w"),Wt=c("pu8Q");function Xt(t,e){if(1&t&&(u.Ub(0,"span"),u.Nc(1),u.Tb()),2&t){var i=u.gc().$implicit;u.Eb("badge py-2 px-3 font-size-12 ",null!=i&&i.required?"badge-danger":"badge-info",""),u.Bb(1),u.Pc(" ",null!=i&&i.required?"Required":"Not Required"," ")}}function te(t,e){1&t&&(u.Ub(0,"span",20),u.Nc(1," Uploaded "),u.Tb())}function ee(t,e){1&t&&(u.Ub(0,"label",21),u.Ub(1,"mat-icon",22),u.Nc(2,"cloud_upload"),u.Tb(),u.Nc(3,"\xa0 Upload "),u.Tb())}function ie(t,e){if(1&t&&(u.Ub(0,"a",23),u.Ub(1,"mat-icon"),u.Nc(2,"cloud_download"),u.Tb(),u.Nc(3,"\xa0 Download "),u.Tb()),2&t){var i=u.gc().$implicit;u.Cb("href",null==i?null:i.attachment_data.file,u.Dc)}}function ne(t,e){if(1&t){var i=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td",12),u.Nc(2),u.Tb(),u.Ub(3,"td",13),u.Lc(4,Xt,2,4,"span",14),u.Lc(5,te,2,0,"span",15),u.Tb(),u.Ub(6,"td",13),u.Nc(7),u.Tb(),u.Ub(8,"td",16),u.Ub(9,"input",17),u.cc("change",(function(t){u.Bc(i);var n=e.$implicit;return u.gc().fileChange(t,n)})),u.Tb(),u.Lc(10,ee,4,0,"label",18),u.Lc(11,ie,4,1,"a",19),u.Tb(),u.Tb()}if(2&t){var n=e.$implicit;u.Bb(2),u.Pc(" ",null==n?null:n.name," "),u.Bb(2),u.nc("ngIf",!(null!=n&&n.attachment_data)),u.Bb(1),u.nc("ngIf",null==n?null:n.attachment_data),u.Bb(2),u.Pc(" ",null==n?null:n.description," "),u.Bb(2),u.nc("hidden",!0),u.Bb(1),u.nc("ngIf",!(null!=n&&n.attachment_data)),u.Bb(1),u.nc("ngIf",null==n?null:n.attachment_data)}}function ae(t,e){1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",24),u.Ub(2,"div",25),u.Pb(3,"mat-spinner",26),u.Tb(),u.Tb(),u.Tb())}function oe(t,e){1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",24),u.Ub(2,"div",27),u.Ub(3,"div",28),u.Ub(4,"div",29),u.Ub(5,"div",30),u.Ub(6,"mat-icon"),u.Nc(7," info_circle "),u.Tb(),u.Tb(),u.Ub(8,"div",31),u.Nc(9," There is currently no documents setup for this organization. Kindly contact the administrator "),u.Tb(),u.Pb(10,"div",32),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb())}var ce,re=((ce=function(){function t(e,i,n){o(this,t),this._dataLayer=e,this._authConfig=i,this._route=n,this.loading=!0,this.list=[]}return a(t,[{key:"fileChange",value:function(t,e){var i=this,n={file:t.target.files[0],attachment_type:"APPLICATION_DOCUMENT",document_type:e.id,organization:this.organization},a=new FormData;a.append("file",n.file),a.append("attachment_type",n.attachment_type);var o={attachment:"",organization:this.organization,document_type:n.document_type};this._dataLayer.uploadFile("attachments",a).subscribe((function(t){o=Object.assign(Object.assign({},o),{attachment:t.id}),i._dataLayer.create("organization-attachments",o,void 0,{key:"current_org_id",value:i.organization}).subscribe((function(t){i.getApplicationAttachments()}),(function(t){return console.log(t)}))}),(function(t){return console.log(t)}))}},{key:"getApplicationAttachments",value:function(){var t=this;this._dataLayer.list("organization-attachments",{organization:this.organization,current_org_id:this.organization}).subscribe((function(e){var i=e.results;t.list=t.list.map((function(t){var e=Object(l.find)(i,{document_type:t.id});return Object(l.isUndefined)(e)||(t.fileObj=e,t.inkedAttachment=e.id,t.attachment_data=e.attachment_data),t}))}),(function(t){return console.log(t)}))}},{key:"getDocumentTypes",value:function(){var t=this,e={org_type:this.linkedOrganization.org_type,current_org_id:this.organization};console.log(e,this.organization),this.loading=!0,this._dataLayer.list("document-types",Object.assign({},e)).subscribe((function(e){t.loading=!1,t.list=e.results,t.getApplicationAttachments()}),(function(e){t.loading=!1,console.log(e)}))}},{key:"getOrgnization",value:function(t){var e=this;this._dataLayer.get("organizations",t,{current_org_id:this.organization}).subscribe((function(t){e.linkedOrganization=t,e.getDocumentTypes()}),(function(t){return console.log(t)}))}},{key:"getParams",value:function(){var t=this;this._route.queryParams.subscribe((function(e){t.linkedOrgId=e.organization,t.getOrgnization(e.organization)}))}},{key:"ngOnInit",value:function(){this.organization=Object(l.get)(JSON.parse(this._authConfig.getOrganization()),"organization",null),this.getParams()}}]),t}()).\u0275fac=function(t){return new(t||ce)(u.Ob(s.a),u.Ob(S.a),u.Ob(z.a))},ce.\u0275cmp=u.Ib({type:ce,selectors:[["attachments-listing"]],inputs:{tab:"tab",item:"item"},decls:26,vars:3,consts:[[1,"w-100-p"],[1,"card"],[1,"card-header","bg-white","pt-2","pb-1"],[1,"title","flex-fill","font-weight-600","font-size-16","pt-2","pl-3","d-flex","align-items-center"],[1,"flex-fill","pl-3","mt-n2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13","mb-0"],[1,"thead-light","font-size-12"],[1,"pl-24"],[2,"width","1px"],[4,"ngFor","ngForOf"],[4,"ngIf"],["valign","middle",1,"pl-24","valign-middle"],["valign","middle",1,"valign-middle"],[3,"class",4,"ngIf"],["class","badge badge-success \n                                py-2 px-3 font-size-12",4,"ngIf"],[1,"pr-24"],["id","input-file-id","type","file",1,"ng-hide",3,"hidden","change"],["for","input-file-id","class","mat-button \n                                mat-stroked-button md-primary d-flex",4,"ngIf"],["mat-stroked-button","","download","","target","_blank",4,"ngIf"],[1,"badge","badge-success","py-2","px-3","font-size-12"],["for","input-file-id",1,"mat-button","mat-stroked-button","md-primary","d-flex"],[1,"mt-2"],["mat-stroked-button","","download","","target","_blank"],["colspan","3",1,"pb-0","mb-0","pl-24"],[1,"w-100-p","px-3","d-flex","justify-content-center","py-16"],["diameter","45"],[1,"w-100-p","px-3"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex","align-items-center"],[1,"pr-20"],[1,"flex-fill"],[1,"pr-8"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div"),u.Ub(5,"mat-icon"),u.Nc(6,"attachment"),u.Tb(),u.Nc(7,"\xa0 "),u.Tb(),u.Ub(8,"div",4),u.Nc(9,"Attachments"),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",5),u.Ub(11,"div"),u.Ub(12,"table",6),u.Ub(13,"thead",7),u.Ub(14,"th",8),u.Nc(15," File "),u.Tb(),u.Ub(16,"th"),u.Nc(17," Required "),u.Tb(),u.Ub(18,"th"),u.Nc(19," Description "),u.Tb(),u.Ub(20,"th",9),u.Nc(21," Action "),u.Tb(),u.Tb(),u.Ub(22,"tbody"),u.Lc(23,ne,12,7,"tr",10),u.Lc(24,ae,4,0,"tr",11),u.Lc(25,oe,11,0,"tr",11),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(23),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length)&&e.loading),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length||e.loading)))},directives:[f.a,p.s,p.t,h.a,Wt.b],encapsulation:2}),ce),le=c("VmX7"),se=c("rJgo");function be(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",11),u.cc("click",(function(){u.Bc(i);var t=e.$implicit;return u.gc().setSelected(t.id)})),u.Ub(1,"div",12),u.Nc(2),u.Tb(),u.Ub(3,"div",13),u.Ub(4,"div",14),u.Ub(5,"div",15),u.Ub(6,"mat-icon",16),u.Nc(7,"attach_money"),u.Tb(),u.Tb(),u.Ub(8,"div",17),u.Nc(9),u.hc(10,"currency"),u.Tb(),u.Tb(),u.Ub(11,"div",18),u.Ub(12,"div",15),u.Ub(13,"mat-icon",19),u.Nc(14,"people"),u.Tb(),u.Tb(),u.Ub(15,"div",20),u.Nc(16),u.Ub(17,"span",21),u.Nc(18," \xa0For\xa0 "),u.Tb(),u.Nc(19),u.hc(20,"number"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=e.$implicit;u.Gb("active",n.active),u.Bb(2),u.Pc(" ",null==n?null:n.allowance_data.name," "),u.Bb(7),u.Pc(" ",u.jc(10,6,null==n?null:n.actual_total,"Kshs ")," "),u.Bb(7),u.Pc(" ",null==n?null:n.head_count," "),u.Bb(3),u.Pc(" ",u.jc(20,9,null==n?null:n.days,"1.0")," day(s) ")}}function de(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",22),u.Ub(1,"div",23),u.Ub(2,"mat-card",24),u.Ub(3,"div",25),u.Ub(4,"div",26),u.Ub(5,"div",27),u.Nc(6," Select Members "),u.Tb(),u.Ub(7,"div",28),u.Ub(8,"button",29),u.Ub(9,"mat-icon",30),u.Nc(10,"more_vert"),u.Tb(),u.Tb(),u.Ub(11,"mat-menu",null,31),u.Ub(13,"button",32),u.cc("click",(function(){return u.Bc(i),u.gc().openCRUDDialog("rationalize")})),u.Ub(14,"mat-icon",33),u.Nc(15,"compare_arrows"),u.Tb(),u.Nc(16," Rationalize "),u.Tb(),u.Ub(17,"button",32),u.cc("click",(function(){return u.Bc(i),u.gc().openCRUDDialog("approve")})),u.Ub(18,"mat-icon",33),u.Nc(19,"check"),u.Tb(),u.Nc(20," Approve "),u.Tb(),u.Ub(21,"button",32),u.cc("click",(function(){return u.Bc(i),u.gc().openCRUDDialog("reject")})),u.Ub(22,"mat-icon",34),u.Nc(23,"close"),u.Tb(),u.Nc(24," Reject "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(25,"mat-card-body",35),u.Ub(26,"div",36),u.Ub(27,"dynamic-table",37),u.cc("postCRUDFxn",(function(){return u.Bc(i),u.gc().refreshSelected()})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.xc(12),a=u.gc();u.Bb(8),u.nc("matMenuTriggerFor",n),u.Bb(19),u.nc("tabbedItem",a.item)("largeForms",!0)("addOrg",!0)("customHeader",!0)("modelKey",null==a.configs?null:a.configs.modelKey)("cmptParams",a.cmptParams)("headers",null==a.configs?null:a.configs.headers)("no-card",!0)("has-action",!0)("store",null==a.configs?null:a.configs.getStore)("topActions",null==a.configs?null:a.configs.topActions)("hasSearch",!0)("dropDownActions",null==a.configs?null:a.configs.actions)("rows",a.configs.rows)}}var ue,ge=((ue=function(){function t(e,i){o(this,t),this._route=e,this._dataLayer=i,this.onNavigate=new u.n,this.list=[],this.nestedList=[],this.loading=!0,this.cmptParams={}}return a(t,[{key:"changeStep",value:function(t){this.onNavigate.emit(t)}},{key:"setSelected",value:function(t){if(this.list.length){var e=Object(l.find)(this.list,{active:!0});if(Object(l.isUndefined)(e)&&Object(l.isUndefined)(t))this.list[0].active=!0,this.selectedAllowance=void 0,this.presetAllowance(0);else if(Object(l.isUndefined)(t))this.selectedAllowance=Object(l.indexOf)(this.list,e);else{var i=Object(l.indexOf)(this.list,Object(l.find)(this.list,{id:t}));console.log(i),this.selectedAllowance=void 0,this.presetAllowance(i)}}}},{key:"presetAllowance",value:function(t){var e=this;this.loading=!0;var i=Object(l.indexOf)(this.list,Object(l.find)(this.list,{active:!0}));this.selectedAllowance=void 0,i>=0&&(this.list[i].active=!1),this.list[t].active=!0,this.getNestedList(this.list[t].id),this._dataLayer.get("organization-budget-activity-allowances",this.list[t].id,{current_org_id:this.orgId}).subscribe((function(i){e.selectedAllowance=e.list[t]||i,e.cmptParams=Object.assign(Object.assign({},e.cmptParams),{budget_activity_allowance:e.list[t].id}),e.loading=!1}),(function(t){console.log(t),e.loading=!1}))}},{key:"getNestedList",value:function(t){var e=this;this._dataLayer.list("application-allowances",{current_org_id:this.orgId,budget_activity_allowance:t}).subscribe((function(t){e.nestedList=t.results}),(function(t){return console.log(t)}))}},{key:"getMainList",value:function(){var t=this;this._dataLayer.list("organization-budget-activity-allowances",{current_org_id:this.orgId,budget_activity:this.item.activity}).subscribe((function(e){t.list=e.results,t.setSelected()}),(function(t){return console.log(t)}))}},{key:"getItem",value:function(){var t=this;this._dataLayer.get("applications",this.itemId,{current_org_id:this.orgId}).subscribe((function(e){console.log(e),t.item=e,t.getMainList()}),(function(t){return console.log(t)}))}},{key:"getItemId",value:function(){var t=this;this._route.queryParams.subscribe((function(e){parseInt(e.current,10),t.itemId=parseInt(e.id,10),t.configs=t.tab,console.log(t.configs),t.getItem()}))}},{key:"ngOnInit",value:function(){this.orgId=Object(l.get)(JSON.parse(localStorage.getItem("organization")),"organization",null),console.log("Called",this.orgId),this.getItemId()}}]),t}()).\u0275fac=function(t){return new(t||ue)(u.Ob(z.a),u.Ob(s.a))},ue.\u0275cmp=u.Ib({type:ue,selectors:[["nested-inline-tabbed-list"]],inputs:{tab:"tab",current:"current"},outputs:{onNavigate:"onNavigate"},features:[u.Ab([s.a])],decls:16,vars:2,consts:[[1,"card","main-wrapper"],[1,"card-header","pt-3","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-0","pt-0"],[1,"w-100-p","d-flex","flex-row","px-0"],[1,"h-100-p","overflow-auto","innerScroll","page-layout","col-lg-3","main-list"],[1,"ps"],["fuseperfectscrollbar","",1,"mail-list","overflow-auto"],["class","list-item",3,"active","click",4,"ngFor","ngForOf"],["class","col-lg-9 overflow-auto innerScroll px-0 mt-1\n                bg-light pb-12",4,"ngIf"],[1,"list-item",3,"click"],[1,"pb-0"],[1,"d-flex","flex-column","align-items-start"],[1,"d-flex","flex-row","align-items-center","fullwidth","ml-n1"],[1,"pt-2"],[1,"font-size-18","text-muted"],[1,"font-size-14","text-muted","pl-1"],[1,"d-flex","flex-row","align-items-center","fullwidth","pt-0","mt-n2"],[1,"font-size-16","text-muted"],[1,"font-size-14","text-muted"],[1,"font-weight-bold"],[1,"col-lg-9","overflow-auto","innerScroll","px-0","mt-1","bg-light","pb-12"],[1,"full-width","bg-light","px-16","pt-12","pb-2"],[1,"mat-elevation-z1","p-0","mb-2","w-100-p"],[1,"card-header","bg-white","font-size-16"],[1,"d-flex","flex-row"],[1,"flex-fill","pb-1","pl-8","title","pt-2"],[1,"pt-1","pr-3"],["mat-mini-fab","","color","default","aria-label","Activity actions",1,"mat-elevation-z0","border","bg-light","h-32","w-32",3,"matMenuTriggerFor"],[1,"mt-n2","fonnt-size-20"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"text-success","font-size-18","mr-0"],[1,"text-danger","font-size-18","mr-0"],[1,"p-0"],[1,"w-100-p","mt-0","px-0"],["title","Listing",1,"w-100-p",3,"tabbedItem","largeForms","addOrg","customHeader","modelKey","cmptParams","headers","no-card","has-action","store","topActions","hasSearch","dropDownActions","rows","postCRUDFxn"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"mat-icon"),u.Nc(5,"account_balance_wallet"),u.Tb(),u.Tb(),u.Ub(6,"div"),u.Nc(7," Allowances "),u.Tb(),u.Tb(),u.Tb(),u.Ub(8,"div",4),u.Ub(9,"div"),u.Ub(10,"div",5),u.Ub(11,"div",6),u.Ub(12,"div",7),u.Ub(13,"div",8),u.Lc(14,be,21,12,"div",9),u.Tb(),u.Tb(),u.Tb(),u.Lc(15,de,28,15,"div",10),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(14),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",e.selectedAllowance&&!e.loading))},directives:[f.a,p.s,p.t,M.a,h.b,se.c,se.d,se.a,Qt.a],pipes:[p.d,p.g],styles:["[_nghost-%COMP%]     .btn-icon{min-width:1rem;width:1rem}[_nghost-%COMP%]     .btn-icon:first-of-type{margin-left:-.5rem}[_nghost-%COMP%]     .mat-success{background-color:teal!important;color:#fff!important}[_nghost-%COMP%]     .main-wrapper{flex:1 1 auto;flex-direction:column;box-sizing:border-box}[_nghost-%COMP%]     .main-wrapper .main-card-content{min-height:55.5vh;max-height:85.5vh;border-left:1px solid #e0e0e0}[_nghost-%COMP%]     .main-wrapper .main-list{flex:1 1 0%;box-sizing:border-box;position:relative;display:flex;flex-direction:column;flex:1;padding:0;overflow-y:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .main-wrapper .main-list .mail-list{position:relative;display:flex;flex-direction:column;flex:1;min-height:55vh;max-height:85.5vh}[_nghost-%COMP%]     .main-wrapper .main-list .list-item{flex-shrink:0;position:relative;padding:16px 24px;cursor:pointer;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]     .main-wrapper .main-list .list-item.active{background:rgba(0,0,0,.04)}[_nghost-%COMP%]     .main-wrapper .badge.created, [_nghost-%COMP%]     .main-wrapper .badge.draft, [_nghost-%COMP%]     .main-wrapper .badge.on_going, [_nghost-%COMP%]     .main-wrapper .badge.open, [_nghost-%COMP%]     .main-wrapper .badge.pending{background-color:#ffc107;color:#212529}[_nghost-%COMP%]     .main-wrapper .badge.assigned, [_nghost-%COMP%]     .main-wrapper .badge.first_level_approved, [_nghost-%COMP%]     .main-wrapper .badge.rationalized, [_nghost-%COMP%]     .main-wrapper .badge.submitted{background-color:#2196f3;color:#fff}[_nghost-%COMP%]     .main-wrapper .badge.cancelled, [_nghost-%COMP%]     .main-wrapper .badge.rejected{background-color:#dc3545;color:#fff}[_nghost-%COMP%]     .main-wrapper .badge.overdue{background-color:#343a40;color:#fff}[_nghost-%COMP%]     .main-wrapper .badge.accepted, [_nghost-%COMP%]     .main-wrapper .badge.approved, [_nghost-%COMP%]     .main-wrapper .badge.completed, [_nghost-%COMP%]     .main-wrapper .badge.final_approved, [_nghost-%COMP%]     .main-wrapper .badge.finished{background-color:#28a745;color:#fff}[_nghost-%COMP%]     .mat-mini-fab .mat-button-wrapper{padding-top:0!important}"]}),ue);function pe(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",31),u.Ub(1,"span",32),u.cc("click",(function(){return u.Bc(i),u.gc().goBack()})),u.Ub(2,"mat-icon",33),u.Nc(3," arrow_back "),u.Tb(),u.Tb(),u.Tb()}}function me(t,e){if(1&t&&(u.Ub(0,"mat-icon"),u.Nc(1),u.Tb()),2&t){var i=u.gc(2).$implicit;u.Bb(1),u.Oc(null==i?null:i.icon)}}function fe(t,e){if(1&t){var i=u.Vb();u.Ub(0,"button",38),u.cc("click",(function(){u.Bc(i);var t=u.gc().$implicit;return u.gc(3).headerActions[t.action](null==t?null:t.configs,null==t?null:t.btnText)})),u.Lc(1,me,2,1,"mat-icon",13),u.Nc(2),u.Tb()}if(2&t){var n=u.gc().$implicit;u.nc("color",n.color),u.Bb(1),u.nc("ngIf",null==n?null:n.icon),u.Bb(1),u.Pc(" \xa0",null==n?null:n.btnText," ")}}function he(t,e){if(1&t&&(u.Ub(0,"span"),u.Lc(1,fe,3,3,"button",37),u.Tb()),2&t){var i=e.$implicit,n=u.gc(3);u.Bb(1),u.nc("ngIf",n.statusChecker(i)&&n.authChecker(i))}}function ve(t,e){if(1&t&&(u.Ub(0,"div",36),u.Lc(1,he,2,1,"span",16),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.nc("ngForOf",null==i.headerConfig?null:i.headerConfig.actions)}}function Te(t,e){if(1&t&&(u.Ub(0,"div",34),u.Lc(1,ve,2,1,"div",35),u.Tb()),2&t){var i=u.gc();u.Bb(1),u.nc("ngIf",null==i.item?null:i.item.id)}}function ye(t,e){1&t&&(u.Sb(0),u.Nc(1," Loading tabs... "),u.Rb())}function Ue(t,e){if(1&t&&u.Nc(0),2&t){var i=u.gc().$implicit;u.Oc(i.label)}}function _e(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",50),u.Ub(1,"button",51),u.cc("click",(function(){return u.Bc(i),u.gc(3).downloadSummary()})),u.Ub(2,"mat-icon",52),u.Nc(3," get_app "),u.Tb(),u.Nc(4," \xa0"),u.Ub(5,"span",53),u.Nc(6,"SUMMARY"),u.Tb(),u.Tb(),u.Tb()}}function Oe(t,e){if(1&t&&(u.Ub(0,"div"),u.Nc(1),u.hc(2,"currency"),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc(3);u.Bb(1),u.Pc(" ",u.jc(2,1,n.item[i.key],"Kshs ")," ")}}function Ae(t,e){if(1&t&&(u.Ub(0,"div"),u.Nc(1),u.hc(2,"date"),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc(3);u.Bb(1),u.Pc(" ",u.jc(2,1,n.item[i.key],"dd-MM-yyyy")," ")}}function xe(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"span"),u.hc(2,"lowercase"),u.Nc(3),u.hc(4,"removeUnderscore"),u.Tb(),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc(3);u.Bb(1),u.Eb("badge ",u.ic(2,4,n.item[i.key])," \n                                                        px-2 pb-1 pt-2 font-size-10"),u.Bb(2),u.Pc(" ",u.ic(4,6,n.item[i.key])," ")}}function Ne(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"nested-string",60),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc(3);u.Bb(1),u.nc("type",i.fieldType)("config",i)("item",n.item)}}function Ce(t,e){if(1&t&&(u.Ub(0,"div"),u.Lc(1,Oe,3,4,"div",13),u.Lc(2,Ae,3,4,"div",13),u.Lc(3,xe,5,8,"div",13),u.Lc(4,Ne,2,3,"div",13),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc(3);u.Bb(1),u.nc("ngIf","currency"===i.type),u.Bb(1),u.nc("ngIf","date"===i.type),u.Bb(1),u.nc("ngIf","status"===i.type&&(null==n.item?null:n.item.id)),u.Bb(1),u.nc("ngIf","nested"===i.type&&n.item.organization)}}function ke(t,e){if(1&t&&(u.Ub(0,"div",61),u.Nc(1),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc(3);u.Bb(1),u.Pc(" ",n.removeUnderscore(n.item[i.key])," ")}}function Be(t,e){1&t&&(u.Ub(0,"span"),u.Ub(1,"mat-icon"),u.Nc(2," remove "),u.Tb(),u.Tb())}function Ie(t,e){if(1&t&&(u.Ub(0,"div",54),u.Ub(1,"div",55),u.Ub(2,"div",36),u.Ub(3,"mat-icon",56),u.Nc(4),u.Tb(),u.Tb(),u.Ub(5,"div",57),u.Ub(6,"div",58),u.Nc(7),u.Tb(),u.Ub(8,"div"),u.Lc(9,Ce,5,4,"div",13),u.Lc(10,ke,2,1,"div",59),u.Lc(11,Be,3,0,"span",13),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=e.$implicit,n=u.gc(3);u.Bb(4),u.Pc(" ",i.icon," "),u.Bb(3),u.Pc(" ",i.label," "),u.Bb(2),u.nc("ngIf",i.type),u.Bb(1),u.nc("ngIf",!i.type),u.Bb(1),u.nc("ngIf",!n.item[i.key])}}function we(t,e){1&t&&u.Qb(0)}function Pe(t,e){if(1&t&&(u.Ub(0,"div",62),u.Lc(1,we,1,0,"ng-container",63),u.Tb()),2&t){u.gc(3);var i=u.xc(25);u.Bb(1),u.nc("ngTemplateOutlet",i)}}function ze(t,e){1&t&&u.Qb(0)}function Se(t,e){if(1&t&&(u.Ub(0,"div",62),u.Lc(1,ze,1,0,"ng-container",63),u.Tb()),2&t){u.gc(3);var i=u.xc(27);u.Bb(1),u.nc("ngTemplateOutlet",i)}}function Le(t,e){if(1&t&&(u.Ub(0,"div",64),u.Pb(1,"organization-summary",65),u.Tb()),2&t){var i=u.gc(3);u.Bb(1),u.nc("organization",i.item.organization_data)}}function Me(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"application-me",66),u.Tb()),2&t){var i=u.gc(3);u.Bb(1),u.nc("item",i.item)}}function Ee(t,e){if(1&t&&(u.Ub(0,"div",67),u.Pb(1,"tabbed-inline-list",68),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(1),u.nc("tab",i)("item",n.item)("parentKey",null==i?null:i.parentKey)}}function De(t,e){if(1&t&&(u.Ub(0,"div",64),u.Pb(1,"activity-summary",69),u.Tb()),2&t){var i=u.gc(3);u.Bb(1),u.nc("activity",i.item.organization_data)("item",i.item)}}function Fe(t,e){if(1&t&&(u.Ub(0,"div",64),u.Pb(1,"audit-trail",70),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(1),u.nc("context",i.context)("item",n.item)}}function je(t,e){if(1&t&&(u.Ub(0,"div",64),u.Pb(1,"header-attachments",70),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(1),u.nc("context",i.context)("item",n.item)}}function Re(t,e){if(1&t&&(u.Ub(0,"div",41),u.Ub(1,"div",42),u.Ub(2,"div",43),u.Nc(3),u.hc(4,"uppercase"),u.Tb(),u.Lc(5,_e,7,0,"div",44),u.Tb(),u.Ub(6,"div",45),u.Lc(7,Ie,12,5,"div",46),u.Tb(),u.Lc(8,Pe,2,1,"div",47),u.Lc(9,Se,2,1,"div",47),u.Lc(10,Le,2,1,"div",48),u.Lc(11,Me,2,1,"div",13),u.Lc(12,Ee,2,3,"div",49),u.Lc(13,De,2,2,"div",48),u.Lc(14,Fe,2,2,"div",48),u.Lc(15,je,2,2,"div",48),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(2),u.Gb("pt-3","Application"===i.context),u.Bb(1),u.Pc(" ",u.ic(4,13,i.context||"ORAGNIZATION")," DETAILS "),u.Bb(2),u.nc("ngIf","Application"===(null==i?null:i.context)),u.Bb(2),u.nc("ngForOf",i.detailsConf),u.Bb(1),u.nc("ngIf",(null==n.item?null:n.item.id)&&(null==i?null:i.extraDetails)),u.Bb(1),u.nc("ngIf",(null==n.item?null:n.item.id)&&(null==i?null:i.totalsSummary)),u.Bb(1),u.nc("ngIf",null==i?null:i.orgSummary),u.Bb(1),u.nc("ngIf",(null==i?null:i.applicationME)&&(null==n.item?null:n.item.id)),u.Bb(1),u.nc("ngIf",(null==i?null:i.bankConfs)&&(null==n.item?null:n.item.id)),u.Bb(1),u.nc("ngIf",(null==n.item?null:n.item.id)&&(null==i?null:i.activitySummary)),u.Bb(1),u.nc("ngIf",(null==i?null:i.auditTrail)&&(null==n.item?null:n.item.id)),u.Bb(1),u.nc("ngIf",(null==i?null:i.attachments)&&(null==n.item?null:n.item.id))}}function Ve(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"dynamic-table",71),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(1),u.nc("tabbedItem",n.item)("addOrg",!0)("modelKey",null==i?null:i.modelKey)("cmptParams",null==i?null:i.cmptParams)("headers",null==i?null:i.headers)("no-card",!0)("has-action",!0)("store",null==i?null:i.gridConf.getStore)("dropDownActions",null==i?null:i.dropDownActions)("topActions",null==i?null:i.topActions)("hasSearch",!0)("actions",null==i?null:i.actions)("rows",i.rows)}}function Ke(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"attachments-listing",72),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(1),u.nc("tab",i)("item",n.item)}}function $e(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"nested-list",66),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.nc("item",i.item)}}function Je(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"nested-inline-tabbed-list",73),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(1),u.nc("item",n.item)("tab",i)}}function qe(t,e){if(1&t&&(u.Ub(0,"mat-tab"),u.Lc(1,Ue,1,1,"ng-template",39),u.Lc(2,Re,16,15,"div",40),u.Lc(3,Ve,2,13,"div",13),u.Lc(4,Ke,2,2,"div",13),u.Lc(5,$e,2,1,"div",13),u.Lc(6,Je,2,2,"div",13),u.Tb()),2&t){var i=e.$implicit,n=e.index,a=u.gc();u.Bb(2),u.nc("ngIf","form"===i.content&&n===a.currIndex),u.Bb(1),u.nc("ngIf","grid"===i.content&&n===a.currIndex&&(null==a.item?null:a.item.id)),u.Bb(1),u.nc("ngIf","attachments"===i.content&&n===a.currIndex&&(null==a.item?null:a.item.id)),u.Bb(1),u.nc("ngIf","nested-list"===i.content&&(null==a.item?null:a.item.id)&&n==a.currIndex),u.Bb(1),u.nc("ngIf","nested-inline-list"===i.content&&(null==a.item?null:a.item.id))}}function He(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1,"remove"),u.Tb())}function Ge(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1,"remove"),u.Tb())}function Ye(t,e){if(1&t&&(u.Ub(0,"span"),u.Nc(1),u.hc(2,"number"),u.Ub(3,"span"),u.Nc(4,"%"),u.Tb(),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.Pc(" ",u.jc(2,1,(null==i.item?null:i.item.total)/(null==i.item?null:i.item.activity_actual_total),"1.1-2")," ")}}function Ze(t,e){if(1&t&&(u.Ub(0,"div",74),u.Ub(1,"div",75),u.Ub(2,"div",76),u.Ub(3,"div",77),u.Ub(4,"div",78),u.Ub(5,"div",79),u.Ub(6,"mat-icon"),u.Nc(7,"assignment"),u.Tb(),u.Nc(8,"\xa0 "),u.Tb(),u.Ub(9,"div"),u.Nc(10,"Other Application Details"),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",80),u.Ub(12,"div"),u.Ub(13,"table",81),u.Ub(14,"thead",82),u.Ub(15,"th",83),u.Nc(16," Type "),u.Tb(),u.Ub(17,"th"),u.Nc(18," Organization "),u.Tb(),u.Ub(19,"th"),u.Nc(20," Organization Type "),u.Tb(),u.Ub(21,"th"),u.Nc(22," Rationalized "),u.Tb(),u.Ub(23,"th"),u.Nc(24," Approved "),u.Tb(),u.Ub(25,"th"),u.Nc(26," Variance "),u.Tb(),u.Tb(),u.Ub(27,"tbody"),u.Ub(28,"tr"),u.Ub(29,"td",83),u.Ub(30,"span",84),u.Nc(31),u.Tb(),u.Tb(),u.Ub(32,"td"),u.Nc(33),u.Tb(),u.Ub(34,"td",61),u.Nc(35),u.hc(36,"removeUnderscore"),u.Tb(),u.Ub(37,"td"),u.Nc(38),u.hc(39,"currency"),u.Lc(40,He,2,0,"mat-icon",13),u.Tb(),u.Ub(41,"td"),u.Nc(42),u.hc(43,"currency"),u.Lc(44,Ge,2,0,"mat-icon",13),u.Tb(),u.Ub(45,"td"),u.Lc(46,Ye,5,4,"span",13),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc();u.Bb(31),u.Pc(" ",null==i.item?null:i.item.application_type," "),u.Bb(2),u.Pc(" ",null==i.item?null:i.item.organization_data.name," "),u.Bb(2),u.Pc(" ",u.ic(36,8,null==i.item?null:i.item.organization_data.org_type_code)," "),u.Bb(3),u.Pc(" ",u.jc(39,10,null==i.item?null:i.item.rationalized_total,"Kshs ")," "),u.Bb(2),u.nc("ngIf",!(null!=i.item&&i.item.rationalized_total)),u.Bb(2),u.Pc(" ",u.jc(43,13,null==i.item?null:i.item.actual_total,"Kshs ")," "),u.Bb(2),u.nc("ngIf",!(null!=i.item&&i.item.actual_total)),u.Bb(2),u.nc("ngIf",null==i.item?null:i.item.total)}}function Qe(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1,"remove"),u.Tb())}function We(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Nc(1,"remove"),u.Tb())}function Xe(t,e){if(1&t&&(u.Ub(0,"div",74),u.Ub(1,"div",85),u.Ub(2,"div",76),u.Ub(3,"div",77),u.Ub(4,"div",78),u.Ub(5,"div",79),u.Ub(6,"mat-icon"),u.Nc(7,"monetization_on"),u.Tb(),u.Nc(8,"\xa0 "),u.Tb(),u.Ub(9,"div"),u.Nc(10,"Totals Summary"),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",86),u.Ub(12,"div"),u.Ub(13,"table",87),u.Ub(14,"thead",88),u.Ub(15,"th",83),u.Nc(16," Applied Total "),u.Tb(),u.Ub(17,"th"),u.Nc(18," Rationalized Total "),u.Tb(),u.Ub(19,"th"),u.Nc(20," Approved Total "),u.Tb(),u.Tb(),u.Ub(21,"tbody"),u.Ub(22,"tr"),u.Ub(23,"td",83),u.Nc(24),u.hc(25,"currency"),u.Tb(),u.Ub(26,"td"),u.Nc(27),u.hc(28,"currency"),u.Lc(29,Qe,2,0,"mat-icon",13),u.Tb(),u.Ub(30,"td"),u.Nc(31),u.hc(32,"currency"),u.Lc(33,We,2,0,"mat-icon",13),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc();u.Bb(24),u.Pc(" ",u.jc(25,5,null==i.item?null:i.item.total,"Kshs ")," "),u.Bb(3),u.Pc(" ",u.jc(28,8,null==i.item?null:i.item.rationalized_total,"Kshs ")," "),u.Bb(2),u.nc("ngIf",!(null!=i.item&&i.item.rationalized_total)),u.Bb(2),u.Pc(" ",u.jc(32,11,null==i.item?null:i.item.actual_total,"Kshs ")," "),u.Bb(2),u.nc("ngIf",!(null!=i.item&&i.item.actual_total))}}var ti,ei=((ti=function(){function e(t,i,n,a,c,r,l){var s=this;o(this,e),this._router=t,this._route=i,this._authConfig=n,this._tabsService=a,this._dataLayer=c,this._dialog=r,this._authChecker=l,this.item={},this.tabs=[],this.currIndex=0,this.cmptParams={},this.headerActions={submit:function(t,e){s.openDialog(t,e)},rationalize:function(t,e){s.openDialog(t,e)},approve:function(t,e){s.openDialog(t,e)},reject:function(t,e){s.openDialog(t,e)}}}return a(e,[{key:"goBack",value:function(){this._router.navigate([this.listRoute])}},{key:"openDialog",value:function(t,e){var i=this;this._dialog.open(w,{data:{item:this.item,configs:t,action:e},width:"40%"}).afterClosed().subscribe((function(t){console.log(t),"refresh"===t&&i.getItem()}))}},{key:"statusChecker",value:function(t){return Object(l.indexOf)(t.activeStates,this.item.status)>=0}},{key:"authChecker",value:function(t){return!Object(l.has)(t,"bpType")||this._authChecker.isActionAllowed(t.bpType,t.roles)}},{key:"setCmptParams",value:function(){var t=this;this.tabs.tabs=this.tabs.tabs.map((function(e){if(Object(l.has)(e,"modelKey")){var n=Object(l.get)(e,"listParams",{});return Object.assign(Object.assign({},e),{cmptParams:Object.assign(i({},e.modelKey,t.item.id),n)})}return e})),this.loadTabs(this.tabs.tabs)}},{key:"getItem",value:function(){var t=this;this.item={},this._dataLayer.get(this.apiStore,this.itemId,{current_org_id:this.organization}).subscribe((function(e){t.item=e,t.setCmptParams()}),(function(t){return console.log(t)}))}},{key:"loadTabs",value:function(e){this.asyncTabs=new r.a((function(i){setTimeout((function(){i.next(t(e))}),250)}))}},{key:"getNested",value:function(t){return!l.isUndefined(t)&&l.isString(t)?l.get(this.item,t,null):t}},{key:"removeUnderscore",value:function(t){return!l.isUndefined(t)&&l.isString(t)?t.replace(/_/g," "):t}},{key:"getRouteConfigs",value:function(){var t=this;this._route.data.subscribe((function(e){t.store=e.store,t.apiStore=e.endPoint,t.listRoute=e.listRoute,t.tabs=t._tabsService.getTabs(t.store);var i=t.tabs.tabs;t.headerConfig=Object.assign({},t.tabs.headerConfig),t.loadTabs(i),t.configs=e.itemConfig,t.getItem()}))}},{key:"setParams",value:function(){var t=this;this._route.queryParams.subscribe((function(e){t.itemId=e.id,t.listParams={organization:e.id},t.getRouteConfigs()}))}},{key:"tabSelectChange",value:function(t){this.currIndex=t.index}},{key:"printPage",value:function(){window.print()}},{key:"downloadSummary",value:function(){var t=this;console.log("Called"),this._dataLayer.get("applications",this.itemId+"/summary_report",{current_org_id:this.organization}).subscribe((function(e){console.log(e),t.printPage()}),(function(e){console.log(e),t.printPage()}))}},{key:"ngOnInit",value:function(){this.headerConfig={},this.user=JSON.parse(this._authConfig.getUser()),this.organization=JSON.parse(this._authConfig.getOrganization()).organization,this.setParams()}}]),e}()).\u0275fac=function(t){return new(t||ti)(u.Ob(z.g),u.Ob(z.a),u.Ob(S.a),u.Ob(L.a),u.Ob(s.a),u.Ob(d.b),u.Ob(P.a))},ti.\u0275cmp=u.Ib({type:ti,selectors:[["tabbed-wrapper"]],features:[u.Ab([s.a,P.a])],decls:104,vars:15,consts:[["id","no-print"],[1,"main-cont","header"],[1,"d-flex","w-100-p","align-items-center","pl-3"],["class","pt-12 pr-3",4,"ngIf"],[1,"text-light","px-3","pt-3"],[1,"font-size-48"],[1,"flex-fill","title-cont","pl-5"],[1,"title-text","pt-3","text-light","font-size-20"],[1,"desc-text","text-light","font-size-14","pt-2"],["class","actions pr-4",4,"ngIf"],[1,"px-5"],[1,"w-100-p","raised","mb-5","p-0"],[1,"p-0"],[4,"ngIf"],[3,"selectedTabChange"],["mainTabs",""],[4,"ngFor","ngForOf"],["extraDetails",""],["totalsSummary",""],["id","print"],[1,"container-fluid"],[1,"row","no-gutters"],[1,"col"],["src","../../assets/logotipo.svg","alt","logotipo",1,"logotipo"],[1,"address"],[1,"row","no-gutters","items-group"],[1,"col-3","label"],[1,"col-9"],[1,"label"],[1,"disclaimer"],[1,"disclaimer","signature-field"],[1,"pt-12","pr-3"],["mat-icon-button","","aria-label","Back to list",1,"back-btn",3,"click"],[1,"font-size-28"],[1,"actions","pr-4"],["class","pr-3",4,"ngIf"],[1,"pr-3"],["mat-raised-button","","class","pl-3 mr-3",3,"color","click",4,"ngIf"],["mat-raised-button","",1,"pl-3","mr-3",3,"color","click"],["mat-tab-label",""],["class","mb-5",4,"ngIf"],[1,"mb-5"],[1,"d-flex","px-5","pt-5","pb-3"],[1,"flex-fill","pl-3","text-muted","font-weight-bold","font-size-12"],["class","pb-16 pr-12",4,"ngIf"],[1,"d-flex","w-100-p","px-5","pt-3"],["class","col-lg-3 col-12",4,"ngFor","ngForOf"],["class","px-3",4,"ngIf"],["class","px-3 pt-3",4,"ngIf"],["class","px-40 pt-5 pb-0",4,"ngIf"],[1,"pb-16","pr-12"],["mat-stroked-button","",1,"pl-3",3,"click"],[1,"font-size-22","mt-1"],[1,"font-size-12"],[1,"col-lg-3","col-12"],[1,"d-flex","w-100-p","align-items-center"],[1,"font-size-32","text-success"],[1,"pl-3"],[1,"text-muted","font-size-13"],["class","font-size-13",4,"ngIf"],[3,"type","config","item"],[1,"font-size-13"],[1,"px-3"],[4,"ngTemplateOutlet"],[1,"px-3","pt-3"],[3,"organization"],[3,"item"],[1,"px-40","pt-5","pb-0"],[3,"tab","item","parentKey"],[3,"activity","item"],[3,"context","item"],["title","Listing",1,"w-100-p",3,"tabbedItem","addOrg","modelKey","cmptParams","headers","no-card","has-action","store","dropDownActions","topActions","hasSearch","actions","rows"],[3,"tab","item"],[3,"item","tab"],[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-3","pb-1","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-3","pt-0"],[1,"table","borderless","font-size-14"],[1,"thead-light"],[1,"pl-20"],[1,"badge","badge-secondary","px-3","py-2"],[1,"px-5","pt-5","pb-0"],[1,"card-body","px-0","pb-0","pt-0"],[1,"table","borderless","font-size-13"],[1,"thead-light","font-size-12"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Lc(3,pe,4,0,"div",3),u.Ub(4,"div",4),u.Ub(5,"mat-icon",5),u.Nc(6),u.Tb(),u.Tb(),u.Ub(7,"div",6),u.Ub(8,"div",7),u.Nc(9),u.Tb(),u.Ub(10,"div",8),u.Nc(11),u.hc(12,"removeUnderscore"),u.Tb(),u.Tb(),u.Lc(13,Te,2,1,"div",9),u.Tb(),u.Tb(),u.Ub(14,"div",10),u.Ub(15,"div",10),u.Ub(16,"mat-card",11),u.Ub(17,"mat-card-content",12),u.Lc(18,ye,2,0,"ng-container",13),u.hc(19,"async"),u.Ub(20,"mat-tab-group",14,15),u.cc("selectedTabChange",(function(t){return e.tabSelectChange(t)})),u.Lc(22,qe,7,5,"mat-tab",16),u.hc(23,"async"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Lc(24,Ze,47,16,"ng-template",null,17,u.Mc),u.Lc(26,Xe,34,14,"ng-template",null,18,u.Mc),u.Ub(28,"div",19),u.Ub(29,"div",20),u.Ub(30,"div",21),u.Ub(31,"div",22),u.Ub(32,"h1"),u.Nc(33," Assist\xeancia N\xba 1 "),u.Tb(),u.Tb(),u.Tb(),u.Ub(34,"div",21),u.Ub(35,"div",22),u.Pb(36,"img",23),u.Tb(),u.Ub(37,"div",22),u.Ub(38,"h2"),u.Nc(39,"N Repara\xe7\xf5es"),u.Tb(),u.Ub(40,"p"),u.Nc(41,"91 886 73 76"),u.Tb(),u.Ub(42,"div",24),u.Ub(43,"p"),u.Nc(44,"geral@nreparacoes.com"),u.Tb(),u.Ub(45,"p"),u.Nc(46,"Av. Dr. Ribeiro de Magalh\xe3es, 1391"),u.Tb(),u.Ub(47,"p"),u.Nc(48,"Centro Comercial 123, Loja BD"),u.Tb(),u.Ub(49,"p"),u.Nc(50,"4610-108 Felgueiras"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(51,"div",25),u.Ub(52,"div",26),u.Ub(53,"p"),u.Nc(54,"Cliente:"),u.Tb(),u.Ub(55,"p"),u.Nc(56,"Contacto:"),u.Tb(),u.Tb(),u.Ub(57,"div",27),u.Ub(58,"p"),u.Nc(59,"Manuel Alberto Magalh\xe3es Carvalho"),u.Tb(),u.Ub(60,"p"),u.Nc(61,"91 000 00 00"),u.Tb(),u.Tb(),u.Tb(),u.Ub(62,"div",25),u.Ub(63,"div",26),u.Ub(64,"p"),u.Nc(65,"Equipamento:"),u.Tb(),u.Ub(66,"p"),u.Nc(67,"Cor:"),u.Tb(),u.Ub(68,"p"),u.Nc(69,"Serial:"),u.Tb(),u.Ub(70,"p"),u.Nc(71,"Problema:"),u.Tb(),u.Ub(72,"p"),u.Nc(73,"Observa\xe7\xf5es:"),u.Tb(),u.Tb(),u.Ub(74,"div",27),u.Ub(75,"p"),u.Nc(76,"Telem\xf3vel > Apple > Iphone 6"),u.Tb(),u.Ub(77,"p"),u.Nc(78,"Cinza"),u.Tb(),u.Ub(79,"p"),u.Nc(80,"appl2015ewfwejuk23423"),u.Tb(),u.Ub(81,"p"),u.Nc(82,"N\xe3o arranca"),u.Tb(),u.Ub(83,"p"),u.Nc(84,"codigo: 1798 - tem de ficar pronto at\xe9 dia 12/02/2019"),u.Tb(),u.Tb(),u.Tb(),u.Ub(85,"div",25),u.Ub(86,"div",22),u.Ub(87,"p",28),u.Nc(88,"Condi\xe7\xf5es Gerais:"),u.Tb(),u.Ub(89,"ul",29),u.Ub(90,"li"),u.Nc(91,"Prazo para levantar 90 dias"),u.Tb(),u.Ub(92,"li"),u.Nc(93,"Garantia 90 dias"),u.Tb(),u.Ub(94,"li"),u.Nc(95,"Esta assist\xeancia s\xf3 \xe9 entregue a quem apresentar este documento"),u.Tb(),u.Ub(96,"li"),u.Nc(97,"O pre\xe7o acresce 10% a cada 30 dias ap\xf3s fim do prazo de levantamento (taxa de conserva\xe7\xe3o)"),u.Tb(),u.Ub(98,"li"),u.Nc(99,"Os dados do cliente, acima mencionados, ficam registados na N Repara\xe7\xf5es apenas para efeitos de comunica\xe7\xe3o em rela\xe7\xe3o \xe0s suas assist\xeancias e factura\xe7\xe3o "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(100,"div",21),u.Ub(101,"div",22),u.Ub(102,"p",30),u.Nc(103,"Declaro que li e concordo com o disposto neste documento em 03/02/2019"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(3),u.nc("ngIf",e.listRoute),u.Bb(3),u.Pc(" ",e.headerConfig.icon||"business"," "),u.Bb(3),u.Qc(" ",e.headerConfig.headerLabel," ",e.headerConfig.headerValue?e.item[e.headerConfig.headerValue]:null==e.item?null:e.item.name," "),u.Bb(2),u.Qc(" ",e.headerConfig.subTitleLabel," ",e.headerConfig.subTitleValue?e.getNested(e.headerConfig.subTitleValue):u.ic(12,9,null==e.item?null:e.item.org_type_code)," "),u.Bb(2),u.nc("ngIf",null==e.headerConfig?null:e.headerConfig.actions),u.Bb(5),u.nc("ngIf",null===u.ic(19,11,e.asyncTabs)),u.Bb(4),u.nc("ngForOf",u.ic(23,13,e.asyncTabs)))},directives:[p.t,f.a,M.a,M.b,E.b,p.s,h.b,E.a,E.c,D.a,p.A,J,ot,mt,Mt,Jt,Zt,Qt.a,re,le.a,ge],pipes:[F.a,p.b,p.G,p.d,p.f,p.p,p.g],styles:["[_nghost-%COMP%]    {width:100%}[_nghost-%COMP%]     .back-arrow i:hover{cursor:pointer;text-shadow:1px 3px 1px rgba(0,0,0,.3)}[_nghost-%COMP%]     .main-cont{background-color:#146b3a!important;width:auto!important;transition:all .5s cubic-bezier(0,0,.2,1)!important;left:13rem;right:0;padding:3.05rem 4.5rem 7.5rem;margin-bottom:-4.75rem}[_nghost-%COMP%]     .main-cont .title{font-size:2rem;color:#fff}[_nghost-%COMP%]     .back-btn{color:#fff}[_nghost-%COMP%]     .back-btn:hover{cursor:pointer;text-shadow:1px 3px 1px rgba(0,0,0,.3)}[_nghost-%COMP%]     .badge.created, [_nghost-%COMP%]     .badge.draft, [_nghost-%COMP%]     .badge.on_going, [_nghost-%COMP%]     .badge.open, [_nghost-%COMP%]     .badge.pending{background-color:#ffc107;color:#212529}[_nghost-%COMP%]     .badge.assigned, [_nghost-%COMP%]     .badge.first_level_approved, [_nghost-%COMP%]     .badge.rationalized, [_nghost-%COMP%]     .badge.submitted{background-color:#2196f3;color:#fff}[_nghost-%COMP%]     .badge.cancelled, [_nghost-%COMP%]     .badge.rejected{background-color:#dc3545;color:#fff}[_nghost-%COMP%]     .badge.overdue{background-color:#343a40;color:#fff}[_nghost-%COMP%]     .badge.accepted, [_nghost-%COMP%]     .badge.approved, [_nghost-%COMP%]     .badge.completed, [_nghost-%COMP%]     .badge.final_approved, [_nghost-%COMP%]     .badge.finished, [_nghost-%COMP%]     .badge.sasdef_approved{background-color:#28a745;color:#fff}[_nghost-%COMP%]     #print{display:none}@media print{[_nghost-%COMP%]     #no-print{display:none!important}[_nghost-%COMP%]     #print{display:flex}[_nghost-%COMP%]     #print body, [_nghost-%COMP%]     #print h1, [_nghost-%COMP%]     #print h2, [_nghost-%COMP%]     #print h3, [_nghost-%COMP%]     #print h4, [_nghost-%COMP%]     #print html, [_nghost-%COMP%]     #print img, [_nghost-%COMP%]     #print p{margin:0}[_nghost-%COMP%]     #print h1{font-size:18pt;font-weight:500;margin-bottom:.5cm}[_nghost-%COMP%]     #print h2{font-size:16pt;font-weight:500}[_nghost-%COMP%]     #print p{font-size:12pt}[_nghost-%COMP%]     #print .items-group{border:1pt solid #000;border-radius:5pt;padding:3pt;margin:9pt 0}[_nghost-%COMP%]     #print .logotipo{width:6cm;height:4cm;margin:-.5cm}[_nghost-%COMP%]     #print .label{font-weight:500}[_nghost-%COMP%]     #print .address p, [_nghost-%COMP%]     #print .disclaimer{font-size:10pt}[_nghost-%COMP%]     #print .signature-field{padding-bottom:24pt;border-bottom:1pt solid #000}}"]}),ti)}}])}();
//# sourceMappingURL=5-es5.c784c3dae133b39f3efb.js.map