!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/vS9":function(t,e,i){"use strict";i.d(e,"a",(function(){return I}));var n=i("SVse"),a=i("iInd"),c=i("s7LF"),r=i("Tj54"),l=i("M9ds"),s=i("PDjf"),b=i("rJgo"),d=i("iELJ"),u=i("SqCe"),g=i("Dxy4"),p=i("Q2Ze"),f=i("e6WT"),m=i("zHaW"),h=i("o4Yh"),v=i("pMoy"),T=i("pu8Q"),y=i("Tk7p"),U=i("5HBU"),_=i("RT2w"),O=i("2l/B"),M=i("HNXS"),A=i("LdEM"),x=i("8+Aj"),k=i("8Y7J"),I=function(){var t=function t(){o(this,t)};return t.\u0275mod=k.Mb({type:t}),t.\u0275inj=k.Lb({factory:function(e){return new(e||t)},providers:[A.a],imports:[[_.a,a.k,n.c,r.b,l.f,s.c,u.d,b.b,g.c,d.f,p.e,f.c,v.b,y.a,m.d,M.a,O.a,h.b,c.n,U.a,c.z,x.a,T.a]]}),t}()},"919n":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("LvDl"),c=i("8Y7J"),r=i("7ZA2"),l=function(){var t=function(){function t(e){o(this,t),this._authConfig=e}return a(t,[{key:"isActionAllowed",value:function(t,e){var i=Object(n.get)(JSON.parse(localStorage.getItem("organization")),"org_type"),a=Object(n.get)(JSON.parse(localStorage.getItem("organization")),"organization"),o=JSON.parse(this._authConfig.getUser());if(Object(n.isUndefined)(e))return Object(n.indexOf)(t,i)>=0;var c=Object(n.find)(o.organizations,{organization:a},null);return(Object(n.indexOf)(e,c.group_name)>=0||Object(n.isNull)(c.group))&&Object(n.indexOf)(t,i)>=0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Yb(r.a))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac}),t}()},LdEM:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n,c=i("LvDl"),r=[{key:"application",tabs:[{store:"applications",label:"Basic Details",content:"form",context:"Application",parentKey:"organization",count:1,formConf:{store:"applications",cancelTxt:"CANCEL",nextTxt:"SAVE",addStore:"applications",editStore:"applications",getStore:"applications"},detailsConf:[{label:"Applied Amount",key:"total",icon:"account_balance",type:"currency"},{label:"Required By",key:"date_requested",icon:"calendar_today",type:"date"},{label:"Financial Year",key:"financial_year",icon:"calendar_today",type:"nested",fieldType:"nested_range",primaryField:"financial_year_data.starts_on",secondaryField:"financial_year_data.ends_on"},{label:"Status",key:"status",icon:"assessment",type:"status"}],bankConfs:[{title:"Account Name",key:"account_name"},{title:"Account #",key:"account_number"},{title:"Bank",key:"bank_name"},{title:"Branch",key:"branch_name"}],extraDetails:"extraDetails",auditTrail:!0,applicationME:!0,activitySummary:!0},{store:"application-items",label:"Billable Items",modelKey:"application",content:"grid",listParams:{member_null:!0},gridConf:{getStore:"application-items",editStore:"application-items"},topActions:[{btnText:"ADD BILLABLE ITEM",status:"info",icon:"true",action:"inline",conf:{context:"BILLABLE ITEM",store:"application-items",btnText:"SAVE"}}],rows:[{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_string",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"activity_details",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_status_total",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_totals",primaryField:"item_data.name"}],headers:[{title:"Item"},{title:"Activity Item"},{title:"Total"},{title:"Approved Totals"},{title:"Actions",oderable:!1,searchable:!1}],dropDownActions:[{btnText:"Edit",status:"info",icon:"edit",disableStatus:"FINISHED",action:"inline",modalConf:{store:"application-items",titleKey:"item",context:"Billable Item",btnText:"SAVE"}},{btnText:"Rationalize",status:"draft",icon:"compare_arrows",disableStatus:"FINISHED",class:"text-success",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"rationalize",btnText:"SAVE",width:"50%"}},{btnText:"Approve",status:"rationalized",icon:"check",class:"text-success",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"approve",btnText:"SAVE",width:"50%"}},{btnText:"Reject",status:"rationalize",icon:"close",class:"text-danger",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"reject",btnText:"SAVE",width:"50%"}}]},{store:"application-attendees",label:"Attendees",content:"grid",modelKey:"application",listParams:{member_null:!1},gridConf:{getStore:"application-attendees",editStore:"application-attendees"},topActions:[{btnText:"ADD ATTENDEE",status:"info",icon:"true",action:"inline",conf:{context:"ATTENDEE",store:"application-attendees",btnText:"SAVE"}}],rows:[{key:"item",type:"compact-line",context:"attendees",fieldType:"nested_string",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"activity_details",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_status_total",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_totals",primaryField:"item_data.name"}],headers:[{title:"Member"},{title:"Activity Details"},{title:"Totals"},{title:"Approved Totals"},{title:"Actions",oderable:!1,searchable:!1}],dropDownActions:[{btnText:"Edit",status:"info",icon:"edit",disableStatus:"FINISHED",action:"inline",modalConf:{store:"application-items",titleKey:"item",context:"Billable Item",btnText:"SAVE"}},{btnText:"Rationalize",status:"draft",icon:"compare_arrows",disableStatus:"FINISHED",class:"text-success",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"rationalize",btnText:"SAVE",width:"50%"}},{btnText:"Approve",status:"rationalized",icon:"check",class:"text-success",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"approve",btnText:"SAVE",width:"50%"}},{btnText:"Reject",status:"rationalize",icon:"close",class:"text-danger",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-items",titleKey:"item",context:"reject",btnText:"SAVE",width:"50%"}}]},{store:"application-allowances",label:"Allowances",content:"nested-inline-list",getStore:"application-allowances",editStore:"application-allowances",gridConf:{getStore:"application-allowances",editStore:"application-allowances"},topActions:[{btnText:"ADD ALLOWANCE",status:"info",icon:"true",action:"inline",conf:{context:"ALLOWANCE",store:"application-allowances",btnText:"SAVE"}}],rows:[{key:"item",type:"compact-line",context:"allowances",fieldType:"nested_member",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_status_total",primaryField:"item_data.name"},{key:"item",type:"compact-line",context:"billable-item",fieldType:"nested_totals",primaryField:"item_data.name"}],headers:[{title:"Allowance"},{title:"Totals"},{title:"Approved Totals"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"application-allowances",titleKey:"item",context:"Allowance",btnText:"SAVE"}},{btnText:"Rationalize",status:"draft",icon:"compare_arrows",disableStatus:"FINISHED",class:"text-success",action:"modal",modalConf:{store:"application-allowances",titleKey:"item",context:"rationalize",btnText:"SAVE",width:"50%"}},{btnText:"Approve",status:"rationalized",icon:"check",class:"text-success",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-allowances",titleKey:"item",context:"approve",btnText:"SAVE",width:"50%"}},{btnText:"Reject",status:"rationalize",icon:"close",class:"text-danger",disableStatus:"FINISHED",action:"modal",modalConf:{store:"application-allowances",titleKey:"item",context:"reject",btnText:"SAVE",width:"50%"}}]},{store:"users",label:"Attachments",content:"attachments",gridConf:{getStore:"organisations",editStore:"organisations"},topActions:[{btnText:"ADD USER",status:"info",icon:"true",action:"inline",conf:{context:"USER",store:"users",btnText:"SAVE"}}],rows:[{key:"first_name",type:"string"},{key:"last_name",type:"string"},{key:"phone_number",type:"string"},{key:"email",type:"string"}],headers:[{title:"Names"},{title:"."},{title:"Phone Number"},{title:"Email"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"users",titleKey:"name",context:"Users",btnText:"SAVE"}}]},{store:"application-alternate-funding-sources",label:"Alternative Funds",content:"grid",modelKey:"application",gridConf:{getStore:"application-alternate-funding-sources",editStore:"application-alternate-funding-sources"},topActions:[{btnText:"ADD ALTERNATIVE FUND",status:"info",icon:"true",action:"inline",conf:{context:"ALTERNATIVE FUNDING",store:"application-alternate-funding-sources",btnText:"SAVE"}}],rows:[{key:"entity_name",type:"string"},{key:"estimated_amount",type:"currency"},{key:"description",type:"string"}],headers:[{title:"Entity Name"},{title:"Estimated Amount"},{title:"Description"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"application-alternate-funding-sources",titleKey:"entity_name",context:"Alternative Funding",btnText:"SAVE"}}]}],headerConfig:{icon:"assignment",headerLabel:"Application",headerValue:"id",subTitleLabel:"By",subTitleValue:"organization_data.name",actions:[{btnText:"SUBMIT",action:"submit",color:"default",context:"APPLICATION",activeStates:["DRAFT"],bpType:["GOVERNMENT_AGENCY","PROFESSIONAL_SPORTPERSON","SPORTS_ORGANIZATION","MINISTRY"],roles:["Admin","Budget Reviewer","Ministry Approver"],configs:{title:"Submit Application",context:"APPLICATION",store:"applications",action:"update",description:"Kindly verify that you would indeed like to\n                            submit the following application for review. Once submitted \n                            you will not be able to make any further updates to it. \n                            Click Submit below to proceed"}},{btnText:"RATIONALIZE",action:"rationalize",context:"APPLICATIONS",color:"default",activeStates:["SUBMITTED"],bpType:["MINISTRY","SASDEF"],roles:["Admin","Budget Reviewer","Ministry Approver"],configs:{title:"Rationalize Application",context:"APPLICATIONS",store:"application-reviews",action:"rationalizeApplication",description:"Kindly verify that you would indeed like to \n                            rationalize the following application. Confirm that you have reviewed\n                            and rationalized or rejected activity lines before you can\n                            continue",approveNested:!1,comment:!1}},{btnText:"APPROVE",action:"approve",context:"APPLICATIONS",color:"default",activeStates:["RATIONALIZED"],bpType:["SASDEF"],roles:["Budget Reviewer","Ministry Approver","SASDEF Admin"],configs:{title:"Approve Application",context:"APPLICATION  ",store:"application-reviews",action:"approveApplication",description:"Kindly verify that you would indeed like to\n                            approve the following application. Confirm that you have reviewed\n                            and approved or rejected activity lines before you can\n                            continue",approveNested:!1,comment:!1}},{btnText:"REJECT",action:"reject",context:"APPLICATIONS",color:"warn",activeStates:["SUBMITTED","RATIONALIZED"],bpType:["MINISTRY","SASDEF"],roles:["Budget Reviewer","Ministry Approver","SASDEF Admin"],configs:{title:"Reject Application",context:"APPLICATIONS",hasComment:!0,store:"application-reviews",action:"rejectApplication",description:"Kindly verify that you would indeed like to\n                            reject the following application. Once rejected you will\n                            not be able to approve any of the activities lines",comment:!0}}]}},{key:"organization-budget",headerConfig:{icon:"work",headerLabel:"Calendar of Event",headerValue:"id",subTitleLabel:"By",subTitleValue:"organization_data.name",actions:[{btnText:"SUBMIT",action:"submit",color:"default",context:"CALENDAR OF EVENTS",activeStates:["DRAFT"],bpType:["GOVERNMENT_AGENCY","PROFESSIONAL_SPORTPERSON","SPORTS_ORGANIZATION","MINISTRY"],roles:["Admin","Budget Reviewer","Ministry Approver"],configs:{title:"Submit Calendar of Events",context:"CALENDAR OF EVENTS",store:"organization-budgets",action:"update",description:"Kindly verify that you would indeed like to\n                            submit the following calendar of events. Once submitted you will not\n                            be able to make any further updates to it. Click Submit\n                            below to proceed"}},{btnText:"RATIONALIZE",action:"rationalize",context:"CALENDAR OF EVENTS",color:"default",activeStates:["SUBMITTED"],bpType:["MINISTRY"],roles:["Admin","Budget Reviewer","Ministry Approver"],configs:{title:"Rationalize Calendar of Events",context:"CALENDAR OF EVENTS",store:"organization-budget-reviews",action:"rationalize",description:"Kindly verify that you would indeed like to \n                            rationalize the following calendar of events. Confirm that you have reviewed\n                            and rationalized or rejected activities and activity lines before you can\n                            continue",approveNested:!1,comment:!1}},{btnText:"APPROVE",action:"approve",context:"CALENDAR OF EVENTS",color:"default",activeStates:["RATIONALIZED"],bpType:["SASDEF"],roles:["Budget Reviewer","Ministry Approver","SASDEF Admin"],configs:{title:"Approve Calendar of Events",context:"CALENDAR OF EVENTS  ",store:"organization-budget-reviews",action:"approve",description:"Kindly verify that you would indeed like tO\n                            approve the following calendar of events. Confirm that you have reviewed\n                            and approved or rejected activities and activity lines before you can\n                            continue",approveNested:!1,comment:!1}},{btnText:"REJECT",action:"reject",context:"CALENDAR OF EVENTS",color:"warn",activeStates:["SUBMITTED","RATIONALIZED"],bpType:["MINISTRY","SASDEF"],roles:["Budget Reviewer","Ministry Approver","SASDEF Admin"],configs:{title:"Reject Calendar of Events",context:"CALENDAR OF EVENTS",hasComment:!0,store:"organization-budget-reviews",action:"reject",description:"Kindly verify that you would indeed like to\n                            reject the following calendar of events. Once rejected you will\n                            not be able to approve any of the activities or activity",comment:!0}}]},tabs:[{store:"organizaation-budgets",label:"Basic Details",content:"form",icon:"work",context:"Calendar of Events",count:1,formConf:{store:"organization-budgets",cancelTxt:"CANCEL",nextTxt:"SAVE",addStore:"organization-budgets",editStore:"organization-budgets",getStore:"organization-budgets"},detailsConf:[{label:"Applied Total",key:"total",icon:"account_balance",type:"currency"},{label:"Financial Year",key:"financial_year",icon:"calendar_today",type:"nested",fieldType:"nested_range",primaryField:"financial_year_data.starts_on",secondaryField:"financial_year_data.ends_on"},{label:"Status",key:"status",icon:"assessment",type:"status"},{label:"Organization Type",key:"organization",icon:"business",type:"nested",fieldType:"nested_string",primaryField:"organization_data.org_type_code"}],auditTrail:!0,orgSummary:!0,attachments:!0,totalsSummary:!0},{store:"branches",label:"Activities",content:"nested-list"},{store:"users",label:"Attachments",content:"attachments",gridConf:{getStore:"organisations",editStore:"organisations"},topActions:[{btnText:"ADD USER",status:"info",icon:"true",action:"inline",conf:{context:"USER",store:"users",btnText:"SAVE"}}],rows:[{key:"first_name",type:"string"},{key:"last_name",type:"string"},{key:"phone_number",type:"string"},{key:"email",type:"string"}],headers:[{title:"Names"},{title:"."},{title:"Phone Number"},{title:"Email"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"users",titleKey:"name",context:"Users",btnText:"SAVE"}}]}]},{key:"organization",tabs:[{store:"organisations",label:"Basic Details",content:"form",count:1,formConf:{store:"organisations",cancelTxt:"CANCEL",nextTxt:"SAVE",addStore:"organisations",editStore:"organisations",getStore:"organisations"},detailsConf:[{label:"Name",key:"name",icon:"business"},{label:"Organization Type",key:"org_type_code",icon:"account_balance"},{label:"Phone #",key:"phone_number",icon:"phone"},{label:"Email",key:"email",icon:"email"}],bankConfs:[{title:"Account Name",key:"account_name"},{title:"Account #",key:"account_number"},{title:"Bank",key:"bank_name"},{title:"Branch",key:"branch_name"}]},{store:"organization-members",label:"Athletes & Officials",content:"grid",modelKey:"organization",gridConf:{getStore:"organization-members",editStore:"organization-members"},topActions:[{btnText:"ADD MEMBER",status:"info",icon:"true",action:"inline",conf:{context:"MEMBER",store:"organization-members",btnText:"SAVE"}}],rows:[{key:"federation_number",fieldType:"nested_string",type:"nested",primaryField:"user.federation_number"},{key:"user.first_name",fieldType:"nested_multistrings",type:"nested",primaryField:"user.first_name",secondaryField:"user.last_name"},{key:"user.dob",fieldType:"nested_string",type:"nested",primaryField:"user.dob"},{key:"user.email",fieldType:"nested_string",type:"nested",primaryField:"user.email"},{key:"user.phone_number",fieldType:"nested_string",type:"nested",primaryField:"user.phone_number"},{key:"sports_category",type:"nested",fieldType:"nested_string",primaryField:"sports_category_data.name"}],headers:[{title:"Federation #"},{title:"Names"},{title:"Date of Birth"},{title:"Email"},{title:"Phone #"},{title:"Sports Category"},{title:"Actions",oderable:!1,searchable:!1}],actions:[{btnText:"EDIT",status:"info",icon:!1,disableStatus:"FINISHED",action:"inline",modalConf:{store:"organization-members",titleKey:"first_name",context:"MEMBER",btnText:"SAVE"}}]}]}],l=i("8Y7J"),s=((n=function(){function t(){o(this,t),this.configArray=r}return a(t,[{key:"getTabs",value:function(t){return c.find(this.configArray,{key:t})}}]),t}()).\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Kb({token:n,factory:n.\u0275fac}),n)},nH2V:function(e,n,c){"use strict";c.d(n,"a",(function(){return Ii}));var r=c("HDdC"),l=c("LvDl"),s=c("buby"),b=c("s7LF"),d=c("iELJ"),u=c("8Y7J"),g=c("zHaW"),p=c("SVse"),f=c("pMoy"),m=c("Tj54"),h=c("Dxy4"),v=c("Q2Ze"),T=c("e6WT");function y(t,e){if(1&t){var i=u.Vb();u.Ub(0,"li"),u.Ub(1,"div",16),u.Ub(2,"div"),u.Ub(3,"mat-checkbox",17),u.cc("ngModelChange",(function(t){return u.Ac(i),e.$implicit.approved=t}))("ngModelChange",(function(){return u.Ac(i),u.gc(2).updateAllApproved()})),u.Ub(4,"div",18),u.Ub(5,"div",19),u.Mc(6),u.Tb(),u.Ub(7,"div",20),u.Ub(8,"div",21),u.Ub(9,"span",11),u.Mc(10,"Amount:"),u.Tb(),u.Mc(11),u.hc(12,"currency"),u.Tb(),u.Ub(13,"div",22),u.Ub(14,"div"),u.Ub(15,"mat-icon",21),u.Mc(16,"calendar_today"),u.Tb(),u.Tb(),u.Ub(17,"div",23),u.Mc(18),u.hc(19,"date"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pb(20,"div"),u.Tb(),u.Tb()}if(2&t){var n=e.$implicit;u.Bb(3),u.nc("ngModel",n.approved),u.Bb(3),u.Oc(" ",null==n?null:n.title," "),u.Bb(5),u.Oc(" ",u.jc(12,4,null==n?null:n.estimated_amount,"Kshs ")," "),u.Bb(7),u.Nc(u.jc(19,7,null==n?null:n.activity_date,"dd-MM-yyyy"))}}function U(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",8),u.Ub(1,"div",9),u.Ub(2,"mat-checkbox",10),u.cc("change",(function(t){return u.Ac(i),u.gc().setAllApproved(t.checked)})),u.Ub(3,"span",11),u.Mc(4,"Select to approve all activities"),u.Tb(),u.Tb(),u.Tb(),u.Pb(5,"div",12),u.Ub(6,"div",13),u.Ub(7,"ul",14),u.Kc(8,y,21,10,"li",15),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(2),u.nc("checked",n.allApproved)("indeterminate",n.someApproved()),u.Bb(6),u.nc("ngForOf",n.activities)}}function _(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",24),u.Ub(1,"div",25),u.Ub(2,"input",26),u.cc("change",(function(t){return u.Ac(i),u.gc().fileChange(t)})),u.Tb(),u.Ub(3,"label",27),u.Ub(4,"div",28),u.Ub(5,"mat-icon",24),u.Mc(6),u.Tb(),u.Tb(),u.Ub(7,"div",29),u.Mc(8),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(2),u.nc("hidden",!0),u.Bb(4),u.Oc(" ",n.fileName?"attachment":"cloud_upload"," "),u.Bb(2),u.Oc(" ",n.fileName||"Upload Approval Attachments"," ")}}function O(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",30),u.Ub(1,"button",31),u.cc("click",(function(){return u.Ac(i),u.gc().closeDialog()})),u.Mc(2,"CLOSE"),u.Tb(),u.Ub(3,"button",32),u.cc("click",(function(){u.Ac(i);var t=u.gc();return t.dialogActions[t.data.configs.action]()})),u.Mc(4),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(3),u.Gb("spinner",n.loading),u.nc("disabled",n.loading),u.Bb(1),u.Oc(" ",(null==n.data?null:n.data.action)||"SUBMIT"," ")}}function M(t,e){1&t&&(u.Ub(0,"div"),u.Mc(1," Comment is required "),u.Tb())}function A(t,e){if(1&t&&(u.Ub(0,"div",43),u.Kc(1,M,2,0,"div",44),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.nc("ngIf",i.f.comment.errors.required)}}function x(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",33),u.Ub(1,"form",34),u.cc("ngSubmit",(function(){u.Ac(i);var t=u.gc();return t.submitComment(t.commentForm)})),u.Ub(2,"div",35),u.Ub(3,"div",36),u.Ub(4,"mat-form-field",37),u.Ub(5,"mat-label"),u.Mc(6,"Enter a comment"),u.Tb(),u.Pb(7,"textarea",38),u.Tb(),u.Tb(),u.Kc(8,A,2,1,"div",39),u.Tb(),u.Ub(9,"div",40),u.Ub(10,"button",41),u.cc("click",(function(){return u.Ac(i),u.gc().closeDialog()})),u.Mc(11,"CLOSE"),u.Tb(),u.Ub(12,"button",42),u.Mc(13,"SUBMIT"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(1),u.nc("formGroup",n.commentForm),u.Bb(7),u.nc("ngIf",n.f.comment.invalid&&(n.f.comment.touched||n.f.comment.dirty)),u.Bb(4),u.Gb("spinner",n.loading),u.nc("disabled",n.loading)}}function k(t,e){1&t&&(u.Ub(0,"div"),u.Mc(1," Approved amount is required "),u.Tb())}function I(t,e){if(1&t&&(u.Ub(0,"div",43),u.Kc(1,k,2,0,"div",44),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.nc("ngIf",i.rA.revised_amount.errors.required)}}function C(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",33),u.Ub(1,"form",34),u.cc("ngSubmit",(function(){u.Ac(i);var t=u.gc();return t.submitRevisedAmount(t.revisedAmountForm)})),u.Ub(2,"div",35),u.Ub(3,"div",36),u.Ub(4,"mat-form-field",37),u.Ub(5,"mat-label"),u.Mc(6,"Approved Amount"),u.Tb(),u.Pb(7,"input",45),u.Tb(),u.Ub(8,"div",46),u.Mc(9),u.hc(10,"currency"),u.Tb(),u.Tb(),u.Kc(11,I,2,1,"div",39),u.Tb(),u.Ub(12,"div",40),u.Ub(13,"button",41),u.cc("click",(function(){return u.Ac(i),u.gc().closeDialog()})),u.Mc(14,"CLOSE"),u.Tb(),u.Ub(15,"button",42),u.Mc(16,"SUBMIT"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(1),u.nc("formGroup",n.revisedAmountForm),u.Bb(8),u.Nc(u.jc(10,6,n.rA.revised_amount.value,"Kshs ")),u.Bb(2),u.nc("ngIf",n.rA.revised_amount.invalid&&(n.rA.revised_amount.touched||n.rA.revised_amount.dirty)),u.Bb(4),u.Gb("spinner",n.loading),u.nc("disabled",n.loading)}}var w,B=((w=function(){function t(e,i,n,a,c){var r=this;o(this,t),this.data=e,this._formBuilder=i,this._snackBar=n,this._dataLayer=a,this.dialogRef=c,this.activities=[],this.allApproved=!1,this.attachedDoc={},this.dialogActions={submitApplication:function(){r.getUserOrganization(),r.loading=!0,r.transitionDocument({comment:r.comment||"Application submitted",review_status:"SUBMITTED",organization:r.organization,application:r.data.item.id},{successMsg:"Record has been submitted successfully"})},firstApproveApplication:function(){r.getUserOrganization(),r.loading=!0,r.transitionDocument({comment:r.comment||"Application authorized",review_status:"FIRST_LEVEL_APPROVED",organization:r.organization,application:r.data.item.id},{successMsg:"Record has been authorized successfully"})},authorizeApplication:function(t){r.getUserOrganization(),r.loading=!0,r._dataLayer.update("applications",r.data.item.id,{revised_amount:t},{key:"current_org_id",value:r.organization}).subscribe((function(t){r.dialogActions.firstApproveApplication()}),(function(t){console.log(t),r._dataLayer.openDynamicSnackBar("An error occurred while authorizing application","error")}))},rationalizeApplication:function(t){r.getUserOrganization();var e={comment:t||"Application rationalized",review_status:"RATIONALIZED",organization:r.organization,application:r.data.item.id},i={key:"current_org_id",value:r.organization};r.loading=!0,r._dataLayer.create(r.data.configs.store,e,void 0,i).subscribe((function(t){console.log(t),r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Application rationalized successfully","success")}),(function(t){console.log(t),r.loading=!1,r._dataLayer.openDynamicSnackBar("An error occurred","error")}))},approveApplication:function(t){r.getUserOrganization(),r.loading=!0,r._dataLayer.create(r.data.configs.store,{comment:t||"Calendar of events approved",review_status:"SASDEF_APPROVED",organization:r.organization,application:r.data.item.id},void 0,{key:"current_org_id",value:r.organization}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Application has been approved successfully","success")}),(function(t){console.log(t),r.loading=!1,r._dataLayer.openDynamicSnackBar("An error occurred","error")}))},rejectApplication:function(t){r.getUserOrganization(),r.loading=!0,r._dataLayer.create(r.data.configs.store,{comment:r.comment||"Application rejected",review_status:"REJECTED",organization:r.organization,application:r.data.item.id},void 0,{key:"current_org_id",value:r.organization}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Application has been rejected successfully","success")}),(function(t){console.log(t),r.loading=!1,r._dataLayer.openDynamicSnackBar("An error occurred","error")}))},update:function(){r.getUserOrganization(),r.loading=!0,r._dataLayer.update(r.data.configs.store,r.data.item.id,{status:"SUBMITTED"},{key:"current_org_id",value:r.organization}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r.openSnackBar("Record has been submitted successfully","CLOSE")}),(function(t){console.log(t),r.loading=!1,r.openSnackBar("An error occurred","CLOSE")}))},submitted:function(){r.getUserOrganization(),r.loading=!0,r._dataLayer.create(r.data.configs.store,{comment:r.comment||"Budget submitted",review_status:"SUBMITTED",organization:r.organization,org_budget:r.data.item.id}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Budget has been submitted successfully","success")}),(function(t){console.log(t),r.loading=!1,r._dataLayer.openDynamicSnackBar("An error occurred","error")}))},approve:function(t){r.getUserOrganization(),r.loading=!0,r._dataLayer.create(r.data.configs.store,{comment:t||"Calendar of events approved",review_status:"SASDEF_APPROVED",organization:r.organization,org_budget:r.data.item.id}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Calendar of events has been approved successfully","success")}),(function(t){console.log(t),r.loading=!1,r._dataLayer.openDynamicSnackBar("An error occurred","error")}))},rationalize:function(t){r.getUserOrganization();var e={comment:t||"Calendar of events rationalized",review_status:"RATIONALIZED",organization:r.organization,org_budget:r.data.item.id},i={key:"current_org_id",value:r.organization};r.loading=!0,r._dataLayer.create(r.data.configs.store,e,void 0,i).subscribe((function(t){console.log(t),r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Calendar of events rationalized successfully","success")}),(function(t){console.log(t),r.loading=!1,r._dataLayer.openDynamicSnackBar("An error occurred","error")}))},approveBudget:function(t){var e={key:"current_org_id",value:r.organization};r.loading=!0,r.activities.forEach((function(i,n){r._dataLayer.update("organization-budget-activities",i.id,{status:i.approved?"APPROVED":"REJECTED"},e).subscribe((function(e){n===r.activities.length-1&&r.dialogActions.approve(t)}),(function(t){console.log(t),r.loading=!1}))}))},reject:function(t){r.getUserOrganization(),r.loading=!0,r._dataLayer.create(r.data.configs.store,{comment:t||"Calendar of events rejected",review_status:"REJECTED",organization:r.organization,org_budget:r.data.item.id}).subscribe((function(t){r.loading=!1,r.closeDialog("refresh"),r._dataLayer.openDynamicSnackBar("Calendar of events has been rejected successfully","success")}),(function(t){console.log(t),r.loading=!1,r.openSnackBar("An error occurred","CLOSE")}))}}}return a(t,[{key:"setFileName",value:function(){var t=this.attachedDoc.file.split("/");this.fileName=t[t.length-1]}},{key:"formInit",value:function(){this.commentForm=this._formBuilder.group({comment:["",b.D.required]}),this.revisedAmountForm=this._formBuilder.group({revised_amount:["",b.D.required]}),Object(l.has)(this.data.configs,"revisedAmount")&&this.rA.revised_amount.setValue(this.data.item.amount_requested)}},{key:"openSnackBar",value:function(t,e){this._snackBar.open(t,e,{duration:4e3})}},{key:"getUserOrganization",value:function(){var t=JSON.parse(localStorage.getItem("organization"));this.organization=Object(l.get)(t,"organization",null)}},{key:"transitionDocument",value:function(t,e){var i=this;this._dataLayer.create(this.data.configs.store,t).subscribe((function(t){i.loading=!1,i.closeDialog("refresh"),i._dataLayer.openDynamicSnackBar(e.successMsg,"success"),Object(l.isUndefined)(i.fileName)||i._dataLayer.create("application-review-attachments",{organization:i.organization,application_review:t.id,attachment:i.attachedDoc.id},void 0,{key:"current_org_id",value:i.organization}).subscribe((function(t){}),(function(t){console.log(t),i._dataLayer.openDynamicSnackBar("An error occurred","error")}))}),(function(t){console.log(t),i.loading=!1,i._dataLayer.openDynamicSnackBar("An error occurred","error")}))}},{key:"submitComment",value:function(t){t.valid&&this.dialogActions[this.data.configs.action](t.value.comment)}},{key:"submitRevisedAmount",value:function(t){t.valid&&this.dialogActions[this.data.configs.action](t.value.revised_amount)}},{key:"submitAction",value:function(){console.log("Submit called")}},{key:"closeDialog",value:function(t){this.dialogRef.close(t)}},{key:"updateAllApproved",value:function(){this.allApproved=!Object(l.isEmpty)(this.activities)&&this.activities.every((function(t){return t.approved}))}},{key:"someApproved",value:function(){return!Object(l.isEmpty)(this.activities)&&this.activities.filter((function(t){return t.approved})).length>0&&!this.allApproved}},{key:"setAllApproved",value:function(t){this.allApproved=t,Object(l.isEmpty)(this.activities)||this.activities.forEach((function(e){return e.approved=t}))}},{key:"fetchNested",value:function(){var t=this;this.getUserOrganization(),this._dataLayer.list("organization-budget-activities",{current_org_id:this.organization,org_budget:this.data.item.id}).subscribe((function(e){t.activities=e.results,t.setAllApproved(!0)}),(function(t){console.log(t)}))}},{key:"fileChange",value:function(t){var e=this,i={file:t.target.files[0],attachment_type:"APPLICATION_DOCUMENT"},n=new FormData;n.append("file",i.file),n.append("attachment_type",i.attachment_type),this._dataLayer.uploadFile("attachments",n).subscribe((function(t){e.attachedDoc=t,e.setFileName()}),(function(t){console.log(t)}))}},{key:"ngOnInit",value:function(){this.formInit(),"organization-budget-reviews"===this.data.configs.store&&this.fetchNested()}},{key:"f",get:function(){return this.commentForm.controls}},{key:"rA",get:function(){return this.revisedAmountForm.controls}}]),t}()).\u0275fac=function(t){return new(t||w)(u.Ob(d.a),u.Ob(b.g),u.Ob(g.b),u.Ob(s.a),u.Ob(d.g))},w.\u0275cmp=u.Ib({type:w,selectors:[["tabbed-dialog"]],features:[u.Ab([s.a])],decls:13,vars:7,consts:[[1,"px-16","pt-8","pb-20"],["mat-dialog-title","",1,"pb-3","d-flex"],[1,"title-text","flex-fill"],["mat-dialog-content","",1,""],["class","pt-4",4,"ngIf"],["class","",4,"ngIf"],["mat-dialog-actions","","class","pt-5 pb-4 d-flex justify-content-end",4,"ngIf"],["mat-dialog-actions","","class","w-100-p pt-16 pb-4",4,"ngIf"],[1,"pt-4"],[1,"list-section","mb-n1","pt-16"],[1,"",3,"checked","indeterminate","change"],[1,"text-muted"],[1,"border-bottom","mt-2"],[1,"list-section","mt-0"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[3,"ngModel","ngModelChange"],[1,"pl-8","pt-2"],[1,"mb-n1"],[1,"d-flex"],[1,"font-size-14"],[1,"pl-3","font-size-14","d-flex"],[1,"ml-n2"],[1,""],[1,"attachemnt-wrapper","mb-1","pt-3"],["type","file","id","input-attachment",1,"ng-hide",3,"hidden","change"],["for","input-attachment",1,"mat-button","w-100-p","d-flex","pl-16","mat-elevation-z1","pt-2"],[1,"mt-2","pr-2"],[1,"pl-2"],["mat-dialog-actions","",1,"pt-5","pb-4","d-flex","justify-content-end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","",3,"disabled","click"],["mat-dialog-actions","",1,"w-100-p","pt-16","pb-4"],["name","fmr",1,"w-100-p",3,"formGroup","ngSubmit"],[1,"w-100-p","pt-1"],[1,"input-wrapper","w-100-p"],["appearance","outline","color","primary",1,"w-100-p","pb-0","mb-0"],["name","comment","matInput","","id","","cols","30","rows","6","placeholder","Kindly enter a comment...","formControlName","comment"],["class","invalid-feedback",4,"ngIf"],[1,"btn-container","d-flex","justify-content-end"],["mat-button","","mat-dialog-close","","type","button",3,"click"],["mat-button","","type","submit",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],["name","revised_amount","matInput","","placeholder","Kindly enter a approved amount...","formControlName","revised_amount"],[1,"mt-n4","text-muted"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Mc(3),u.Tb(),u.Pb(4,"div"),u.Tb(),u.Ub(5,"div",3),u.Ub(6,"div"),u.Mc(7),u.Tb(),u.Kc(8,U,9,3,"div",4),u.Kc(9,_,9,3,"div",5),u.Tb(),u.Kc(10,O,5,4,"div",6),u.Kc(11,x,14,5,"div",7),u.Kc(12,C,17,9,"div",7),u.Tb()),2&t&&(u.Bb(3),u.Nc((null==e.data?null:e.data.configs.title)||"SUBMIT"),u.Bb(4),u.Nc(null==e.data?null:e.data.configs.description),u.Bb(1),u.nc("ngIf",null==e.data?null:e.data.configs.approveNested),u.Bb(1),u.nc("ngIf",null==e.data?null:e.data.configs.reviewAttachment),u.Bb(1),u.nc("ngIf",!(null!=e.data&&e.data.configs.comment||null!=e.data&&e.data.configs.revisedAmount)),u.Bb(1),u.nc("ngIf",null==e.data?null:e.data.configs.comment),u.Bb(1),u.nc("ngIf",null==e.data?null:e.data.configs.revisedAmount))},directives:[d.h,d.e,p.t,f.a,p.s,b.r,b.u,m.a,d.c,h.b,d.d,b.F,b.s,b.l,v.c,v.g,T.b,b.e,b.j],pipes:[p.d,p.f],styles:['@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}[_nghost-%COMP%]     .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),w),S=c("919n"),z=c("iInd"),E=c("7ZA2"),P=c("LdEM"),D=c("PDjf"),F=c("M9ds"),K=c("xsX5"),N=c("f5Zh");function j(t,e){if(1&t&&(u.Ub(0,"th",10),u.Mc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Oc(" ",null==i?null:i.title," ")}}function L(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function R(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"span"),u.Mc(2),u.hc(3,"removeUnderscore"),u.Tb(),u.Kc(4,L,2,0,"mat-icon",12),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(2),u.Nc(u.ic(3,2,n.organization[i.key])),u.Bb(2),u.nc("ngIf",!n.organization[i.key])}}function V(t,e){if(1&t&&(u.Ub(0,"td",11),u.Kc(1,R,5,4,"div",12),u.Tb()),2&t){var i=u.gc();u.Bb(1),u.nc("ngIf",i.organization)}}var $,q=(($=function t(){o(this,t),this.gridConf=[{title:"Name",key:"name"},{title:"Phone #",key:"phone_number"},{title:"Email",key:"email"},{title:"Organization Type",key:"org_type_code"}]}).\u0275fac=function(t){return new(t||$)},$.\u0275cmp=u.Ib({type:$,selectors:[["organization-summary"]],inputs:{organization:"organization"},decls:19,vars:2,consts:[[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-2","pb-1"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13","mb-0"],["class","border-0 pl-20 font-size-12",4,"ngFor","ngForOf"],["class","pl-20",4,"ngFor","ngForOf"],[1,"border-0","pl-20","font-size-12"],[1,"pl-20"],[4,"ngIf"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div",4),u.Ub(5,"div",5),u.Ub(6,"mat-icon"),u.Mc(7,"business"),u.Tb(),u.Mc(8,"\xa0"),u.Tb(),u.Ub(9,"div"),u.Mc(10,"Organization"),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",6),u.Ub(12,"div"),u.Ub(13,"table",7),u.Ub(14,"thead"),u.Kc(15,j,2,1,"th",8),u.Tb(),u.Ub(16,"tbody"),u.Ub(17,"tr"),u.Kc(18,V,2,1,"td",9),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(15),u.nc("ngForOf",e.gridConf),u.Bb(3),u.nc("ngForOf",e.gridConf))},directives:[m.a,p.s,p.t],pipes:[N.a],encapsulation:2}),$),G=c("B6Hu");function J(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",18),u.Ub(1,"div",19),u.Ub(2,"mat-card",20),u.Ub(3,"div",21),u.Ub(4,"div",22),u.Ub(5,"div",23),u.Mc(6," ADD M&E "),u.Tb(),u.Ub(7,"div"),u.Ub(8,"span",24),u.cc("click",(function(){return u.Ac(i),u.gc(2).toggleCreateForm()})),u.Mc(9," \xd7 "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",25),u.Ub(11,"dynamic-form",26),u.cc("cancelFxn",(function(){return u.Ac(i),u.gc(2).toggleCreateForm()}))("submitModel",(function(t){return u.Ac(i),u.gc(2).receiveModel(t)})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc(2);u.Bb(11),u.nc("submitted",n.submitted)("baseCancel",!0)}}function H(t,e){if(1&t&&(u.Ub(0,"th",15),u.Mc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Oc(" ",i.title," ")}}function Z(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"div"),u.Mc(2),u.Ub(3,"span",32),u.Mc(4,"\xa0Attendees"),u.Tb(),u.Tb(),u.Ub(5,"div"),u.Mc(6),u.hc(7,"number"),u.Ub(8,"span",32),u.Mc(9,"\xa0days\xa0"),u.Tb(),u.Ub(10,"span"),u.Mc(11,"\xa0@\xa0"),u.Tb(),u.Ub(12,"span"),u.Mc(13),u.hc(14,"currency"),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc().$implicit;u.Bb(2),u.Oc(" ",n[i.key]," "),u.Bb(4),u.Oc(" ",u.jc(7,3,n.days,"1.0")," "),u.Bb(7),u.Oc(" \xa0",u.jc(14,6,n.unit_price,"Kshs ")," ")}}function Y(t,e){if(1&t&&(u.Ub(0,"div"),u.Mc(1),u.hc(2,"currency"),u.Tb()),2&t){var i=u.gc(2).$implicit;u.Bb(1),u.Oc(" ",u.jc(2,1,i.head_count*i.days*i.unit_price,"Kshs ")," ")}}function Q(t,e){if(1&t&&(u.Ub(0,"div"),u.Mc(1),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc().$implicit;u.Bb(1),u.Oc(" ",n[i.key]," ")}}function W(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function X(t,e){if(1&t&&(u.Ub(0,"td",31),u.Kc(1,Z,15,9,"div",17),u.Kc(2,Y,3,4,"div",17),u.Kc(3,Q,2,1,"div",17),u.Kc(4,W,2,0,"mat-icon",17),u.Tb()),2&t){var i=e.$implicit,n=u.gc().$implicit;u.nc("hidden",n.showInline),u.Bb(1),u.nc("ngIf","head_count"===i.key),u.Bb(1),u.nc("ngIf","total"===i.key),u.Bb(1),u.nc("ngIf","head_count"!==i.key&&"total"!==i.key),u.Bb(1),u.nc("ngIf",!n[i.key]&&"total"!==i.key)}}function tt(t,e){if(1&t){var i=u.Vb();u.Ub(0,"td",33),u.Ub(1,"div",34),u.Ub(2,"mat-card",20),u.Ub(3,"div",21),u.Ub(4,"div",22),u.Ub(5,"div",23),u.Mc(6," EDIT BANK DETAILS "),u.Tb(),u.Ub(7,"div"),u.Ub(8,"span",24),u.cc("click",(function(){u.Ac(i);var t=u.gc().$implicit;return u.gc(2).toggleForm(t)})),u.Mc(9," \xd7 "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",25),u.Ub(11,"dynamic-form",35),u.cc("cancelFxn",(function(){u.Ac(i);var t=u.gc().$implicit;return u.gc(2).toggleForm(t)}))("submitModel",(function(t){return u.Ac(i),u.gc(3).receiveModel(t)})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc().$implicit,a=u.gc(2);u.Cb("colspan",(null==a.tab?null:a.tab.bankConfs.length)+1),u.Bb(11),u.nc("model",n)("submitted",a.submitted)("baseCancel",!0)}}function et(t,e){if(1&t){var i=u.Vb();u.Ub(0,"tr"),u.Kc(1,X,5,5,"td",27),u.Ub(2,"td",28),u.Ub(3,"button",29),u.cc("click",(function(){u.Ac(i);var t=e.$implicit;return u.gc(2).toggleForm(t)})),u.Mc(4," Edit "),u.Tb(),u.Tb(),u.Kc(5,tt,12,4,"td",30),u.Tb()}if(2&t){var n=e.$implicit,a=u.gc(2);u.Bb(1),u.nc("ngForOf",a.gridConf),u.Bb(1),u.nc("hidden",n.showInline),u.Bb(3),u.nc("ngIf",n.showInline)}}function it(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",36),u.Ub(2,"div",37),u.Ub(3,"div",38),u.Ub(4,"div",39),u.Ub(5,"div",40),u.Ub(6,"mat-icon"),u.Mc(7," info_circle "),u.Tb(),u.Tb(),u.Ub(8,"div",7),u.Mc(9," There is currently no Monitoring & Evaluation details added for this application. "),u.Tb(),u.Pb(10,"div",41),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.Cb("colspan",i.gridConf.length+1)}}function nt(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",1),u.Ub(1,"div",2),u.Ub(2,"div",3),u.Ub(3,"div",4),u.Ub(4,"div",5),u.Ub(5,"div",6),u.Ub(6,"mat-icon"),u.Mc(7,"people"),u.Tb(),u.Mc(8,"\xa0"),u.Tb(),u.Ub(9,"div",7),u.Mc(10,"Monitoring & Evaluation"),u.Tb(),u.Ub(11,"div",8),u.Ub(12,"button",9),u.cc("click",(function(){return u.Ac(i),u.gc().toggleCreateForm()})),u.Ub(13,"mat-icon"),u.Mc(14,"add"),u.Tb(),u.Mc(15,"\xa0 ADD M&E "),u.Tb(),u.Tb(),u.Tb(),u.Kc(16,J,12,2,"div",10),u.Tb(),u.Ub(17,"div",11),u.Ub(18,"div"),u.Ub(19,"table",12),u.Ub(20,"thead",13),u.Kc(21,H,2,1,"th",14),u.Pb(22,"th",15),u.Tb(),u.Ub(23,"tbody"),u.Kc(24,et,6,3,"tr",16),u.Kc(25,it,11,1,"tr",17),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(16),u.nc("ngIf",n.showForm),u.Bb(5),u.nc("ngForOf",n.gridConf),u.Bb(3),u.nc("ngForOf",n.list),u.Bb(1),u.nc("ngIf",!(null!=n.list&&n.list.length))}}var at,ot=((at=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.list=[],this.gridConf=[{title:"Attendees",key:"head_count"},{title:"Total",key:"total"},{title:"Description",key:"description"}],this.postObj={organiazation:"",application:"",amount:"",quantity:"",description:""}}return a(t,[{key:"toggleForm",value:function(t){t.showInline=!t.showInline}},{key:"toggleCreateForm",value:function(){this.showForm=!this.showForm}},{key:"getList",value:function(){var t=this;this.loading=!0,this._dataLayer.list("application-mes",{current_org_id:this.orgId,application:this.item.id}).subscribe((function(e){t.loading=!1,t.list=e.results}),(function(e){t.loading=!1,console.log(e)}))}},{key:"receiveModel",value:function(t){var e=this;Object(l.has)(t,"id")?this._dataLayer.update("application-mes",t.id,t,{key:"current_org_id",value:this.orgId}).subscribe((function(){e.getList()}),(function(t){return console.log(t)})):(t=Object.assign(Object.assign({},t),{organization:this.orgId,application:this.item.id}),this._dataLayer.create("application-mes",t,void 0,{key:"current_org_id",value:this.orgId}).subscribe((function(){e.getList(),e.toggleCreateForm(),e._dataLayer.openDynamicSnackBar("M&E Item succesfully added","success")}),(function(t){e._dataLayer.openDynamicSnackBar("An error occurred while adding M&E item. Try again","error")})))}},{key:"ngOnInit",value:function(){var t=JSON.parse(this._authConfig.getOrganization());this.orgId=Object(l.get)(t,"organization",null),this.orgType=Object(l.get)(t,"org_type",null),this.getList()}}]),t}()).\u0275fac=function(t){return new(t||at)(u.Ob(s.a),u.Ob(E.a))},at.\u0275cmp=u.Ib({type:at,selectors:[["application-me"]],inputs:{item:"item"},decls:1,vars:1,consts:[["class","px-20 pt-20 pb-12",4,"ngIf"],[1,"px-20","pt-20","pb-12"],[1,"px-20"],[1,"card"],[1,"card-header","pt-3","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"flex-fill"],[1,"pt-2"],["mat-raised-button","","color","default",1,"pl-3","mt-n2",3,"click"],["class","col-12 bg-light py-16","style","margin: auto;",4,"ngIf"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13"],[1,"thead-light","font-size-12"],["class","border-0 pl-20",4,"ngFor","ngForOf"],[1,"border-0","pl-20"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","bg-light","py-16",2,"margin","auto"],[1,"col-lg-9",2,"margin","auto"],[1,"card","p-0"],[1,"card-header","py-0"],[1,"d-flex"],[1,"flex-fill","pt-3"],[1,"font-size-28","text-muted",2,"cursor","pointer",3,"click"],[1,"card-body","px-5","pt-5"],["btnText","SAVE","btnClass","tiny","store","application-me","btnStatus","primary",3,"submitted","baseCancel","cancelFxn","submitModel"],["class","pl-20 vertical-align-center","valign","middle",3,"hidden",4,"ngFor","ngForOf"],["valign","middle",1,"vertical-align-center",3,"hidden"],["mat-stroked-button","","color","accent",3,"click"],["class","bg-light-grey py-3 px-5",4,"ngIf"],["valign","middle",1,"pl-20","vertical-align-center",3,"hidden"],[1,"text-muted"],[1,"bg-light-grey","py-3","px-5"],[1,"col-12","col-lg-8",2,"margin","auto"],["btnText","SAVE","btnClass","tiny","store","organization-bank-accounts","btnStatus","primary",3,"model","submitted","baseCancel","cancelFxn","submitModel"],[1,"pb-0","mb-0"],[1,"w-100-p","px-3"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex","align-items-center"],[1,"pr-20"],[1,"pr-8"]],template:function(t,e){1&t&&u.Kc(0,nt,26,4,"div",0),2&t&&u.nc("ngIf","SASDEF"===e.orgType)},directives:[p.t,m.a,h.b,p.s,D.a,G.a],pipes:[p.g,p.d],encapsulation:2}),at);function ct(t,e){if(1&t&&(u.Ub(0,"th",8),u.Mc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Oc(" ",i.title," ")}}function rt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function lt(t,e){if(1&t&&(u.Ub(0,"td",15),u.Mc(1),u.Kc(2,rt,2,0,"mat-icon",10),u.Tb()),2&t){var i=e.$implicit,n=u.gc().$implicit;u.nc("hidden",n.showInline),u.Bb(1),u.Oc(" ",n[i.key]," "),u.Bb(1),u.nc("ngIf",!n[i.key])}}function st(t,e){if(1&t){var i=u.Vb();u.Ub(0,"td",16),u.Ub(1,"div",17),u.Ub(2,"mat-card",18),u.Ub(3,"div",19),u.Ub(4,"div",20),u.Ub(5,"div",21),u.Mc(6," EDIT BANK DETAILS "),u.Tb(),u.Ub(7,"div"),u.Ub(8,"span",22),u.cc("click",(function(){u.Ac(i);var t=u.gc().$implicit;return u.gc().toggleForm(t)})),u.Mc(9," \xd7 "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",23),u.Ub(11,"dynamic-form",24),u.cc("cancelFxn",(function(){u.Ac(i);var t=u.gc().$implicit;return u.gc().toggleForm(t)}))("submitModel",(function(t){return u.Ac(i),u.gc(2).receiveModel(t)})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc().$implicit,a=u.gc();u.Cb("colspan",(null==a.tab?null:a.tab.bankConfs.length)+1),u.Bb(11),u.nc("model",n)("submitted",a.submitted)("baseCancel",!0)}}function bt(t,e){if(1&t){var i=u.Vb();u.Ub(0,"tr"),u.Kc(1,lt,3,3,"td",11),u.Ub(2,"td",12),u.Ub(3,"button",13),u.cc("click",(function(){u.Ac(i);var t=e.$implicit;return u.gc().toggleForm(t)})),u.Mc(4," Edit "),u.Tb(),u.Tb(),u.Kc(5,st,12,4,"td",14),u.Tb()}if(2&t){var n=e.$implicit,a=u.gc();u.Bb(1),u.nc("ngForOf",null==a.tab?null:a.tab.bankConfs),u.Bb(1),u.nc("hidden",n.showInline),u.Bb(3),u.nc("ngIf",n.showInline)}}function dt(t,e){if(1&t){var i=u.Vb();u.Ub(0,"td",26),u.Ub(1,"div",27),u.Ub(2,"div",28),u.Ub(3,"div",29),u.Ub(4,"div",30),u.Ub(5,"mat-icon"),u.Mc(6," info_circle "),u.Tb(),u.Tb(),u.Ub(7,"div",31),u.Mc(8," There is currently no bank account registered for this organization "),u.Tb(),u.Ub(9,"div",32),u.Ub(10,"button",33),u.cc("click",(function(){return u.Ac(i),u.gc(2).toggleCreateForm()})),u.Ub(11,"mat-icon"),u.Mc(12,"add"),u.Tb(),u.Mc(13,"\xa0 ADD ACCOUNT "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc(2);u.Cb("colspan",(null==n.tab?null:n.tab.bankConfs.length)+1)}}function ut(t,e){if(1&t){var i=u.Vb();u.Ub(0,"td",16),u.Ub(1,"div",17),u.Ub(2,"mat-card",18),u.Ub(3,"div",19),u.Ub(4,"div",20),u.Ub(5,"div",21),u.Mc(6," ADD BANK DETAILS "),u.Tb(),u.Ub(7,"div"),u.Ub(8,"span",22),u.cc("click",(function(){return u.Ac(i),u.gc(2).toggleCreateForm()})),u.Mc(9," \xd7 "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",23),u.Ub(11,"dynamic-form",34),u.cc("cancelFxn",(function(){return u.Ac(i),u.gc(2).toggleCreateForm()}))("submitModel",(function(t){return u.Ac(i),u.gc(2).receiveModel(t)})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc(2);u.Cb("colspan",(null==n.tab?null:n.tab.bankConfs.length)+1),u.Bb(11),u.nc("submitted",n.submitted)("baseCancel",!0)}}function gt(t,e){if(1&t&&(u.Ub(0,"tr"),u.Kc(1,dt,14,1,"td",25),u.Kc(2,ut,12,3,"td",14),u.Tb()),2&t){var i=u.gc();u.Bb(1),u.nc("ngIf",!i.showForm),u.Bb(1),u.nc("ngIf",i.showForm)}}var pt,ft=((pt=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.loading=!0,this.list=[]}return a(t,[{key:"toggleForm",value:function(t){t.showInline=!t.showInline}},{key:"toggleCreateForm",value:function(){this.showForm=!this.showForm}},{key:"getBankAccount",value:function(){var t=this;this._dataLayer.list("organization-bank-accounts",{current_org_id:this.organization,organization:this.parentKey?this.item[this.parentKey]:this.item.id}).subscribe((function(e){t.list=e.results,t.loading=!1}),(function(e){t.loading=!1,console.log(e)}))}},{key:"receiveModel",value:function(t){var e=this;Object(l.has)(t,"id")?this._dataLayer.update("organization-bank-accounts",t.id,t,{key:"current_org_id",value:this.organization}).subscribe((function(){e.getBankAccount()}),(function(t){return console.log(t)})):(t=Object.assign(Object.assign({},t),{organization:this.item.id}),this._dataLayer.create("organization-bank-accounts",t).subscribe((function(){e.getBankAccount()}),(function(t){return console.log(t)})))}},{key:"ngOnInit",value:function(){this.organization=Object(l.get)(JSON.parse(this._authConfig.getOrganization()),"organization",null),this.getBankAccount()}}]),t}()).\u0275fac=function(t){return new(t||pt)(u.Ob(s.a),u.Ob(E.a))},pt.\u0275cmp=u.Ib({type:pt,selectors:[["tabbed-inline-list"]],inputs:{tab:"tab",item:"item",parentKey:"parentKey"},decls:18,vars:3,consts:[[1,"card"],[1,"card-header","pt-3","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13"],[1,"thead-light","font-size-12"],["class","border-0 pl-20",4,"ngFor","ngForOf"],[1,"border-0","pl-20"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","pl-20 vertical-align-center","valign","middle",3,"hidden",4,"ngFor","ngForOf"],["valign","middle",1,"vertical-align-center",3,"hidden"],["mat-stroked-button","","color","accent",3,"click"],["class","bg-light-grey py-3 px-5",4,"ngIf"],["valign","middle",1,"pl-20","vertical-align-center",3,"hidden"],[1,"bg-light-grey","py-3","px-5"],[1,"col-12","col-lg-8",2,"margin","auto"],[1,"card","p-0"],[1,"card-header","py-0"],[1,"d-flex"],[1,"flex-fill","pt-3"],[1,"font-size-28","text-muted",2,"cursor","pointer",3,"click"],[1,"card-body","px-5","pt-5"],["btnText","SAVE","btnClass","tiny","store","organization-bank-accounts","btnStatus","primary",3,"model","submitted","baseCancel","cancelFxn","submitModel"],["class","pb-0 mb-0",4,"ngIf"],[1,"pb-0","mb-0"],[1,"w-100-p","px-3"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex","align-items-center"],[1,"pr-20"],[1,"flex-fill"],[1,"pr-8"],["mat-raised-button","","color","default",1,"pl-3","mt-n2",3,"click"],["btnText","SAVE","btnClass","tiny","store","organization-bank-accounts","btnStatus","primary",3,"submitted","baseCancel","cancelFxn","submitModel"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"mat-icon"),u.Mc(5,"account_balance"),u.Tb(),u.Mc(6,"\xa0"),u.Tb(),u.Ub(7,"div"),u.Mc(8,"Bank Account"),u.Tb(),u.Tb(),u.Tb(),u.Ub(9,"div",4),u.Ub(10,"div"),u.Ub(11,"table",5),u.Ub(12,"thead",6),u.Kc(13,ct,2,1,"th",7),u.Pb(14,"th",8),u.Tb(),u.Ub(15,"tbody"),u.Kc(16,bt,6,3,"tr",9),u.Kc(17,gt,3,2,"tr",10),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(13),u.nc("ngForOf",null==e.tab?null:e.tab.bankConfs),u.Bb(3),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length)))},directives:[m.a,p.s,p.t,h.b,D.a,G.a],encapsulation:2}),pt),mt=c("o4Yh"),ht=c("SqCe"),vt=c("UhP/");function Tt(t,e){if(1&t&&(u.Ub(0,"th",17),u.Mc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Oc(" ",null==i?null:i.title," ")}}function yt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function Ut(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"span"),u.Mc(2),u.Tb(),u.Kc(3,yt,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Nc(n.activityDetails[i.key]),u.Bb(1),u.nc("ngIf",!n.activityDetails[i.key])}}function _t(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function Ot(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.Mc(2),u.hc(3,"date"),u.Tb(),u.Kc(4,_t,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Nc(u.jc(3,2,n.activityDetails[i.key],"dd-MM-yyyy")),u.Bb(2),u.nc("ngIf",!n.activityDetails[i.key])}}function Mt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function At(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.Mc(2),u.hc(3,"currency"),u.Tb(),u.Kc(4,Mt,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Nc(u.jc(3,2,n.activityDetails[i.key],"Kshs ")),u.Bb(2),u.nc("ngIf",!n.activityDetails[i.key])}}function xt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function kt(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.Mc(2),u.hc(3,"currency"),u.Tb(),u.Kc(4,xt,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Nc(u.jc(3,2,n.activityDetails[i.key],"Kshs ")),u.Bb(2),u.nc("ngIf",!n.activityDetails[i.key])}}function It(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function Ct(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.Mc(2),u.hc(3,"currency"),u.Tb(),u.Kc(4,It,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(2),u.Nc(u.jc(3,2,n.activityDetails[i.key],"Kshs ")),u.Bb(2),u.nc("ngIf",!n.activityDetails[i.key])}}function wt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function Bt(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"span"),u.hc(2,"lowercase"),u.Mc(3),u.Tb(),u.Kc(4,wt,2,0,"mat-icon",19),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(1),u.Eb("badge ",u.ic(2,5,n.activityDetails[i.key]),""),u.Bb(2),u.Oc(" ",n.activityDetails[i.key]," "),u.Bb(1),u.nc("ngIf",!n.activityDetails[i.key])}}function St(t,e){if(1&t&&(u.Ub(0,"div"),u.Kc(1,Ut,4,2,"div",19),u.Kc(2,Ot,5,5,"span",19),u.Kc(3,At,5,5,"span",19),u.Kc(4,kt,5,5,"span",19),u.Kc(5,Ct,5,5,"span",19),u.Kc(6,Bt,5,7,"span",19),u.Tb()),2&t){var i=u.gc().$implicit;u.Bb(1),u.nc("ngIf","title"===i.key),u.Bb(1),u.nc("ngIf","activity_date"===i.key),u.Bb(1),u.nc("ngIf","total"===i.key),u.Bb(1),u.nc("ngIf","rationalized_total"===i.key),u.Bb(1),u.nc("ngIf","actual_total"===i.key),u.Bb(1),u.nc("ngIf","status"===i.key)}}function zt(t,e){if(1&t&&(u.Ub(0,"td",18),u.Kc(1,St,7,6,"div",19),u.Tb()),2&t){var i=u.gc();u.Bb(1),u.nc("ngIf",i.activityDetails)}}function Et(t,e){if(1&t&&(u.Ub(0,"mat-list-item",20),u.Ub(1,"mat-icon",21),u.Mc(2,"note"),u.Tb(),u.Ub(3,"h4",22),u.Mc(4),u.Tb(),u.Ub(5,"div",23),u.Ub(6,"div",24),u.Ub(7,"p",25),u.Ub(8,"span",14),u.Mc(9,"Rationalized:"),u.Tb(),u.Mc(10),u.hc(11,"currency"),u.Tb(),u.Tb(),u.Ub(12,"div",26),u.Ub(13,"p",25),u.Ub(14,"span",14),u.Mc(15,"Approved:"),u.Tb(),u.Mc(16),u.hc(17,"currency"),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=e.$implicit;u.Bb(4),u.Nc(i.title),u.Bb(6),u.Oc("\xa0 ",u.jc(11,3,i.rationalized_total,"Kshs ")," "),u.Bb(6),u.Oc("\xa0 ",u.jc(17,6,i.actual_total,"Kshs ")," ")}}var Pt,Dt=((Pt=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.gridConf=[{title:"Title",key:"title"},{title:"Activity Date",key:"activity_date"},{title:"Applied",key:"total"},{title:"Rationalized",key:"rationalized_total"},{title:"Approved Total",key:"actual_total"}]}return a(t,[{key:"getItemBudget",value:function(){var t=this;this._dataLayer.get("organization-budgets",this.item.budget,{current_org_id:this.orgId}).subscribe((function(e){t.activityBudget=e,t._dataLayer.list("organization-budget-activities",{current_org_id:t.orgId,org_budget:t.item.budget}).subscribe((function(e){t.activityBudget.activities=e.results}),(function(t){return console.log(t)}))}),(function(t){return console.log(t)}))}},{key:"getItemActivity",value:function(){var t=this;this._dataLayer.get("organization-budget-activities",this.item.activity,{current_org_id:this.orgId}).subscribe((function(e){t.activityDetails=e}),(function(t){return console.log(t)}))}},{key:"ngOnInit",value:function(){this.organization=JSON.parse(this._authConfig.getOrganization()),this.orgId=Object(l.get)(this.organization,"organization"),this.getItemActivity(),this.getItemBudget()}}]),t}()).\u0275fac=function(t){return new(t||Pt)(u.Ob(s.a),u.Ob(E.a))},Pt.\u0275cmp=u.Ib({type:Pt,selectors:[["activity-summary"]],inputs:{activity:"activity",item:"item"},features:[u.Ab([s.a])],decls:37,vars:12,consts:[[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-2","pb-1","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-16","pt-0"],[1,"table","borderless","font-ize-13","mb-0"],[1,"thead-light","font-size-12"],["class","border-0 pl-20",4,"ngFor","ngForOf"],["class","pl-20",4,"ngFor","ngForOf"],[1,"pb-0"],[1,"card","border-0","mb-n3"],[3,"opened","closed"],[1,"text-muted"],[1,"mt-n5"],["class","ml-n3 py-0 mb-n3",4,"ngFor","ngForOf"],[1,"border-0","pl-20"],[1,"pl-20"],[4,"ngIf"],[1,"ml-n3","py-0","mb-n3"],["matListIcon",""],["matLine",""],["matLine","",1,"list-inline","d-flex","flex-row","font-size-12","mb-0"],[1,"list-inline-item","pl-0"],[1,"demo-2"],[1,"list-inline-item","pl-3"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div",4),u.Ub(5,"div",5),u.Ub(6,"mat-icon"),u.Mc(7,"games"),u.Tb(),u.Mc(8,"\xa0"),u.Tb(),u.Ub(9,"div"),u.Mc(10,"Activity"),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",6),u.Ub(12,"div"),u.Ub(13,"table",7),u.Ub(14,"thead",8),u.Kc(15,Tt,2,1,"th",9),u.Tb(),u.Ub(16,"tbody"),u.Ub(17,"tr"),u.Kc(18,zt,2,1,"td",10),u.Tb(),u.Ub(19,"tr"),u.Ub(20,"td",11),u.Ub(21,"div",12),u.Ub(22,"mat-accordion"),u.Ub(23,"mat-expansion-panel",13),u.cc("opened",(function(){return e.panelOpenState=!0}))("closed",(function(){return e.panelOpenState=!1})),u.Ub(24,"mat-expansion-panel-header"),u.Ub(25,"mat-panel-title"),u.Ub(26,"span",14),u.Mc(27,"Total Budget"),u.Tb(),u.Mc(28),u.hc(29,"currency"),u.Tb(),u.Ub(30,"mat-panel-description"),u.Mc(31," Budget Date: \xa0"),u.Ub(32,"b"),u.Mc(33),u.hc(34,"date"),u.Tb(),u.Tb(),u.Tb(),u.Ub(35,"mat-list",15),u.Kc(36,Et,18,9,"mat-list-item",16),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(15),u.nc("ngForOf",e.gridConf),u.Bb(3),u.nc("ngForOf",e.gridConf),u.Bb(2),u.Cb("colspan",null==e.gridConf?null:e.gridConf.length),u.Bb(8),u.Oc(" \xa0 -\xa0 ",u.jc(29,6,null==e.activityBudget?null:e.activityBudget.actual_total,"Kshs ")," "),u.Bb(5),u.Nc(u.jc(34,9,null==e.activityDetails?null:e.activityDetails.created,"dd-MM-yyyy")),u.Bb(3),u.nc("ngForOf",null==e.activityBudget?null:e.activityBudget.activities))},directives:[m.a,p.s,mt.a,mt.c,mt.e,mt.f,mt.d,ht.a,p.t,ht.c,ht.b,vt.j],pipes:[p.d,p.f,p.p],styles:["[_nghost-%COMP%]    {width:100%}[_nghost-%COMP%]     .back-arrow i:hover{cursor:pointer;text-shadow:1px 3px 1px rgba(0,0,0,.3)}[_nghost-%COMP%]     .main-cont{background-color:#146b3a!important;width:auto!important;transition:all .5s cubic-bezier(0,0,.2,1)!important;left:13rem;right:0;padding:3.05rem 4.5rem 7.5rem;margin-bottom:-4.75rem}[_nghost-%COMP%]     .main-cont .title{font-size:2rem;color:#fff}[_nghost-%COMP%]     .back-btn{color:#fff}[_nghost-%COMP%]     .back-btn:hover{cursor:pointer;text-shadow:1px 3px 1px rgba(0,0,0,.3)}[_nghost-%COMP%]     .badge.created, [_nghost-%COMP%]     .badge.draft, [_nghost-%COMP%]     .badge.on_going, [_nghost-%COMP%]     .badge.open, [_nghost-%COMP%]     .badge.pending{background-color:#ffc107;color:#212529}[_nghost-%COMP%]     .badge.assigned, [_nghost-%COMP%]     .badge.first_level_approved, [_nghost-%COMP%]     .badge.rationalized, [_nghost-%COMP%]     .badge.submitted{background-color:#2196f3;color:#fff}[_nghost-%COMP%]     .badge.cancelled, [_nghost-%COMP%]     .badge.rejected{background-color:#dc3545;color:#fff}[_nghost-%COMP%]     .badge.overdue{background-color:#343a40;color:#fff}[_nghost-%COMP%]     .badge.accepted, [_nghost-%COMP%]     .badge.approved, [_nghost-%COMP%]     .badge.completed, [_nghost-%COMP%]     .badge.final_approved, [_nghost-%COMP%]     .badge.finished, [_nghost-%COMP%]     .badge.sasdef_approved{background-color:#28a745;color:#fff}[_nghost-%COMP%]     #print{display:none}@media print{[_nghost-%COMP%]     #no-print{display:none!important}[_nghost-%COMP%]     #print{display:flex}[_nghost-%COMP%]     #print body, [_nghost-%COMP%]     #print h1, [_nghost-%COMP%]     #print h2, [_nghost-%COMP%]     #print h3, [_nghost-%COMP%]     #print h4, [_nghost-%COMP%]     #print html, [_nghost-%COMP%]     #print img, [_nghost-%COMP%]     #print p{margin:0}[_nghost-%COMP%]     #print h1{font-size:18pt;font-weight:500;margin-bottom:.5cm}[_nghost-%COMP%]     #print h2{font-size:16pt;font-weight:500}[_nghost-%COMP%]     #print p{font-size:12pt}[_nghost-%COMP%]     #print .items-group{border:1pt solid #000;border-radius:5pt;padding:3pt;margin:9pt 0}[_nghost-%COMP%]     #print .logotipo{width:6cm;height:4cm;margin:-.5cm}[_nghost-%COMP%]     #print .label{font-weight:500}[_nghost-%COMP%]     #print .address p, [_nghost-%COMP%]     #print .disclaimer{font-size:10pt}[_nghost-%COMP%]     #print .signature-field{padding-bottom:24pt;border-bottom:1pt solid #000}}"]}),Pt);function Ft(t,e){1&t&&u.Pb(0,"th",13)}function Kt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function Nt(t,e){if(1&t&&(u.Ub(0,"span"),u.Ub(1,"a",18),u.Ub(2,"mat-icon"),u.Mc(3,"cloud_download"),u.Tb(),u.Mc(4,"\xa0 Download "),u.Tb(),u.Tb()),2&t){var i=u.gc(2).$implicit;u.Bb(1),u.Cb("href",i.file.file,u.Cc)}}function jt(t,e){1&t&&(u.Ub(0,"span",19),u.Ub(1,"span",20),u.Mc(2," No Attachment "),u.Tb(),u.Tb())}function Lt(t,e){if(1&t&&(u.Ub(0,"td",16),u.Kc(1,Nt,5,1,"span",12),u.Kc(2,jt,3,0,"span",17),u.Tb()),2&t){var i=u.gc().$implicit;u.Bb(1),u.nc("ngIf",null==i?null:i.file),u.Bb(1),u.nc("ngIf",!(null!=i&&i.file))}}function Rt(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",14),u.Ub(2,"span"),u.hc(3,"lowercase"),u.Mc(4),u.hc(5,"removeUnderscore"),u.Tb(),u.Tb(),u.Ub(6,"td",14),u.Ub(7,"span"),u.Mc(8),u.hc(9,"date"),u.Tb(),u.Tb(),u.Ub(10,"td",14),u.Mc(11),u.Kc(12,Kt,2,0,"mat-icon",12),u.Tb(),u.Kc(13,Lt,3,2,"td",15),u.Tb()),2&t){var i=e.$implicit,n=u.gc();u.Bb(2),u.Eb("badge ",u.ic(3,8,null==i?null:i.review_status),""),u.Bb(2),u.Oc(" ",u.ic(5,10,null==i?null:i.review_status)," "),u.Bb(4),u.Oc(" ",u.jc(9,12,null==i?null:i.created,"medium")," "),u.Bb(3),u.Oc(" ",null==i?null:i.comment," "),u.Bb(1),u.nc("ngIf",!(null!=i&&i.comment)),u.Bb(1),u.nc("ngIf",n.hasAction)}}function Vt(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",21),u.Ub(2,"div",22),u.Ub(3,"div",23),u.Ub(4,"div",24),u.Ub(5,"div",25),u.Ub(6,"mat-icon"),u.Mc(7," info_circle "),u.Tb(),u.Tb(),u.Ub(8,"div"),u.Mc(9),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc();u.Bb(9),u.Oc(" There are currently no status update for this ",i.context," ")}}var $t,qt=(($t=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.organization={},this.list=[],this.storesMap=[{context:"Budget",store:"organization-budget-reviews",paramKey:"org_budget"},{context:"Application",store:"application-reviews",paramKey:"application"}],this.hasAction=!1}return a(t,[{key:"getAuditTrail",value:function(t){var e,n=this;Object(l.isUndefined)(t)||(e=i({current_org_id:this.organization},t.paramKey,this.item.id),this._dataLayer.list(t.store,Object.assign({},e)).subscribe((function(e){n.list=e.results,"application-reviews"===t.store&&(n.hasAction=!0,n.list.forEach((function(t){n._dataLayer.list("application-review-attachments",{current_org_id:n.organization,application_review:t.id}).subscribe((function(e){var i=e.results||[];i.length&&(t.file=i[0].attachment_data)}),(function(t){return console.log(t)}))})))}),(function(t){return console.log(t)})))}},{key:"ngOnInit",value:function(){this.organization=Object(l.get)(JSON.parse(this._authConfig.getOrganization()),"organization",null);var t=Object(l.find)(this.storesMap,{context:this.context});this.getAuditTrail(t)}}]),t}()).\u0275fac=function(t){return new(t||$t)(u.Ob(s.a),u.Ob(E.a))},$t.\u0275cmp=u.Ib({type:$t,selectors:[["audit-trail"]],inputs:{context:"context",item:"item"},features:[u.Ab([s.a])],decls:25,vars:4,consts:[[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-2","pb-1","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13","mb-0"],[1,"thead-light","font-size-12"],[1,"border-0","pl-20"],["style","width:1px;",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"width","1px"],[1,"pl-20","align-middle"],["class","pr-3 align-middle",4,"ngIf"],[1,"pr-3","align-middle"],["class","d-flex ml-2",4,"ngIf"],["mat-stroked-button","","download","","target","_blank"],[1,"d-flex","ml-2"],[1,"badge","badge-secondary","p-2"],["colspan","4",1,"pb-12","mb-0"],[1,"w-100-p","px-3"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex"],[1,"pr-20"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div",4),u.Ub(5,"div",5),u.Ub(6,"mat-icon"),u.Mc(7,"assessment"),u.Tb(),u.Mc(8,"\xa0"),u.Tb(),u.Ub(9,"div"),u.Mc(10),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",6),u.Ub(12,"div"),u.Ub(13,"table",7),u.Ub(14,"thead",8),u.Ub(15,"th",9),u.Mc(16," Status "),u.Tb(),u.Ub(17,"th",9),u.Mc(18," Updated On "),u.Tb(),u.Ub(19,"th",9),u.Mc(20," Comment "),u.Tb(),u.Kc(21,Ft,1,0,"th",10),u.Tb(),u.Ub(22,"tbody"),u.Kc(23,Rt,14,15,"tr",11),u.Kc(24,Vt,10,1,"tr",12),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(10),u.Oc("",e.context||"Budget"," Status"),u.Bb(11),u.nc("ngIf",e.hasAction),u.Bb(2),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length)))},directives:[m.a,p.t,p.s,h.a],pipes:[p.p,N.a,p.f],styles:["[_nghost-%COMP%]     .badge.created, [_nghost-%COMP%]     .badge.draft, [_nghost-%COMP%]     .badge.on_going, [_nghost-%COMP%]     .badge.open, [_nghost-%COMP%]     .badge.pending{background-color:#ffc107;color:#212529}[_nghost-%COMP%]     .badge.assigned, [_nghost-%COMP%]     .badge.first_level_approved, [_nghost-%COMP%]     .badge.submitted{background-color:#2196f3;color:#fff}[_nghost-%COMP%]     .badge.cancelled, [_nghost-%COMP%]     .badge.rejected{background-color:#dc3545;color:#fff}[_nghost-%COMP%]     .badge.overdue{background-color:#343a40;color:#fff}[_nghost-%COMP%]     .badge.accepted, [_nghost-%COMP%]     .badge.approved, [_nghost-%COMP%]     .badge.completed, [_nghost-%COMP%]     .badge.final_approved, [_nghost-%COMP%]     .badge.finished{background-color:#28a745;color:#fff}"]}),$t);function Gt(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1," remove "),u.Tb())}function Jt(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",18),u.Mc(2),u.Tb(),u.Ub(3,"td",18),u.Mc(4),u.hc(5,"date"),u.Kc(6,Gt,2,0,"mat-icon",17),u.Tb(),u.Ub(7,"td",19),u.Ub(8,"a",20),u.Ub(9,"mat-icon"),u.Mc(10,"cloud_download"),u.Tb(),u.Mc(11," \xa0Download "),u.Tb(),u.Tb(),u.Tb()),2&t){var i=e.$implicit;u.Bb(2),u.Oc(" ",(null==i?null:i.file.name)||"Unknown"," "),u.Bb(2),u.Oc(" ",u.jc(5,4,null==i?null:i.file.created,"medium")," "),u.Bb(2),u.nc("ngIf",!(null!=i&&i.file.created)),u.Bb(2),u.Cb("href",null==i?null:i.file.file,u.Cc)}}function Ht(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",21),u.Ub(2,"div",22),u.Ub(3,"div",23),u.Ub(4,"div",24),u.Ub(5,"div",25),u.Ub(6,"mat-icon"),u.Mc(7," info_circle "),u.Tb(),u.Tb(),u.Ub(8,"div"),u.Mc(9),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc();u.Bb(9),u.Oc(" There are currently no attachments for this ",i.context," ")}}var Zt,Yt=((Zt=function(){function t(e,i){o(this,t),this._dataLayer=e,this._authConfig=i,this.organization={},this.list=[],this.storesMap=[{context:"Budget",store:"organization-budget-attachments",paramKey:"org_budget"}]}return a(t,[{key:"fileChange",value:function(t){var e=this,i={file:t.target.files[0],attachment_type:"ORGANIZATION_BUDGET",budget:this.item.id},n={attachment:"",organization:this.item.organization,org_budget:this.item.id},a=new FormData;a.append("file",i.file),a.append("attachment_type",i.attachment_type),this._dataLayer.uploadFile("attachments",a).subscribe((function(t){n=Object.assign(Object.assign({},n),{attachment:t.id}),e._dataLayer.create("organization-budget-attachments",n).subscribe((function(t){var i=Object(l.find)(e.storesMap,{context:e.context});e.getAuditTrail(i)}),(function(t){return console.log(t)}))}),(function(t){return console.log(t)}))}},{key:"getAuditTrail",value:function(t){var e=this;Object(l.isUndefined)(t)||this._dataLayer.list(t.store,Object.assign({},i({current_org_id:this.organization},t.paramKey,this.item.id))).subscribe((function(t){t.results.map((function(t){e._dataLayer.get("attachments",t.attachment,{current_org_id:e.organization}).subscribe((function(i){t.file=i,e.list.push(t)}),(function(t){console.log(t)}))})),console.log(e.list)}),(function(t){return console.log(t)}))}},{key:"ngOnInit",value:function(){this.organization=Object(l.get)(JSON.parse(this._authConfig.getOrganization()),"organization",null);var t=Object(l.find)(this.storesMap,{context:this.context});this.getAuditTrail(t)}}]),t}()).\u0275fac=function(t){return new(t||Zt)(u.Ob(s.a),u.Ob(E.a))},Zt.\u0275cmp=u.Ib({type:Zt,selectors:[["header-attachments"]],inputs:{context:"context",item:"item"},decls:30,vars:3,consts:[[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-2","pb-1"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"flex-fill"],[1,"actions"],["type","file","id","input-file-id",1,"ng-hide",3,"hidden","change"],["for","input-file-id",1,"mat-button","mat-stroked-button","md-primary","d-flex","pl-3","font-size-12"],[1,"mt-2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13","mb-0"],[1,"font-size-12"],[1,"border-0","pl-20"],[1,"border-0","pr-20",2,"width","1px"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pl-20"],[1,"pr-20",2,"width","1px"],["mat-raised-button","","download","","target","_blank"],["colspan","4",1,"pb-0","mb-0"],[1,"w-100-p","px-3","pb-12"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex"],[1,"pr-20"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div",4),u.Ub(5,"div",5),u.Ub(6,"mat-icon"),u.Mc(7,"attach_file"),u.Tb(),u.Mc(8,"\xa0"),u.Tb(),u.Ub(9,"div",6),u.Mc(10,"Attachments"),u.Tb(),u.Ub(11,"div",7),u.Ub(12,"input",8),u.cc("change",(function(t){return e.fileChange(t)})),u.Tb(),u.Ub(13,"label",9),u.Ub(14,"mat-icon",10),u.Mc(15,"cloud_upload"),u.Tb(),u.Mc(16,"\xa0 \xa0UPLOAD FILE "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(17,"div",11),u.Ub(18,"div"),u.Ub(19,"table",12),u.Ub(20,"thead",13),u.Ub(21,"th",14),u.Mc(22," Name "),u.Tb(),u.Ub(23,"th",14),u.Mc(24," Uploaded At "),u.Tb(),u.Ub(25,"th",15),u.Mc(26," Action "),u.Tb(),u.Tb(),u.Ub(27,"tbody"),u.Kc(28,Jt,12,7,"tr",16),u.Kc(29,Ht,10,1,"tr",17),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(12),u.nc("hidden",!0),u.Bb(16),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length)))},directives:[m.a,p.s,p.t,h.a],pipes:[p.f],styles:[""]}),Zt),Qt=c("l51w"),Wt=c("IheW"),Xt=c("mCNh"),te=c("vkgz"),ee=c("pLZG"),ie=c("lJxs"),ne=c("zrQT"),ae=c("AytR"),oe=c("HC+r");function ce(t,e){1&t&&(u.Ub(0,"div"),u.Mc(1," Description is required "),u.Tb())}function re(t,e){if(1&t&&(u.Ub(0,"div",18),u.Kc(1,ce,2,0,"div",14),u.Tb()),2&t){var i=u.gc();u.Bb(1),u.nc("ngIf",i.f.description.errors.required)}}function le(t,e){1&t&&(u.Ub(0,"div"),u.Mc(1,"This field is required"),u.Tb())}function se(t,e){1&t&&(u.Ub(0,"div"),u.Mc(1,"Only PNG \ud83e\udd21"),u.Tb())}var be,de=((be=function(){function t(e,i,n,a,c){o(this,t),this.http=e,this._formBuilder=i,this._dialogRef=n,this._dataLayer=a,this.data=c,this.progress=0,this.sUrl=ae.a.serverURL}return a(t,[{key:"formInit",value:function(){this.uploadForm=this._formBuilder.group({description:[""],attachment:["",[b.D.required,Object(ne.a)("png")]]})}},{key:"submitForm",value:function(t){var e=this;if(console.log(t,this.uploadForm),t.valid){this.loading=!0;var i,n=this.uploadForm.value,a=n.attachment,o={attachment:"",description:n.description,document_type:this.data.document_type,organization:this.data.organization};this.http.post(this.sUrl+"/common/attachments/",function(t){for(var e=new FormData,i=0,n=Object.keys(t);i<n.length;i++){var a=n[i];e.append(a,t[a])}return e}({file:a,attachment_type:"APPLICATION_DOCUMENT"}),{reportProgress:!0,observe:"events"}).pipe((i=function(t){return e.progress=t},Object(te.a)((function(t){t.type===Wt.d.UploadProgress&&i(Math.round(100*t.loaded/t.total))}))),Object(Xt.a)(Object(ee.a)((function(t){return t.type===Wt.d.Response})),Object(ie.a)((function(t){return t.body})))).subscribe((function(t){e.progress=0,o=Object.assign(Object.assign({},o),{attachment:t.id}),e._dataLayer.create("organization-attachments",o).subscribe((function(t){console.log(t),e.uploadForm.reset(),e.loading=!1,e.closeDialog("regresh"),e._dataLayer.openDynamicSnackBar("File sucessfully uploaded","success")}),(function(t){console.log(t),e.loading=!1}))}),(function(t){console.log(t),e.loading=!1}))}else!function(t){for(var e=0,i=Object.keys(t.controls);e<i.length;e++){var n=i[e];t.controls[n].markAsDirty()}}(this.uploadForm)}},{key:"closeDialog",value:function(t){this._dialogRef.close(t)}},{key:"hasError",value:function(t,e){var i=this.uploadForm.get(t);return i.dirty&&i.hasError(e)}},{key:"ngOnInit",value:function(){console.log(this.data),this.formInit()}},{key:"f",get:function(){return this.uploadForm.controls}}]),t}()).\u0275fac=function(t){return new(t||be)(u.Ob(Wt.b),u.Ob(b.g),u.Ob(d.g),u.Ob(s.a),u.Ob(d.a))},be.\u0275cmp=u.Ib({type:be,selectors:[["attachment-dialog"]],features:[u.Ab([s.a])],decls:28,vars:8,consts:[[1,""],[1,"d-flex","algin-items-center","mb-n3"],[1,"flex-fill"],["mat-dialog-title","",1,"pb-2","font"],["mat-dialog-content","",1,"text-muted","fullwidth"],["name","frm",1,"w-100-p",3,"formGroup","ngSubmit"],[1,"w-100-p","pt-1"],[1,"input-wrapper","fullwidth"],["appearance","outline","color","primary",1,"pb-0","mb-0","w-100-p"],["name","description","id","","matInput","","cols","30","rows","2","formControlName","description","placeholder","Kindly enter a file descripition..."],["class","invalid-feedback",4,"ngIf"],[1,"w-100-p"],["formControlName","attachment",3,"progress"],[1,"invalid-feedback","d-flex"],[4,"ngIf"],[1,"btn-container","d-flex","justify-content-end","w-100-p"],["mat-button","","mat-dialog-close","","type","button",3,"click"],["mat-button","","type","submit",3,"disabled"],[1,"invalid-feedback"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"h4",3),u.Mc(4," Upload Attachment "),u.Tb(),u.Tb(),u.Tb(),u.Ub(5,"div",4),u.Ub(6,"div"),u.Ub(7,"p"),u.Mc(8," Kindly complete the following form below "),u.Tb(),u.Ub(9,"div"),u.Ub(10,"form",5),u.cc("ngSubmit",(function(){return e.submitForm(e.uploadForm)})),u.Ub(11,"div",6),u.Ub(12,"div",7),u.Ub(13,"mat-form-field",8),u.Ub(14,"mat-label"),u.Mc(15,"File Description"),u.Tb(),u.Pb(16,"textarea",9),u.Tb(),u.Tb(),u.Kc(17,re,2,1,"div",10),u.Tb(),u.Ub(18,"div",11),u.Pb(19,"app-file-upload",12),u.Ub(20,"div",13),u.Kc(21,le,2,0,"div",14),u.Kc(22,se,2,0,"div",14),u.Tb(),u.Tb(),u.Ub(23,"div",15),u.Ub(24,"button",16),u.cc("click",(function(){return e.closeDialog()})),u.Mc(25,"CLOSE"),u.Tb(),u.Ub(26,"button",17),u.Mc(27,"SUBMIT"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(10),u.nc("formGroup",e.uploadForm),u.Bb(7),u.nc("ngIf",e.f.description.invalid&&(e.f.description.touched||e.f.description.dirty)),u.Bb(2),u.nc("progress",e.progress),u.Bb(2),u.nc("ngIf",e.hasError("attachment","required")),u.Bb(1),u.nc("ngIf",e.hasError("attachment","requiredFileType")),u.Bb(4),u.Gb("spiner",e.loading),u.nc("disabled",e.loading))},directives:[d.h,d.e,b.F,b.s,b.l,v.c,v.g,T.b,b.e,b.r,b.j,p.t,oe.a,h.b,d.d],styles:['[_nghost-%COMP%]     .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),be),ue=c("pu8Q");function ge(t,e){if(1&t&&(u.Ub(0,"span"),u.Mc(1),u.Tb()),2&t){var i=u.gc().$implicit;u.Eb("badge py-2 px-3 font-size-12 ",null!=i&&i.required?"badge-danger":"badge-info",""),u.Bb(1),u.Oc(" ",null!=i&&i.required?"Required":"Not Required"," ")}}function pe(t,e){1&t&&(u.Ub(0,"span",19),u.Mc(1," Uploaded "),u.Tb())}function fe(t,e){if(1&t){var i=u.Vb();u.Ub(0,"button",20),u.cc("click",(function(){u.Ac(i);var t=u.gc().$implicit;return u.gc().selectDocType(t)})),u.Ub(1,"mat-icon",21),u.Mc(2,"cloud_upload"),u.Tb(),u.Mc(3,"\xa0 Upload "),u.Tb()}}function me(t,e){if(1&t&&(u.Ub(0,"a",22),u.Ub(1,"mat-icon"),u.Mc(2,"cloud_download"),u.Tb(),u.Mc(3,"\xa0 Download "),u.Tb()),2&t){var i=u.gc().$implicit;u.Cb("href",null==i?null:i.attachment_data.file,u.Cc)}}function he(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",12),u.Mc(2),u.Tb(),u.Ub(3,"td",13),u.Kc(4,ge,2,4,"span",14),u.Kc(5,pe,2,0,"span",15),u.Tb(),u.Ub(6,"td",13),u.Mc(7),u.Tb(),u.Ub(8,"td",16),u.Kc(9,fe,4,0,"button",17),u.Kc(10,me,4,1,"a",18),u.Tb(),u.Tb()),2&t){var i=e.$implicit;u.Bb(2),u.Oc(" ",null==i?null:i.name," "),u.Bb(2),u.nc("ngIf",!(null!=i&&i.attachment_data)),u.Bb(1),u.nc("ngIf",null==i?null:i.attachment_data),u.Bb(2),u.Oc(" ",null==i?null:i.description," "),u.Bb(2),u.nc("ngIf",!(null!=i&&i.attachment_data)),u.Bb(1),u.nc("ngIf",null==i?null:i.attachment_data)}}function ve(t,e){1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",23),u.Ub(2,"div",24),u.Pb(3,"mat-spinner",25),u.Tb(),u.Tb(),u.Tb())}function Te(t,e){1&t&&(u.Ub(0,"tr"),u.Ub(1,"td",23),u.Ub(2,"div",26),u.Ub(3,"div",27),u.Ub(4,"div",28),u.Ub(5,"div",29),u.Ub(6,"mat-icon"),u.Mc(7," info_circle "),u.Tb(),u.Tb(),u.Ub(8,"div",30),u.Mc(9," There is currently no documents setup for this organization. Kindly contact the administrator "),u.Tb(),u.Pb(10,"div",31),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb())}var ye,Ue=((ye=function(){function t(e,i,n,a){o(this,t),this._dataLayer=e,this._authConfig=i,this._dialog=n,this._route=a,this.loading=!0,this.list=[]}return a(t,[{key:"fileChange",value:function(t,e){var i=this,n={file:t.target.files[0],attachment_type:"APPLICATION_DOCUMENT",document_type:e.id,organization:this.organization},a=new FormData;a.append("file",n.file),a.append("attachment_type",n.attachment_type);var o={attachment:"",organization:this.organization,document_type:n.document_type};this._dataLayer.uploadFile("attachments",a).subscribe((function(t){o=Object.assign(Object.assign({},o),{attachment:t.id}),i._dataLayer.create("organization-attachments",o,void 0,{key:"current_org_id",value:i.organization}).subscribe((function(t){i.getApplicationAttachments()}),(function(t){return console.log(t)}))}),(function(t){return console.log(t)}))}},{key:"selectDocType",value:function(t){var e=this;this._dialog.open(de,{data:{organization:this.organization,document_type:t}}).afterClosed().subscribe((function(t){console.log(t),"refresh"===t&&e.getDocumentTypes()}))}},{key:"getApplicationAttachments",value:function(){var t=this;this._dataLayer.list("organization-attachments",{organization:this.organization,current_org_id:this.organization}).subscribe((function(e){var i=e.results;t.list=t.list.map((function(t){var e=Object(l.find)(i,{document_type:t.id});return Object(l.isUndefined)(e)||(t.fileObj=e,t.inkedAttachment=e.id,t.attachment_data=e.attachment_data),t}))}),(function(t){return console.log(t)}))}},{key:"getDocumentTypes",value:function(){var t=this,e={org_type:this.linkedOrganization.org_type,current_org_id:this.organization};console.log(e,this.organization),this.loading=!0,this._dataLayer.list("document-types",Object.assign({},e)).subscribe((function(e){t.loading=!1,t.list=e.results,t.getApplicationAttachments()}),(function(e){t.loading=!1,console.log(e)}))}},{key:"getOrgnization",value:function(t){var e=this;this._dataLayer.get("organizations",t,{current_org_id:this.organization}).subscribe((function(t){e.linkedOrganization=t,e.getDocumentTypes()}),(function(t){return console.log(t)}))}},{key:"getParams",value:function(){var t=this;this._route.queryParams.subscribe((function(e){t.linkedOrgId=e.organization,t.getOrgnization(e.organization)}))}},{key:"ngOnInit",value:function(){this.organization=Object(l.get)(JSON.parse(this._authConfig.getOrganization()),"organization",null),this.getParams()}}]),t}()).\u0275fac=function(t){return new(t||ye)(u.Ob(s.a),u.Ob(E.a),u.Ob(d.b),u.Ob(z.a))},ye.\u0275cmp=u.Ib({type:ye,selectors:[["attachments-listing"]],inputs:{tab:"tab",item:"item"},decls:26,vars:3,consts:[[1,"w-100-p"],[1,"card"],[1,"card-header","bg-white","pt-2","pb-1"],[1,"title","flex-fill","font-weight-600","font-size-16","pt-2","pl-3","d-flex","align-items-center"],[1,"flex-fill","pl-3","mt-n2"],[1,"card-body","px-0","pb-1","pt-0"],[1,"table","borderless","font-size-13","mb-0"],[1,"thead-light","font-size-12"],[1,"pl-24"],[2,"width","1px"],[4,"ngFor","ngForOf"],[4,"ngIf"],["valign","middle",1,"pl-24","valign-middle"],["valign","middle",1,"valign-middle"],[3,"class",4,"ngIf"],["class","badge badge-success \n                                py-2 px-3 font-size-12",4,"ngIf"],[1,"pr-24"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-stroked-button","","download","","target","_blank",4,"ngIf"],[1,"badge","badge-success","py-2","px-3","font-size-12"],["mat-stroked-button","",3,"click"],[1,"mt-2"],["mat-stroked-button","","download","","target","_blank"],["colspan","3",1,"pb-0","mb-0","pl-24"],[1,"w-100-p","px-3","d-flex","justify-content-center","py-16"],["diameter","45"],[1,"w-100-p","px-3"],[1,"alert","alert-primary","mb-0","pb-2","pt-3"],[1,"d-flex","align-items-center"],[1,"pr-20"],[1,"flex-fill"],[1,"pr-8"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div"),u.Ub(5,"mat-icon"),u.Mc(6,"attachment"),u.Tb(),u.Mc(7,"\xa0 "),u.Tb(),u.Ub(8,"div",4),u.Mc(9,"Attachments"),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",5),u.Ub(11,"div"),u.Ub(12,"table",6),u.Ub(13,"thead",7),u.Ub(14,"th",8),u.Mc(15," File "),u.Tb(),u.Ub(16,"th"),u.Mc(17," Required "),u.Tb(),u.Ub(18,"th"),u.Mc(19," Description "),u.Tb(),u.Ub(20,"th",9),u.Mc(21," Action "),u.Tb(),u.Tb(),u.Ub(22,"tbody"),u.Kc(23,he,11,6,"tr",10),u.Kc(24,ve,4,0,"tr",11),u.Kc(25,Te,11,0,"tr",11),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(23),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length)&&e.loading),u.Bb(1),u.nc("ngIf",!(null!=e.list&&e.list.length||e.loading)))},directives:[m.a,p.s,p.t,h.b,h.a,ue.b],encapsulation:2}),ye),_e=c("VmX7");function Oe(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",8),u.Ub(1,"dynamic-form",9),u.cc("cancelFxn",(function(){return u.Ac(i),u.gc().closeDialog()}))("submitModel",(function(t){return u.Ac(i),u.gc().receiveModel(t)})),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(1),u.nc("submitted",n.submitted)("baseCancel",!0)("model",n.model)}}function Me(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"div"),u.Ub(2,"div"),u.Ub(3,"div"),u.Ub(4,"p"),u.Mc(5),u.Tb(),u.Ub(6,"div",11),u.Ub(7,"div",12),u.Ub(8,"div",13),u.Mc(9," Applied Total: "),u.Tb(),u.Ub(10,"div",14),u.Mc(11),u.hc(12,"currency"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(13,"p"),u.Mc(14," Ensure that you have rationalized each activity line item, otherwise the applied item amount will be used as the rationalized amount. If you would like to proceed click the "),u.Ub(15,"b"),u.Mc(16,"SUBMIT"),u.Tb(),u.Mc(17," button below. "),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc(2);u.Bb(5),u.Oc(" Kindly confirm that you would like to rationalize ",null==i.item?null:i.item.title," "),u.Bb(6),u.Oc(" ",u.jc(12,2,null==i.item?null:i.item.total,"Kshs ")," ")}}function Ae(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"div"),u.Ub(2,"div"),u.Ub(3,"p"),u.Mc(4),u.Tb(),u.Ub(5,"div",11),u.Ub(6,"div",12),u.Ub(7,"div",13),u.Mc(8," Applied Total: "),u.Tb(),u.Ub(9,"div",14),u.Mc(10),u.hc(11,"currency"),u.Tb(),u.Tb(),u.Ub(12,"div",12),u.Ub(13,"div",15),u.Mc(14," Rationalized: "),u.Tb(),u.Ub(15,"div",14),u.Mc(16),u.hc(17,"currency"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(18,"p"),u.Mc(19," Ensure you have approved each activity line item otherwise the rationalized amount will be used as the approved amount. If you would stil like to proceed click the "),u.Ub(20,"b"),u.Mc(21,"SUBMIT"),u.Tb(),u.Mc(22," button below: "),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc(2);u.Bb(4),u.Oc(" Kindly confirm that you would like to approve ",null==i.item?null:i.item.title," "),u.Bb(6),u.Oc(" ",u.jc(11,3,null==i.item?null:i.item.total,"Kshs ")," "),u.Bb(6),u.Oc(" ",u.jc(17,6,null==i.item?null:i.item.rationalized_total,"Kshs ")," ")}}function xe(t,e){if(1&t&&(u.Ub(0,"div",8),u.Ub(1,"div"),u.Mc(2),u.Tb(),u.Kc(3,Me,18,5,"div",10),u.Kc(4,Ae,23,9,"div",10),u.Tb()),2&t){var i=u.gc();u.Bb(2),u.Nc(null==i.configs?null:i.configs.description),u.Bb(1),u.nc("ngIf","rationalize"===i.context),u.Bb(1),u.nc("ngIf","approve"===i.context)}}function ke(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",16),u.Ub(1,"button",17),u.cc("click",(function(){return u.Ac(i),u.gc().closeDialog()})),u.Mc(2,"CLOSE"),u.Tb(),u.Ub(3,"button",18),u.cc("click",(function(){return u.Ac(i),u.gc().transitionActions()})),u.Mc(4),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(3),u.Gb("spinner",n.loading),u.nc("disabled",n.loading),u.Bb(1),u.Oc(" ",(null==n.configs?null:n.configs.action)||"SUBMIT"," ")}}function Ie(t,e){1&t&&(u.Ub(0,"div"),u.Mc(1," Comment is required "),u.Tb())}function Ce(t,e){if(1&t&&(u.Ub(0,"div",30),u.Kc(1,Ie,2,0,"div",10),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.nc("ngIf",i.f.comment.errors.required)}}function we(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",19),u.Ub(1,"div",20),u.Ub(2,"p"),u.Mc(3," Kindly confirm that you would like to reject the following activity: "),u.Tb(),u.Ub(4,"div",11),u.Ub(5,"div",12),u.Ub(6,"div",13),u.Mc(7," Applied Amount: "),u.Tb(),u.Ub(8,"div",14),u.Mc(9),u.hc(10,"currency"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"form",21),u.cc("ngSubmit",(function(){u.Ac(i);var t=u.gc();return t.submitForm(t.commentForm)})),u.Ub(12,"div",22),u.Ub(13,"div",23),u.Ub(14,"mat-form-field",24),u.Ub(15,"mat-label"),u.Mc(16,"Enter comment*"),u.Tb(),u.Pb(17,"textarea",25),u.Tb(),u.Tb(),u.Kc(18,Ce,2,1,"div",26),u.Tb(),u.Ub(19,"div",27),u.Ub(20,"button",28),u.cc("click",(function(){return u.Ac(i),u.gc().closeDialog()})),u.Mc(21,"CLOSE"),u.Tb(),u.Ub(22,"button",29),u.Mc(23," SUBMIT "),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(9),u.Oc(" ",u.jc(10,6,null==n.item?null:n.item.total,"Kshs ")," "),u.Bb(2),u.nc("formGroup",n.commentForm),u.Bb(7),u.nc("ngIf",n.f.comment.invalid&&(n.f.comment.touched||n.f.comment.dirty)),u.Bb(4),u.Gb("spinner",n.loading),u.nc("disabled",n.loading)}}var Be,Se=((Be=function(){function t(e,i,n,a){var c=this;o(this,t),this._formBuilder=e,this._dialogRef=i,this._dataLayer=n,this.data=a,this.dialogActions={approveApplication:function(){c.getUserOrganization(),c.loading=!0}}}return a(t,[{key:"formInit",value:function(){this.commentForm=this._formBuilder.group({comment:["",b.D.required]}),this.adjustedAmountForm=this._formBuilder.group({adjustedAmount:["",b.D.required]})}},{key:"submitTransition",value:function(t,e){var i=this,n=this.data.store;this.loading=!0,this._dataLayer.update(n,this.item.id,t,{key:"current_org_id",value:this.organization}).subscribe((function(t){console.log(t),i.loading=!1,i.closeDialog("refresh"),i._dataLayer.openDynamicSnackBar(e.succMsg,"success")}),(function(t){console.log(t),i.loading=!1,i._dataLayer.openDynamicSnackBar(e.errMsg,"error")}))}},{key:"transitionActions",value:function(t){var e=function(t){return"Item ".concat(t," successfully")},i=function(t){return"An error occurred during ".concat(t,"ing")};switch(this.context){case"rationalize":var n={succMsg:e("rationalized"),errMsg:i("rationaliz")};this.submitTransition({status:"RATIONALIZED"},n);break;case"approve":var a={succMsg:e("approved"),errMsg:i("approv")};this.submitTransition({status:"SASDEF_APPROVED"},a);break;case"reject":var o={succMsg:e("rejected"),errMsg:i("reject")},c=Object.assign({},t);this.submitTransition(c,o);break;default:throw new Error("No relevant transition action given")}}},{key:"submitForm",value:function(t){console.log(t),t.valid&&"rejected"===this.context&&this.transitionActions({comment:t.value.comment,status:"REJECTED"})}},{key:"closeDialog",value:function(t){this._dialogRef.close(t)}},{key:"getUserOrganization",value:function(){var t=JSON.parse(localStorage.getItem("organization"));this.organization=Object(l.get)(t,"organization",null)}},{key:"receiveModel",value:function(t){console.log(t)}},{key:"setConfigs",value:function(){var t=this.data.context;switch(this.context=this.data.context,this.formInit(),this.getUserOrganization(),t){case"edit":return{title:"Update Activity",type:"form"};case"approve":return{title:"Approve Activity",type:"dialog"};case"rationalize":return{title:"Rationalize Activity",type:"dialog",validationKey:"rationalized_total"};case"reject":return{title:"Reject Activity",type:"comment"};default:throw new Error("Provide a valid option")}}},{key:"ngOnInit",value:function(){this.model=this.data.activity,this.item=this.data.activity,this.configs=this.setConfigs()}},{key:"f",get:function(){return this.commentForm.controls}},{key:"aF",get:function(){return this.adjustedAmountForm.controls}}]),t}()).\u0275fac=function(t){return new(t||Be)(u.Ob(b.g),u.Ob(d.g),u.Ob(s.a),u.Ob(d.a))},Be.\u0275cmp=u.Ib({type:Be,selectors:[["nested-crud-dialog"]],features:[u.Ab([s.a])],decls:10,vars:5,consts:[[1,""],[1,"d-flex","align-items-center","mb-n3"],[1,"flex-fill"],["mat-dialog-title","",1,"pb-2","font"],["mat-dialog-content","","class","text-muted fullwidth",4,"ngIf"],["mat-dialog-actions","","class","pt-5 pb-20 d-flex justify-content-end",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[1,"py-2"],["mat-dialog-content","",1,"text-muted","fullwidth"],["btnClass","tiny mr-3","btnStatus","primary","store","organization-budget-activities","btnText","SAVE",3,"submitted","baseCancel","model","cancelFxn","submitModel"],[4,"ngIf"],[1,"mb-3"],[1,"d-flex"],[1,"text-muted","pr-3"],[1,"font-weight-600"],[1,"text-muted","pr-16"],["mat-dialog-actions","",1,"pt-5","pb-20","d-flex","justify-content-end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","",3,"disabled","click"],["mat-dialog-actions",""],[1,"context","===","'reject'"],["name","frm",1,"w-100-p",3,"formGroup","ngSubmit"],[1,"w-100-p","pt-1"],[1,"input-wrapper","fullwidth"],["appearance","outline","color","primary",1,"pb-0","mb-0","w-100-p"],["name","comment","id","","matInput","","cols","30","rows","6","formControlName","comment","placeholder","Kindly enter a comment..."],["class","invalid-feedback",4,"ngIf"],[1,"btn-container","d-flex","justify-content-end","w-100-p"],["mat-button","","mat-dialog-close","","type","button",3,"click"],["mat-button","","type","submit",3,"disabled"],[1,"invalid-feedback"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"h4",3),u.Mc(4),u.Tb(),u.Tb(),u.Tb(),u.Kc(5,Oe,2,3,"div",4),u.Kc(6,xe,5,3,"div",4),u.Kc(7,ke,5,4,"div",5),u.Kc(8,we,24,9,"div",6),u.Pb(9,"div",7),u.Tb()),2&t&&(u.Bb(4),u.Oc(" ",null==e.configs?null:e.configs.title," "),u.Bb(1),u.nc("ngIf","form"===(null==e.configs?null:e.configs.type)),u.Bb(1),u.nc("ngIf","dialog"===(null==e.configs?null:e.configs.type)),u.Bb(1),u.nc("ngIf","dialog"===(null==e.configs?null:e.configs.type)),u.Bb(1),u.nc("ngIf","comment"===(null==e.configs?null:e.configs.type)))},directives:[d.h,p.t,d.e,G.a,d.c,h.b,d.d,b.F,b.s,b.l,v.c,v.g,T.b,b.e,b.r,b.j],pipes:[p.d],encapsulation:2}),Be),ze=c("rJgo");function Ee(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",11),u.cc("click",(function(){u.Ac(i);var t=e.$implicit;return u.gc().setSelected(t.id)})),u.Ub(1,"div",12),u.Mc(2),u.Tb(),u.Ub(3,"div",13),u.Ub(4,"div",14),u.Ub(5,"div",15),u.Ub(6,"mat-icon",16),u.Mc(7,"attach_money"),u.Tb(),u.Tb(),u.Ub(8,"div",17),u.Mc(9),u.hc(10,"currency"),u.Tb(),u.Tb(),u.Ub(11,"div",18),u.Ub(12,"div",15),u.Ub(13,"mat-icon",19),u.Mc(14,"people"),u.Tb(),u.Tb(),u.Ub(15,"div",20),u.Mc(16),u.Ub(17,"span",21),u.Mc(18," \xa0For\xa0 "),u.Tb(),u.Mc(19),u.hc(20,"number"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=e.$implicit;u.Gb("active",n.active),u.Bb(2),u.Oc(" ",null==n?null:n.allowance_data.name," "),u.Bb(7),u.Oc(" ",u.jc(10,6,null==n?null:n.actual_total,"Kshs ")," "),u.Bb(7),u.Oc(" ",null==n?null:n.head_count," "),u.Bb(3),u.Oc(" ",u.jc(20,9,null==n?null:n.days,"1.0")," day(s) ")}}function Pe(t,e){if(1&t){var i=u.Vb();u.Ub(0,"button",34),u.cc("click",(function(){u.Ac(i);var t=e.$implicit;return u.gc(2).openDialog(t.context)})),u.Ub(1,"mat-icon"),u.Mc(2),u.Tb(),u.Mc(3),u.Tb()}if(2&t){var n=e.$implicit;u.Bb(1),u.Db(null==n?null:n.iconClass),u.Bb(1),u.Oc(" ",null==n?null:n.icon," "),u.Bb(1),u.Oc(" ",null==n?null:n.text," ")}}function De(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",22),u.Ub(1,"div",23),u.Ub(2,"mat-card",24),u.Ub(3,"div",25),u.Ub(4,"div",26),u.Ub(5,"div",27),u.Mc(6," Select Members "),u.Tb(),u.Ub(7,"div",28),u.Ub(8,"mat-menu",null,29),u.Kc(10,Pe,4,4,"button",30),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"mat-card-body",31),u.Ub(12,"div",32),u.Ub(13,"dynamic-table",33),u.cc("postCRUDFxn",(function(){return u.Ac(i),u.gc().refreshSelected()})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){var n=u.gc();u.Bb(10),u.nc("ngForOf",n.actActions),u.Bb(3),u.nc("tabbedItem",n.item)("largeForms",!0)("addOrg",!0)("customHeader",!0)("modelKey",null==n.configs?null:n.configs.modelKey)("cmptParams",n.cmptParams)("headers",null==n.configs?null:n.configs.headers)("no-card",!0)("has-action",!0)("store",null==n.configs?null:n.configs.getStore)("topActions",null==n.configs?null:n.configs.topActions)("hasSearch",!0)("dropDownActions",null==n.configs?null:n.configs.actions)("rows",n.configs.rows)}}var Fe,Ke=((Fe=function(){function t(e,i,n){o(this,t),this._route=e,this._dataLayer=i,this._dialog=n,this.onNavigate=new u.n,this.list=[],this.nestedList=[],this.loading=!0,this.cmptParams={},this.actActions=[]}return a(t,[{key:"changeStep",value:function(t){this.onNavigate.emit(t)}},{key:"loadActions",value:function(){var t=this,e=Object(l.get)(JSON.parse(localStorage.getItem("organization")),"org_type",null);this.actActions=[{text:"Edit",icon:"edit",iconClass:"text-primary",context:"edit",status:["DRAFT"],bpType:["SPORTS_ORGANIZATION","GOVERNMENT_AGENCY"]},{text:"Rationalize",icon:"compare_arrows",iconClass:"text-success",context:"rationalize",status:["DRAFT"],bpType:["MINISTRY","SASDEF"]},{text:"Approve",icon:"check",iconClass:"text-success",context:"approve",status:["RATIONALIZED"],bpType:["SASDEF"]},{text:"Reject",icon:"close",iconClass:"text-danger",context:"reject",status:["DRAFT","RATIONALIZED"],bpType:["MINISTRY","SASDEF"]}].filter((function(i){var n=Object(l.indexOf)(i.bpType,e),a=Object(l.indexOf)(i.status,t.item.status);if(n>=0&&a>=0)return i}))}},{key:"openDialog",value:function(t){var e=this;this._dialog.open(Se,{data:{context:t,store:"application-allowances",activity:this.selectedAllowance},width:"50%"}).afterClosed().subscribe((function(t){console.log(t),"refresh"===t&&(e.loading=!1,e.refreshSelected())}))}},{key:"refreshSelected",value:function(){var t=this;this._dataLayer.get("application-allowances",this.selectedAllowance.id,{current_org_id:this.orgId}).subscribe((function(e){t.selectedAllowance=Object.assign(Object.assign({},e),{active:!0}),t.list=t.list.map((function(t){return t.id===e.id&&(t=Object.assign(Object.assign({},e),{active:!0})),t}))}),(function(e){t.loading=!1,console.log(e)}))}},{key:"setSelected",value:function(t){if(this.list.length){var e=Object(l.find)(this.list,{active:!0});if(Object(l.isUndefined)(e)&&Object(l.isUndefined)(t))this.list[0].active=!0,this.selectedAllowance=void 0,this.presetAllowance(0);else if(Object(l.isUndefined)(t))this.selectedAllowance=Object(l.indexOf)(this.list,e);else{var i=Object(l.indexOf)(this.list,Object(l.find)(this.list,{id:t}));console.log(i),this.selectedAllowance=void 0,this.presetAllowance(i)}}}},{key:"presetAllowance",value:function(t){var e=this;this.loading=!0;var i=Object(l.indexOf)(this.list,Object(l.find)(this.list,{active:!0}));this.selectedAllowance=void 0,i>=0&&(this.list[i].active=!1),this.list[t].active=!0,this.getNestedList(this.list[t].id),this._dataLayer.get("organization-budget-activity-allowances",this.list[t].id,{current_org_id:this.orgId}).subscribe((function(i){e.selectedAllowance=e.list[t]||i,e.cmptParams=Object.assign(Object.assign({},e.cmptParams),{budget_activity_allowance:e.list[t].id}),e.loading=!1}),(function(t){console.log(t),e.loading=!1}))}},{key:"getNestedList",value:function(t){var e=this;this._dataLayer.list("application-allowances",{current_org_id:this.orgId,budget_activity_allowance:t}).subscribe((function(t){e.nestedList=t.results}),(function(t){return console.log(t)}))}},{key:"getMainList",value:function(){var t=this;this._dataLayer.list("organization-budget-activity-allowances",{current_org_id:this.orgId,budget_activity:this.item.activity}).subscribe((function(e){t.list=e.results,t.setSelected()}),(function(t){return console.log(t)}))}},{key:"getItem",value:function(){var t=this;this._dataLayer.get("applications",this.itemId,{current_org_id:this.orgId}).subscribe((function(e){console.log(e),t.item=e,t.getMainList()}),(function(t){return console.log(t)}))}},{key:"getItemId",value:function(){var t=this;this._route.queryParams.subscribe((function(e){parseInt(e.current,10),t.itemId=parseInt(e.id,10),t.configs=t.tab,console.log(t.configs),t.getItem()}))}},{key:"ngOnInit",value:function(){this.orgId=Object(l.get)(JSON.parse(localStorage.getItem("organization")),"organization",null),console.log("Called",this.orgId),this.getItemId()}}]),t}()).\u0275fac=function(t){return new(t||Fe)(u.Ob(z.a),u.Ob(s.a),u.Ob(d.b))},Fe.\u0275cmp=u.Ib({type:Fe,selectors:[["nested-inline-tabbed-list"]],inputs:{tab:"tab",current:"current"},outputs:{onNavigate:"onNavigate"},features:[u.Ab([s.a])],decls:16,vars:2,consts:[[1,"card","main-wrapper"],[1,"card-header","pt-3","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-0","pt-0"],[1,"w-100-p","d-flex","flex-row","px-0"],[1,"h-100-p","overflow-auto","innerScroll","page-layout","col-lg-3","main-list"],[1,"ps"],["fuseperfectscrollbar","",1,"mail-list","overflow-auto"],["class","list-item",3,"active","click",4,"ngFor","ngForOf"],["class","col-lg-9 overflow-auto innerScroll px-0 mt-1\n                bg-light pb-12",4,"ngIf"],[1,"list-item",3,"click"],[1,"pb-0"],[1,"d-flex","flex-column","align-items-start"],[1,"d-flex","flex-row","align-items-center","fullwidth","ml-n1"],[1,"pt-2"],[1,"font-size-18","text-muted"],[1,"font-size-14","text-muted","pl-1"],[1,"d-flex","flex-row","align-items-center","fullwidth","pt-0","mt-n2"],[1,"font-size-16","text-muted"],[1,"font-size-14","text-muted"],[1,"font-weight-bold"],[1,"col-lg-9","overflow-auto","innerScroll","px-0","mt-1","bg-light","pb-12"],[1,"full-width","bg-light","px-16","pt-12","pb-2"],[1,"mat-elevation-z1","p-0","mb-2","w-100-p"],[1,"card-header","bg-white","font-size-16"],[1,"d-flex","flex-row"],[1,"flex-fill","pb-1","pl-8","title","pt-2"],[1,"pt-1","pr-3"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"p-0"],[1,"w-100-p","mt-0","px-0"],["title","Listing",1,"w-100-p",3,"tabbedItem","largeForms","addOrg","customHeader","modelKey","cmptParams","headers","no-card","has-action","store","topActions","hasSearch","dropDownActions","rows","postCRUDFxn"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"mat-icon"),u.Mc(5,"account_balance_wallet"),u.Tb(),u.Tb(),u.Ub(6,"div"),u.Mc(7," Allowances "),u.Tb(),u.Tb(),u.Tb(),u.Ub(8,"div",4),u.Ub(9,"div"),u.Ub(10,"div",5),u.Ub(11,"div",6),u.Ub(12,"div",7),u.Ub(13,"div",8),u.Kc(14,Ee,21,12,"div",9),u.Tb(),u.Tb(),u.Tb(),u.Kc(15,De,14,15,"div",10),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(14),u.nc("ngForOf",e.list),u.Bb(1),u.nc("ngIf",e.selectedAllowance&&!e.loading))},directives:[m.a,p.s,p.t,D.a,ze.d,Qt.a,ze.a],pipes:[p.d,p.g],styles:["[_nghost-%COMP%]     .btn-icon{min-width:1rem;width:1rem}[_nghost-%COMP%]     .btn-icon:first-of-type{margin-left:-.5rem}[_nghost-%COMP%]     .mat-success{background-color:teal!important;color:#fff!important}[_nghost-%COMP%]     .main-wrapper{flex:1 1 auto;flex-direction:column;box-sizing:border-box}[_nghost-%COMP%]     .main-wrapper .main-card-content{min-height:55.5vh;max-height:85.5vh;border-left:1px solid #e0e0e0}[_nghost-%COMP%]     .main-wrapper .main-list{flex:1 1 0%;box-sizing:border-box;position:relative;display:flex;flex-direction:column;flex:1;padding:0;overflow-y:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .main-wrapper .main-list .mail-list{position:relative;display:flex;flex-direction:column;flex:1;min-height:55vh;max-height:85.5vh}[_nghost-%COMP%]     .main-wrapper .main-list .list-item{flex-shrink:0;position:relative;padding:16px 24px;cursor:pointer;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]     .main-wrapper .main-list .list-item.active{background:rgba(0,0,0,.04)}[_nghost-%COMP%]     .main-wrapper .badge.created, [_nghost-%COMP%]     .main-wrapper .badge.draft, [_nghost-%COMP%]     .main-wrapper .badge.on_going, [_nghost-%COMP%]     .main-wrapper .badge.open, [_nghost-%COMP%]     .main-wrapper .badge.pending{background-color:#ffc107;color:#212529}[_nghost-%COMP%]     .main-wrapper .badge.assigned, [_nghost-%COMP%]     .main-wrapper .badge.first_level_approved, [_nghost-%COMP%]     .main-wrapper .badge.rationalized, [_nghost-%COMP%]     .main-wrapper .badge.submitted{background-color:#2196f3;color:#fff}[_nghost-%COMP%]     .main-wrapper .badge.cancelled, [_nghost-%COMP%]     .main-wrapper .badge.rejected{background-color:#dc3545;color:#fff}[_nghost-%COMP%]     .main-wrapper .badge.overdue{background-color:#343a40;color:#fff}[_nghost-%COMP%]     .main-wrapper .badge.accepted, [_nghost-%COMP%]     .main-wrapper .badge.approved, [_nghost-%COMP%]     .main-wrapper .badge.completed, [_nghost-%COMP%]     .main-wrapper .badge.final_approved, [_nghost-%COMP%]     .main-wrapper .badge.finished{background-color:#28a745;color:#fff}[_nghost-%COMP%]     .mat-mini-fab .mat-button-wrapper{padding-top:0!important}"]}),Fe),Ne=c("ura0");function je(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",31),u.Ub(1,"span",32),u.cc("click",(function(){return u.Ac(i),u.gc().goBack()})),u.Ub(2,"mat-icon",33),u.Mc(3," arrow_back "),u.Tb(),u.Tb(),u.Tb()}}function Le(t,e){if(1&t&&(u.Ub(0,"mat-icon"),u.Mc(1),u.Tb()),2&t){var i=u.gc(2).$implicit;u.Bb(1),u.Nc(null==i?null:i.icon)}}function Re(t,e){if(1&t){var i=u.Vb();u.Ub(0,"button",38),u.cc("click",(function(){u.Ac(i);var t=u.gc().$implicit;return u.gc(3).headerActions[t.action](null==t?null:t.configs,null==t?null:t.btnText)})),u.Kc(1,Le,2,1,"mat-icon",13),u.Mc(2),u.Tb()}if(2&t){var n=u.gc().$implicit;u.nc("color",n.color),u.Bb(1),u.nc("ngIf",null==n?null:n.icon),u.Bb(1),u.Oc(" \xa0",null==n?null:n.btnText," ")}}function Ve(t,e){if(1&t&&(u.Ub(0,"span"),u.Kc(1,Re,3,3,"button",37),u.Tb()),2&t){var i=e.$implicit,n=u.gc(3);u.Bb(1),u.nc("ngIf",n.statusChecker(i)&&n.authChecker(i))}}function $e(t,e){if(1&t&&(u.Ub(0,"div",36),u.Kc(1,Ve,2,1,"span",16),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.nc("ngForOf",null==i.headerConfig?null:i.headerConfig.actions)}}function qe(t,e){if(1&t&&(u.Ub(0,"div",34),u.Kc(1,$e,2,1,"div",35),u.Tb()),2&t){var i=u.gc();u.Bb(1),u.nc("ngIf",null==i.item?null:i.item.id)}}function Ge(t,e){1&t&&(u.Sb(0),u.Mc(1," Loading tabs... "),u.Rb())}function Je(t,e){if(1&t&&u.Mc(0),2&t){var i=u.gc().$implicit;u.Nc(i.label)}}function He(t,e){if(1&t){var i=u.Vb();u.Ub(0,"div",50),u.Ub(1,"button",51),u.cc("click",(function(){return u.Ac(i),u.gc(3).downloadSummary()})),u.Ub(2,"mat-icon",52),u.Mc(3," get_app "),u.Tb(),u.Mc(4," \xa0"),u.Ub(5,"span",53),u.Mc(6,"SUMMARY"),u.Tb(),u.Tb(),u.Tb()}}function Ze(t,e){if(1&t&&(u.Ub(0,"div"),u.Mc(1),u.hc(2,"currency"),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc(3);u.Bb(1),u.Oc(" ",u.jc(2,1,n.item[i.key],"Kshs ")," ")}}function Ye(t,e){if(1&t&&(u.Ub(0,"div"),u.Mc(1),u.hc(2,"date"),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc(3);u.Bb(1),u.Oc(" ",u.jc(2,1,n.item[i.key],"dd-MM-yyyy")," ")}}function Qe(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"span"),u.hc(2,"lowercase"),u.Mc(3),u.hc(4,"removeUnderscore"),u.Tb(),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc(3);u.Bb(1),u.Eb("badge ",u.ic(2,4,n.item[i.key])," \n                                                        px-2 pb-1 pt-2 font-size-10"),u.Bb(2),u.Oc(" ",u.ic(4,6,n.item[i.key])," ")}}function We(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"nested-string",60),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc(3);u.Bb(1),u.nc("type",i.fieldType)("config",i)("item",n.item)}}function Xe(t,e){if(1&t&&(u.Ub(0,"div"),u.Kc(1,Ze,3,4,"div",13),u.Kc(2,Ye,3,4,"div",13),u.Kc(3,Qe,5,8,"div",13),u.Kc(4,We,2,3,"div",13),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc(3);u.Bb(1),u.nc("ngIf","currency"===i.type),u.Bb(1),u.nc("ngIf","date"===i.type),u.Bb(1),u.nc("ngIf","status"===i.type&&(null==n.item?null:n.item.id)),u.Bb(1),u.nc("ngIf","nested"===i.type&&n.item.organization)}}function ti(t,e){if(1&t&&(u.Ub(0,"div",61),u.Mc(1),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc(3);u.Bb(1),u.Oc(" ",n.removeUnderscore(n.item[i.key])," ")}}function ei(t,e){1&t&&(u.Ub(0,"span"),u.Ub(1,"mat-icon"),u.Mc(2," remove "),u.Tb(),u.Tb())}function ii(t,e){if(1&t&&(u.Ub(0,"div",54),u.Ub(1,"div",55),u.Ub(2,"div",36),u.Ub(3,"mat-icon",56),u.Mc(4),u.Tb(),u.Tb(),u.Ub(5,"div",57),u.Ub(6,"div",58),u.Mc(7),u.Tb(),u.Ub(8,"div"),u.Kc(9,Xe,5,4,"div",13),u.Kc(10,ti,2,1,"div",59),u.Kc(11,ei,3,0,"span",13),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=e.$implicit,n=u.gc(3);u.Bb(4),u.Oc(" ",i.icon," "),u.Bb(3),u.Oc(" ",i.label," "),u.Bb(2),u.nc("ngIf",i.type),u.Bb(1),u.nc("ngIf",!i.type),u.Bb(1),u.nc("ngIf",!n.item[i.key])}}function ni(t,e){1&t&&u.Qb(0)}function ai(t,e){if(1&t&&(u.Ub(0,"div",62),u.Kc(1,ni,1,0,"ng-container",63),u.Tb()),2&t){u.gc(3);var i=u.wc(25);u.Bb(1),u.nc("ngTemplateOutlet",i)}}function oi(t,e){1&t&&u.Qb(0)}function ci(t,e){if(1&t&&(u.Ub(0,"div",62),u.Kc(1,oi,1,0,"ng-container",63),u.Tb()),2&t){u.gc(3);var i=u.wc(27);u.Bb(1),u.nc("ngTemplateOutlet",i)}}function ri(t,e){if(1&t&&(u.Ub(0,"div",64),u.Pb(1,"organization-summary",65),u.Tb()),2&t){var i=u.gc(3);u.Bb(1),u.nc("organization",i.item.organization_data)}}function li(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"application-me",66),u.Tb()),2&t){var i=u.gc(3);u.Bb(1),u.nc("item",i.item)}}function si(t,e){if(1&t&&(u.Ub(0,"div",67),u.Pb(1,"tabbed-inline-list",68),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(1),u.nc("tab",i)("item",n.item)("parentKey",null==i?null:i.parentKey)}}function bi(t,e){if(1&t&&(u.Ub(0,"div",64),u.Pb(1,"activity-summary",69),u.Tb()),2&t){var i=u.gc(3);u.Bb(1),u.nc("activity",i.item.organization_data)("item",i.item)}}function di(t,e){if(1&t&&(u.Ub(0,"div",64),u.Pb(1,"audit-trail",70),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(1),u.nc("context",i.context)("item",n.item)}}function ui(t,e){if(1&t&&(u.Ub(0,"div",64),u.Pb(1,"header-attachments",70),u.Tb()),2&t){var i=u.gc(2).$implicit,n=u.gc();u.Bb(1),u.nc("context",i.context)("item",n.item)}}function gi(t,e){if(1&t&&(u.Ub(0,"div",41),u.Ub(1,"div",42),u.Ub(2,"div",43),u.Mc(3),u.hc(4,"uppercase"),u.Tb(),u.Kc(5,He,7,0,"div",44),u.Tb(),u.Ub(6,"div",45),u.Kc(7,ii,12,5,"div",46),u.Tb(),u.Kc(8,ai,2,1,"div",47),u.Kc(9,ci,2,1,"div",47),u.Kc(10,ri,2,1,"div",48),u.Kc(11,li,2,1,"div",13),u.Kc(12,si,2,3,"div",49),u.Kc(13,bi,2,2,"div",48),u.Kc(14,di,2,2,"div",48),u.Kc(15,ui,2,2,"div",48),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(2),u.Gb("pt-3","Application"===i.context),u.Bb(1),u.Oc(" ",u.ic(4,13,i.context||"ORAGNIZATION")," DETAILS "),u.Bb(2),u.nc("ngIf","Application"===(null==i?null:i.context)&&"SASDEF"===n.orgType),u.Bb(2),u.nc("ngForOf",i.detailsConf),u.Bb(1),u.nc("ngIf",(null==n.item?null:n.item.id)&&(null==i?null:i.extraDetails)),u.Bb(1),u.nc("ngIf",(null==n.item?null:n.item.id)&&(null==i?null:i.totalsSummary)),u.Bb(1),u.nc("ngIf",null==i?null:i.orgSummary),u.Bb(1),u.nc("ngIf",(null==i?null:i.applicationME)&&(null==n.item?null:n.item.id)),u.Bb(1),u.nc("ngIf",(null==i?null:i.bankConfs)&&(null==n.item?null:n.item.id)),u.Bb(1),u.nc("ngIf",(null==n.item?null:n.item.id)&&(null==i?null:i.activitySummary)),u.Bb(1),u.nc("ngIf",(null==i?null:i.auditTrail)&&(null==n.item?null:n.item.id)),u.Bb(1),u.nc("ngIf",(null==i?null:i.attachments)&&(null==n.item?null:n.item.id))}}function pi(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"dynamic-table",71),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(1),u.nc("tabbedItem",n.item)("addOrg",!0)("modelKey",null==i?null:i.modelKey)("cmptParams",null==i?null:i.cmptParams)("headers",null==i?null:i.headers)("no-card",!0)("has-action",!0)("store",null==i?null:i.gridConf.getStore)("dropDownActions",null==i?null:i.dropDownActions)("topActions",null==i?null:i.topActions)("hasSearch",!0)("actions",null==i?null:i.actions)("rows",i.rows)}}function fi(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"attachments-listing",72),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(1),u.nc("tab",i)("item",n.item)}}function mi(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"nested-list",66),u.Tb()),2&t){var i=u.gc(2);u.Bb(1),u.nc("item",i.item)}}function hi(t,e){if(1&t&&(u.Ub(0,"div"),u.Pb(1,"nested-inline-tabbed-list",73),u.Tb()),2&t){var i=u.gc().$implicit,n=u.gc();u.Bb(1),u.nc("item",n.item)("tab",i)}}function vi(t,e){if(1&t&&(u.Ub(0,"mat-tab"),u.Kc(1,Je,1,1,"ng-template",39),u.Kc(2,gi,16,15,"div",40),u.Kc(3,pi,2,13,"div",13),u.Kc(4,fi,2,2,"div",13),u.Kc(5,mi,2,1,"div",13),u.Kc(6,hi,2,2,"div",13),u.Tb()),2&t){var i=e.$implicit,n=e.index,a=u.gc();u.Bb(2),u.nc("ngIf","form"===i.content&&n===a.currIndex),u.Bb(1),u.nc("ngIf","grid"===i.content&&n===a.currIndex&&(null==a.item?null:a.item.id)),u.Bb(1),u.nc("ngIf","attachments"===i.content&&n===a.currIndex&&(null==a.item?null:a.item.id)),u.Bb(1),u.nc("ngIf","nested-list"===i.content&&(null==a.item?null:a.item.id)&&n==a.currIndex),u.Bb(1),u.nc("ngIf","nested-inline-list"===i.content&&(null==a.item?null:a.item.id))}}function Ti(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1,"remove"),u.Tb())}function yi(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1,"remove"),u.Tb())}var Ui=function(t,e){return{"text-danger":t,"text-success":e}};function _i(t,e){if(1&t&&(u.Ub(0,"span",86),u.Mc(1),u.hc(2,"number"),u.Ub(3,"span"),u.Mc(4,"%"),u.Tb(),u.Tb()),2&t){var i=u.gc(2);u.nc("ngClass",u.rc(5,Ui,(null==i.item?null:i.item.total)>i.item.activity_actual_total,(null==i.item?null:i.item.total)<i.item.activity_actual_total)),u.Bb(1),u.Oc(" ",u.jc(2,2,(null==i.item?null:i.item.total)/(null==i.item?null:i.item.activity_actual_total),"1.1-2")," ")}}function Oi(t,e){if(1&t&&(u.Ub(0,"div",74),u.Ub(1,"div",75),u.Ub(2,"div",76),u.Ub(3,"div",77),u.Ub(4,"div",78),u.Ub(5,"div",79),u.Ub(6,"mat-icon"),u.Mc(7,"assignment"),u.Tb(),u.Mc(8,"\xa0 "),u.Tb(),u.Ub(9,"div"),u.Mc(10,"Other Application Details"),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",80),u.Ub(12,"div"),u.Ub(13,"table",81),u.Ub(14,"thead",82),u.Ub(15,"th",83),u.Mc(16," Type "),u.Tb(),u.Ub(17,"th"),u.Mc(18," Organization "),u.Tb(),u.Ub(19,"th"),u.Mc(20," Organization Type "),u.Tb(),u.Ub(21,"th"),u.Mc(22," Rationalized "),u.Tb(),u.Ub(23,"th"),u.Mc(24," Approved "),u.Tb(),u.Ub(25,"th"),u.Mc(26," Variance "),u.Tb(),u.Tb(),u.Ub(27,"tbody"),u.Ub(28,"tr"),u.Ub(29,"td",83),u.Ub(30,"span",84),u.Mc(31),u.Tb(),u.Tb(),u.Ub(32,"td"),u.Mc(33),u.Tb(),u.Ub(34,"td",61),u.Mc(35),u.hc(36,"removeUnderscore"),u.Tb(),u.Ub(37,"td"),u.Mc(38),u.hc(39,"currency"),u.Kc(40,Ti,2,0,"mat-icon",13),u.Tb(),u.Ub(41,"td"),u.Mc(42),u.hc(43,"currency"),u.Kc(44,yi,2,0,"mat-icon",13),u.Tb(),u.Ub(45,"td"),u.Kc(46,_i,5,8,"span",85),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc();u.Bb(31),u.Oc(" ",null==i.item?null:i.item.application_type," "),u.Bb(2),u.Oc(" ",null==i.item?null:i.item.organization_data.name," "),u.Bb(2),u.Oc(" ",u.ic(36,8,null==i.item?null:i.item.organization_data.org_type_code)," "),u.Bb(3),u.Oc(" ",u.jc(39,10,null==i.item?null:i.item.rationalized_total,"Kshs ")," "),u.Bb(2),u.nc("ngIf",!(null!=i.item&&i.item.rationalized_total)),u.Bb(2),u.Oc(" ",u.jc(43,13,null==i.item?null:i.item.actual_total,"Kshs ")," "),u.Bb(2),u.nc("ngIf",!(null!=i.item&&i.item.actual_total)),u.Bb(2),u.nc("ngIf",null==i.item?null:i.item.total)}}function Mi(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1,"remove"),u.Tb())}function Ai(t,e){1&t&&(u.Ub(0,"mat-icon"),u.Mc(1,"remove"),u.Tb())}function xi(t,e){if(1&t&&(u.Ub(0,"div",74),u.Ub(1,"div",87),u.Ub(2,"div",76),u.Ub(3,"div",77),u.Ub(4,"div",78),u.Ub(5,"div",79),u.Ub(6,"mat-icon"),u.Mc(7,"monetization_on"),u.Tb(),u.Mc(8,"\xa0 "),u.Tb(),u.Ub(9,"div"),u.Mc(10,"Totals Summary"),u.Tb(),u.Tb(),u.Tb(),u.Ub(11,"div",88),u.Ub(12,"div"),u.Ub(13,"table",89),u.Ub(14,"thead",90),u.Ub(15,"th",83),u.Mc(16," Applied Total "),u.Tb(),u.Ub(17,"th"),u.Mc(18," Rationalized Total "),u.Tb(),u.Ub(19,"th"),u.Mc(20," Approved Total "),u.Tb(),u.Tb(),u.Ub(21,"tbody"),u.Ub(22,"tr"),u.Ub(23,"td",83),u.Mc(24),u.hc(25,"currency"),u.Tb(),u.Ub(26,"td"),u.Mc(27),u.hc(28,"currency"),u.Kc(29,Mi,2,0,"mat-icon",13),u.Tb(),u.Ub(30,"td"),u.Mc(31),u.hc(32,"currency"),u.Kc(33,Ai,2,0,"mat-icon",13),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){var i=u.gc();u.Bb(24),u.Oc(" ",u.jc(25,5,null==i.item?null:i.item.total,"Kshs ")," "),u.Bb(3),u.Oc(" ",u.jc(28,8,null==i.item?null:i.item.rationalized_total,"Kshs ")," "),u.Bb(2),u.nc("ngIf",!(null!=i.item&&i.item.rationalized_total)),u.Bb(2),u.Oc(" ",u.jc(32,11,null==i.item?null:i.item.actual_total,"Kshs ")," "),u.Bb(2),u.nc("ngIf",!(null!=i.item&&i.item.actual_total))}}var ki,Ii=((ki=function(){function e(t,i,n,a,c,r,l){var s=this;o(this,e),this._router=t,this._route=i,this._authConfig=n,this._tabsService=a,this._dataLayer=c,this._dialog=r,this._authChecker=l,this.item={},this.tabs=[],this.currIndex=0,this.cmptParams={},this.headerActions={submit:function(t,e){s.openDialog(t,e)},rationalize:function(t,e){s.openDialog(t,e)},approve:function(t,e){s.openDialog(t,e)},reject:function(t,e){s.openDialog(t,e)}}}return a(e,[{key:"goBack",value:function(){this._router.navigate([this.listRoute])}},{key:"openDialog",value:function(t,e){var i=this;this._dialog.open(B,{data:{item:this.item,configs:t,action:e},width:"40%"}).afterClosed().subscribe((function(t){console.log(t),"refresh"===t&&i.getItem()}))}},{key:"statusChecker",value:function(t){return Object(l.indexOf)(t.activeStates,this.item.status)>=0}},{key:"authChecker",value:function(t){return!Object(l.has)(t,"bpType")||this._authChecker.isActionAllowed(t.bpType,t.roles)}},{key:"setCmptParams",value:function(){var t=this;this.tabs.tabs=this.tabs.tabs.map((function(e){if(Object(l.has)(e,"modelKey")){var n=Object(l.get)(e,"listParams",{});return Object.assign(Object.assign({},e),{cmptParams:Object.assign(i({},e.modelKey,t.item.id),n)})}return e})),this.loadTabs(this.tabs.tabs)}},{key:"getItem",value:function(){var t=this;this.item={},this._dataLayer.get(this.apiStore,this.itemId,{current_org_id:this.organization}).subscribe((function(e){t.item=e,t.setCmptParams()}),(function(t){return console.log(t)}))}},{key:"loadTabs",value:function(e){this.asyncTabs=new r.a((function(i){setTimeout((function(){i.next(t(e))}),250)}))}},{key:"getNested",value:function(t){return!l.isUndefined(t)&&l.isString(t)?l.get(this.item,t,null):t}},{key:"removeUnderscore",value:function(t){return!l.isUndefined(t)&&l.isString(t)?t.replace(/_/g," "):t}},{key:"getRouteConfigs",value:function(){var t=this;this._route.data.subscribe((function(e){t.store=e.store,t.apiStore=e.endPoint,t.listRoute=e.listRoute,t.tabs=t._tabsService.getTabs(t.store);var i=t.tabs.tabs;t.headerConfig=Object.assign({},t.tabs.headerConfig),t.loadTabs(i),t.configs=e.itemConfig,t.getItem()}))}},{key:"setParams",value:function(){var t=this;this._route.queryParams.subscribe((function(e){t.itemId=e.id,t.listParams={organization:e.id},t.getRouteConfigs()}))}},{key:"tabSelectChange",value:function(t){this.currIndex=t.index}},{key:"printPage",value:function(){window.print()}},{key:"downloadSummary",value:function(){var t=this;console.log("Called"),this._dataLayer.get("applications",this.itemId+"/summary_report",{current_org_id:this.organization}).subscribe((function(e){console.log(e),t.printPage()}),(function(e){console.log(e),t.printPage()}))}},{key:"ngOnInit",value:function(){this.headerConfig={},this.user=JSON.parse(this._authConfig.getUser()),this.organization=JSON.parse(this._authConfig.getOrganization()).organization,this.orgType=Object(l.get)(JSON.parse(localStorage.getItem("organization")),"org_type",null),this.setParams()}}]),e}()).\u0275fac=function(t){return new(t||ki)(u.Ob(z.g),u.Ob(z.a),u.Ob(E.a),u.Ob(P.a),u.Ob(s.a),u.Ob(d.b),u.Ob(S.a))},ki.\u0275cmp=u.Ib({type:ki,selectors:[["tabbed-wrapper"]],features:[u.Ab([s.a,S.a])],decls:104,vars:15,consts:[["id","no-print"],[1,"main-cont","header"],[1,"d-flex","w-100-p","align-items-center","pl-3"],["class","pt-12 pr-3",4,"ngIf"],[1,"text-light","px-3","pt-3"],[1,"font-size-48"],[1,"flex-fill","title-cont","pl-5"],[1,"title-text","pt-3","text-light","font-size-20"],[1,"desc-text","text-light","font-size-14","pt-2"],["class","actions pr-4",4,"ngIf"],[1,"px-5"],[1,"w-100-p","raised","mb-5","p-0"],[1,"p-0"],[4,"ngIf"],[3,"selectedTabChange"],["mainTabs",""],[4,"ngFor","ngForOf"],["extraDetails",""],["totalsSummary",""],["id","print"],[1,"container-fluid"],[1,"row","no-gutters"],[1,"col"],["src","../../assets/logotipo.svg","alt","logotipo",1,"logotipo"],[1,"address"],[1,"row","no-gutters","items-group"],[1,"col-3","label"],[1,"col-9"],[1,"label"],[1,"disclaimer"],[1,"disclaimer","signature-field"],[1,"pt-12","pr-3"],["mat-icon-button","","aria-label","Back to list",1,"back-btn",3,"click"],[1,"font-size-28"],[1,"actions","pr-4"],["class","pr-3",4,"ngIf"],[1,"pr-3"],["mat-raised-button","","class","pl-3 mr-3",3,"color","click",4,"ngIf"],["mat-raised-button","",1,"pl-3","mr-3",3,"color","click"],["mat-tab-label",""],["class","mb-5",4,"ngIf"],[1,"mb-5"],[1,"d-flex","px-5","pt-5","pb-3"],[1,"flex-fill","pl-3","text-muted","font-weight-bold","font-size-12"],["class","pb-16 pr-12",4,"ngIf"],[1,"d-flex","w-100-p","px-5","pt-3"],["class","col-lg-3 col-12",4,"ngFor","ngForOf"],["class","px-3",4,"ngIf"],["class","px-3 pt-3",4,"ngIf"],["class","px-40 pt-5 pb-0",4,"ngIf"],[1,"pb-16","pr-12"],["mat-stroked-button","",1,"pl-3",3,"click"],[1,"font-size-22","mt-1"],[1,"font-size-12"],[1,"col-lg-3","col-12"],[1,"d-flex","w-100-p","align-items-center"],[1,"font-size-32","text-success"],[1,"pl-3"],[1,"text-muted","font-size-13"],["class","font-size-13",4,"ngIf"],[3,"type","config","item"],[1,"font-size-13"],[1,"px-3"],[4,"ngTemplateOutlet"],[1,"px-3","pt-3"],[3,"organization"],[3,"item"],[1,"px-40","pt-5","pb-0"],[3,"tab","item","parentKey"],[3,"activity","item"],[3,"context","item"],["title","Listing",1,"w-100-p",3,"tabbedItem","addOrg","modelKey","cmptParams","headers","no-card","has-action","store","dropDownActions","topActions","hasSearch","actions","rows"],[3,"tab","item"],[3,"item","tab"],[1,"w-100-p","pt-3"],[1,"px-5","pt-5","pb-3"],[1,"card"],[1,"card-header","pt-3","pb-1","bg-white"],[1,"pl-3","text-muted","font-weight-bold","pb-2","d-flex","align-items-center"],[1,"pt-2","pr-2"],[1,"card-body","px-0","pb-3","pt-0"],[1,"table","borderless","font-size-14"],[1,"thead-light"],[1,"pl-20"],[1,"badge","badge-secondary","px-3","py-2"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"px-5","pt-5","pb-0"],[1,"card-body","px-0","pb-0","pt-0"],[1,"table","borderless","font-size-13"],[1,"thead-light","font-size-12"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Kc(3,je,4,0,"div",3),u.Ub(4,"div",4),u.Ub(5,"mat-icon",5),u.Mc(6),u.Tb(),u.Tb(),u.Ub(7,"div",6),u.Ub(8,"div",7),u.Mc(9),u.Tb(),u.Ub(10,"div",8),u.Mc(11),u.hc(12,"removeUnderscore"),u.Tb(),u.Tb(),u.Kc(13,qe,2,1,"div",9),u.Tb(),u.Tb(),u.Ub(14,"div",10),u.Ub(15,"div",10),u.Ub(16,"mat-card",11),u.Ub(17,"mat-card-content",12),u.Kc(18,Ge,2,0,"ng-container",13),u.hc(19,"async"),u.Ub(20,"mat-tab-group",14,15),u.cc("selectedTabChange",(function(t){return e.tabSelectChange(t)})),u.Kc(22,vi,7,5,"mat-tab",16),u.hc(23,"async"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Kc(24,Oi,47,16,"ng-template",null,17,u.Lc),u.Kc(26,xi,34,14,"ng-template",null,18,u.Lc),u.Ub(28,"div",19),u.Ub(29,"div",20),u.Ub(30,"div",21),u.Ub(31,"div",22),u.Ub(32,"h1"),u.Mc(33," Assist\xeancia N\xba 1 "),u.Tb(),u.Tb(),u.Tb(),u.Ub(34,"div",21),u.Ub(35,"div",22),u.Pb(36,"img",23),u.Tb(),u.Ub(37,"div",22),u.Ub(38,"h2"),u.Mc(39,"N Repara\xe7\xf5es"),u.Tb(),u.Ub(40,"p"),u.Mc(41,"91 886 73 76"),u.Tb(),u.Ub(42,"div",24),u.Ub(43,"p"),u.Mc(44,"geral@nreparacoes.com"),u.Tb(),u.Ub(45,"p"),u.Mc(46,"Av. Dr. Ribeiro de Magalh\xe3es, 1391"),u.Tb(),u.Ub(47,"p"),u.Mc(48,"Centro Comercial 123, Loja BD"),u.Tb(),u.Ub(49,"p"),u.Mc(50,"4610-108 Felgueiras"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(51,"div",25),u.Ub(52,"div",26),u.Ub(53,"p"),u.Mc(54,"Cliente:"),u.Tb(),u.Ub(55,"p"),u.Mc(56,"Contacto:"),u.Tb(),u.Tb(),u.Ub(57,"div",27),u.Ub(58,"p"),u.Mc(59,"Manuel Alberto Magalh\xe3es Carvalho"),u.Tb(),u.Ub(60,"p"),u.Mc(61,"91 000 00 00"),u.Tb(),u.Tb(),u.Tb(),u.Ub(62,"div",25),u.Ub(63,"div",26),u.Ub(64,"p"),u.Mc(65,"Equipamento:"),u.Tb(),u.Ub(66,"p"),u.Mc(67,"Cor:"),u.Tb(),u.Ub(68,"p"),u.Mc(69,"Serial:"),u.Tb(),u.Ub(70,"p"),u.Mc(71,"Problema:"),u.Tb(),u.Ub(72,"p"),u.Mc(73,"Observa\xe7\xf5es:"),u.Tb(),u.Tb(),u.Ub(74,"div",27),u.Ub(75,"p"),u.Mc(76,"Telem\xf3vel > Apple > Iphone 6"),u.Tb(),u.Ub(77,"p"),u.Mc(78,"Cinza"),u.Tb(),u.Ub(79,"p"),u.Mc(80,"appl2015ewfwejuk23423"),u.Tb(),u.Ub(81,"p"),u.Mc(82,"N\xe3o arranca"),u.Tb(),u.Ub(83,"p"),u.Mc(84,"codigo: 1798 - tem de ficar pronto at\xe9 dia 12/02/2019"),u.Tb(),u.Tb(),u.Tb(),u.Ub(85,"div",25),u.Ub(86,"div",22),u.Ub(87,"p",28),u.Mc(88,"Condi\xe7\xf5es Gerais:"),u.Tb(),u.Ub(89,"ul",29),u.Ub(90,"li"),u.Mc(91,"Prazo para levantar 90 dias"),u.Tb(),u.Ub(92,"li"),u.Mc(93,"Garantia 90 dias"),u.Tb(),u.Ub(94,"li"),u.Mc(95,"Esta assist\xeancia s\xf3 \xe9 entregue a quem apresentar este documento"),u.Tb(),u.Ub(96,"li"),u.Mc(97,"O pre\xe7o acresce 10% a cada 30 dias ap\xf3s fim do prazo de levantamento (taxa de conserva\xe7\xe3o)"),u.Tb(),u.Ub(98,"li"),u.Mc(99,"Os dados do cliente, acima mencionados, ficam registados na N Repara\xe7\xf5es apenas para efeitos de comunica\xe7\xe3o em rela\xe7\xe3o \xe0s suas assist\xeancias e factura\xe7\xe3o "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(100,"div",21),u.Ub(101,"div",22),u.Ub(102,"p",30),u.Mc(103,"Declaro que li e concordo com o disposto neste documento em 03/02/2019"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Bb(3),u.nc("ngIf",e.listRoute),u.Bb(3),u.Oc(" ",e.headerConfig.icon||"business"," "),u.Bb(3),u.Pc(" ",e.headerConfig.headerLabel," ",e.headerConfig.headerValue?e.item[e.headerConfig.headerValue]:null==e.item?null:e.item.name," "),u.Bb(2),u.Pc(" ",e.headerConfig.subTitleLabel," ",e.headerConfig.subTitleValue?e.getNested(e.headerConfig.subTitleValue):u.ic(12,9,null==e.item?null:e.item.org_type_code)," "),u.Bb(2),u.nc("ngIf",null==e.headerConfig?null:e.headerConfig.actions),u.Bb(5),u.nc("ngIf",null===u.ic(19,11,e.asyncTabs)),u.Bb(4),u.nc("ngForOf",u.ic(23,13,e.asyncTabs)))},directives:[p.t,m.a,D.a,D.b,F.b,p.s,h.b,F.a,F.c,K.a,p.A,q,ot,ft,Dt,qt,Yt,Qt.a,Ue,_e.a,Ke,p.q,Ne.a],pipes:[N.a,p.b,p.G,p.d,p.f,p.p,p.g],styles:["[_nghost-%COMP%]    {width:100%}[_nghost-%COMP%]     .back-arrow i:hover{cursor:pointer;text-shadow:1px 3px 1px rgba(0,0,0,.3)}[_nghost-%COMP%]     .main-cont{background-color:#146b3a!important;width:auto!important;transition:all .5s cubic-bezier(0,0,.2,1)!important;left:13rem;right:0;padding:3.05rem 4.5rem 7.5rem;margin-bottom:-4.75rem}[_nghost-%COMP%]     .main-cont .title{font-size:2rem;color:#fff}[_nghost-%COMP%]     .back-btn{color:#fff}[_nghost-%COMP%]     .back-btn:hover{cursor:pointer;text-shadow:1px 3px 1px rgba(0,0,0,.3)}[_nghost-%COMP%]     .badge.created, [_nghost-%COMP%]     .badge.draft, [_nghost-%COMP%]     .badge.on_going, [_nghost-%COMP%]     .badge.open, [_nghost-%COMP%]     .badge.pending{background-color:#ffc107;color:#212529}[_nghost-%COMP%]     .badge.assigned, [_nghost-%COMP%]     .badge.first_level_approved, [_nghost-%COMP%]     .badge.rationalized, [_nghost-%COMP%]     .badge.submitted{background-color:#2196f3;color:#fff}[_nghost-%COMP%]     .badge.cancelled, [_nghost-%COMP%]     .badge.rejected{background-color:#dc3545;color:#fff}[_nghost-%COMP%]     .badge.overdue{background-color:#343a40;color:#fff}[_nghost-%COMP%]     .badge.accepted, [_nghost-%COMP%]     .badge.approved, [_nghost-%COMP%]     .badge.completed, [_nghost-%COMP%]     .badge.final_approved, [_nghost-%COMP%]     .badge.finished, [_nghost-%COMP%]     .badge.sasdef_approved{background-color:#28a745;color:#fff}[_nghost-%COMP%]     #print{display:none}@media print{[_nghost-%COMP%]     #no-print{display:none!important}[_nghost-%COMP%]     #print{display:flex}[_nghost-%COMP%]     #print body, [_nghost-%COMP%]     #print h1, [_nghost-%COMP%]     #print h2, [_nghost-%COMP%]     #print h3, [_nghost-%COMP%]     #print h4, [_nghost-%COMP%]     #print html, [_nghost-%COMP%]     #print img, [_nghost-%COMP%]     #print p{margin:0}[_nghost-%COMP%]     #print h1{font-size:18pt;font-weight:500;margin-bottom:.5cm}[_nghost-%COMP%]     #print h2{font-size:16pt;font-weight:500}[_nghost-%COMP%]     #print p{font-size:12pt}[_nghost-%COMP%]     #print .items-group{border:1pt solid #000;border-radius:5pt;padding:3pt;margin:9pt 0}[_nghost-%COMP%]     #print .logotipo{width:6cm;height:4cm;margin:-.5cm}[_nghost-%COMP%]     #print .label{font-weight:500}[_nghost-%COMP%]     #print .address p, [_nghost-%COMP%]     #print .disclaimer{font-size:10pt}[_nghost-%COMP%]     #print .signature-field{padding-bottom:24pt;border-bottom:1pt solid #000}}"]}),ki)}}])}();
//# sourceMappingURL=5-es5.1cf121cd73c7387e085c.js.map