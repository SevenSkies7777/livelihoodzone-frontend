<div class="w-100-p">
    <div class="card">
        <div class="card-header bg-white pt-2 pb-1">
            <div class="title flex-fill font-weight-600 font-size-16 
            pt-2 pl-3 d-flex align-items-center">
                <div>
                    <mat-icon>attachment</mat-icon>&nbsp;
                </div>
                <div class="flex-fill pl-3 mt-n2">Attachments</div>
            </div>
        </div>
        <div class="card-body px-0 pb-1 pt-0">
            <div>
                <table class="table borderless font-size-13 mb-0">
                    <thead class="thead-light font-size-12">
                        <th class="pl-24">
                            File
                        </th>
                        <th>
                            Required
                        </th>
                        <th>
                            Description
                        </th>
                        <th style="width:1px;">
                            Action
                        </th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let attachment of list">
                            <td class="pl-24 valign-middle" valign="middle">
                                {{ attachment?.name }}
                            </td>
                            <td valign="middle" class="valign-middle">
                                <span class="badge py-2 px-3 font-size-12 {{ 
                                    attachment?.required ? 'badge-danger' : 'badge-info'
                                }}" *ngIf="!attachment?.attachment_data">
                                    {{ attachment?.required ? 'Required' : 'Not Required' }}
                                </span>
                                <span class="badge badge-success 
                                py-2 px-3 font-size-12" 
                                *ngIf="attachment?.attachment_data">
                                    Uploaded
                                </span>
                            </td>
                            <td class="valign-middle" valign="middle">
                                {{ attachment?.description }}
                            </td>
                            <td class="pr-24">
                                <!-- <input [hidden]="true" class="ng-hide" id="input-file-id"
                                (change)="fileChange($event, attachment)" type="file" />
                                <label for="input-file-id" class="mat-button 
                                mat-stroked-button md-primary d-flex"
                                *ngIf="!attachment?.attachment_data">
                                    <mat-icon class="mt-2">cloud_upload</mat-icon>&nbsp;
                                    Upload
                                </label> -->
                                <button mat-stroked-button 
                                *ngIf="!attachment?.attachment_data"
                                (click)="selectDocType(attachment)">
                                    <mat-icon class="mt-2">cloud_upload</mat-icon>&nbsp;
                                    Upload
                                </button>
                                <a mat-stroked-button download target="_blank"
                                *ngIf="attachment?.attachment_data"
                                [attr.href]="attachment?.attachment_data['file']">
                                    <mat-icon>cloud_download</mat-icon>&nbsp;
                                    Download
                                </a>
                            </td>
                        </tr>
                        <tr *ngIf="!list?.length && loading">
                            <td colspan="3" class="pb-0 mb-0 pl-24">
                                <div class="w-100-p px-3 d-flex justify-content-center py-16">
                                    <mat-spinner diameter="45"></mat-spinner>
                                </div>
                            </td>
                        </tr>
                        <tr *ngIf="!list?.length && !loading">
                            <td colspan="3" class="pb-0 mb-0 pl-24">
                                <div class="w-100-p px-3">
                                    <div class="alert alert-primary mb-0 pb-2 pt-3">
                                        <div class="d-flex align-items-center">
                                            <div class="pr-20">
                                                <mat-icon>
                                                    info_circle
                                                </mat-icon>
                                            </div>
                                            <div class="flex-fill">
                                                There is currently no documents setup for this organization.
                                                Kindly contact the administrator
                                            </div>
                                            <div class="pr-8">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>